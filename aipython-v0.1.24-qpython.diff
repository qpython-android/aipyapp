diff --git a/aipyapp/__main__.py b/aipyapp/__main__.py
index 7af1fd6..cac6783 100644
--- a/aipyapp/__main__.py
+++ b/aipyapp/__main__.py
@@ -1,46 +1,24 @@
 #!/usr/bin/env python
 # coding: utf-8
-
-import argparse
 from pathlib import Path
 
-from .aipy.config import CONFIG_DIR
-
-config_help_message = (
-    f"Specify the configuration directory.\nDefaults to {CONFIG_DIR} if not provided."
-)
-
-def ensure_wxpython():
-    try:
-        import wx
-    except:
-        import sys
-        import subprocess
-
-        cp = subprocess.run([sys.executable, "-m", "pip", "install", 'wxpython'])
-        assert cp.returncode == 0
-
-def mainw():
-    def parse_args():
-        parser = argparse.ArgumentParser(description="Python use - AIPython")
-        parser.add_argument("-c", '--config-dir', type=str,
-                            help=config_help_message) # Use the generated help message
-        parser.add_argument('cmd', nargs='?', default=None, help="Task to execute, e.g. 'Who are you?'")
-        return parser.parse_args()
-    args = parse_args()
-
-    ensure_wxpython()
-    from .wxgui import main as aipy_main
-    aipy_main(args)
+from .aipy.config import SETTINGS_FILES
 
 def main():
+    settings_files_help = "\n".join(map(str, SETTINGS_FILES))
+
+    config_help_message = (
+        f"Toml config file. If not provided, searches in:\n{settings_files_help}"
+    )
 
     def parse_args():
-        parser = argparse.ArgumentParser(description="Python use - AIPython", formatter_class=argparse.RawTextHelpFormatter)
-        parser.add_argument("-c", '--config-dir', type=str,
+        import argparse
+        parser = argparse.ArgumentParser(description="AIPyApp on QPython", formatter_class=argparse.RawTextHelpFormatter)
+        parser.add_argument("-c", '--config', type=str, default="aipy.toml",
                             help=config_help_message) # Use the generated help message
         parser.add_argument('-p', '--python', default=False, action='store_true', help="Python mode")
         parser.add_argument('-g', '--gui', default=False, action='store_true', help="GUI mode")
+
         parser.add_argument('cmd', nargs='?', default=None, help="Task to execute, e.g. 'Who are you?'")
         return parser.parse_args()
 
@@ -49,8 +27,7 @@ def main():
     if args.python:
         from .main import main as aipy_main
     elif args.gui:
-        ensure_wxpython()
-        from .wxgui import main as aipy_main
+        from .gui import main as aipy_main
     else:
         from .saas import main as aipy_main
     aipy_main(args)
diff --git a/aipyapp/aipy/config.py b/aipyapp/aipy/config.py
index 02aaae1..4e41646 100644
--- a/aipyapp/aipy/config.py
+++ b/aipyapp/aipy/config.py
@@ -1,92 +1,17 @@
-import sys
-import time
-import requests # Import requests library
 import os
+import sys
 import re
-import io
-import datetime
-import webbrowser
 from pathlib import Path
 
 from dynaconf import Dynaconf
 from rich import print
-import tomli_w
-import qrcode
-
-
-from .i18n import T
-
-__PACKAGE_NAME__ = "aipyapp"
-
-OLD_SETTINGS_FILES = [
-    Path.home() / '.aipy.toml',
-    Path('aipython.toml').resolve(),
-    Path('.aipy.toml').resolve(),
-    Path('aipy.toml').resolve()
-]
-
-# Coordinator æœåŠ¡å™¨åœ°å€
-COORDINATOR_URL = os.getenv('COORDINATOR_URL', 'https://api.trustoken.ai/api')
-POLL_INTERVAL = 5 # è½®è¯¢é—´éš”ï¼ˆç§’ï¼‰
-CONFIG_FILE_NAME = f"{__PACKAGE_NAME__}.toml"
-USER_CONFIG_FILE_NAME = "user_config.toml"
-
-def init_config_dir():
-    """
-    è·å–å¹³å°ç›¸å…³çš„é…ç½®ç›®å½•ï¼Œå¹¶ç¡®ä¿ç›®å½•å­˜åœ¨
-    """
-    if sys.platform == "win32":
-        # Windows è·¯å¾„
-        app_data = os.environ.get("APPDATA")
-        if app_data:
-            config_dir = Path(app_data) / __PACKAGE_NAME__
-        else:
-            config_dir = Path.home() / "AppData" / "Roaming" / __PACKAGE_NAME__
-    else:
-        # Linux/macOS è·¯å¾„
-        config_dir = Path.home() / ".config" / __PACKAGE_NAME__
-
-    # ç¡®ä¿ç›®å½•å­˜åœ¨
-    try:
-        config_dir.mkdir(parents=True, exist_ok=True)
-    except PermissionError:
-        print(T('permission_denied_error').format(config_dir))
-        raise
-    except Exception as e:
-        print(T('error_creating_config_dir').format(config_dir, str(e)))
-        raise
-
-    return config_dir
-
-CONFIG_DIR = init_config_dir()
-
-def get_config_file_path(config_dir=None, file_name=CONFIG_FILE_NAME):
-    """
-    è·å–é…ç½®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
-    :return: é…ç½®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
-    """
-    if config_dir:
-        config_dir = Path(config_dir)
-    else:
-        config_dir = CONFIG_DIR
 
-    config_file_path = config_dir / file_name
 
-    # å¦‚æœé…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶
-    if not config_file_path.exists():
-        try:
-            config_file_path.touch()
-        except Exception as e:
-            print(T('error_creating_config_dir').format(config_file_path, str(e)))
-            raise
+from .i18n import T, set_lang
 
-    return config_file_path
+SETTINGS_FILES = [Path.home() / '.aipy.toml', Path('aipython.toml').resolve(), Path('.aipy.toml').resolve(), Path('aipy.toml').resolve()]
 
-def lowercase_keys(d):
-    """é€’å½’åœ°å°†å­—å…¸ä¸­çš„æ‰€æœ‰é”®è½¬æ¢ä¸ºå°å†™"""
-    if not isinstance(d, dict):
-        return d
-    return {k.lower(): lowercase_keys(v) for k, v in d.items()}
+set_lang((os.getenv('LANG')[:2] if os.getenv('LANG') else "en"))
 
 def is_valid_api_key(api_key):
     """
@@ -95,261 +20,86 @@ def is_valid_api_key(api_key):
     :param api_key: å¾…æ ¡éªŒçš„ API Key å­—ç¬¦ä¸²
     :return: å¦‚æœæ ¼å¼æœ‰æ•ˆè¿”å› Trueï¼Œå¦åˆ™è¿”å› False
     """
-    pattern = r"^[A-Za-z0-9_-]{8,128}$"
+    pattern = r"^[A-Za-z0-9+/=-]{8,128}$"
     return bool(re.match(pattern, api_key))
 
-def request_binding():
-    """å‘ Coordinator è¯·æ±‚ç»‘å®š"""
-    url = f"{COORDINATOR_URL}/request_bind"
-    try:
-        response = requests.post(url, timeout=10)
-        response.raise_for_status()
-
-        data = response.json()
-        approval_url = data['approval_url']
-        request_id = data['request_id']
-        expires_in = data['expires_in']
-
-        print(T('binding_request_sent').format(request_id, approval_url, expires_in))
-        print(T('scan_qr_code'))
-
-        try:
-            qr = qrcode.QRCode(
-                error_correction=qrcode.constants.ERROR_CORRECT_L,
-                border=1
-            )
-            qr.add_data(approval_url)
-            qr.make(fit=True)
-            qr.print_ascii(tty=True)
-            print("\n")
-        except Exception as e:
-            print(T('qr_code_display_failed').format(e))
-
-        return data['request_id']
-
-    except requests.exceptions.RequestException as e:
-        print(T('coordinator_request_error').format(e))
-        return None
-    except Exception as e:
-        print(T('unexpected_request_error').format(e))
-        return None
-
-def poll_status(request_id, save_func=None):
-    """è½®è¯¢ç»‘å®šçŠ¶æ€"""
-    url = f"{COORDINATOR_URL}/check_status"
-    params = {'request_id': request_id}
-    start_time = time.time()
-    polling_timeout = 310
-
-    print(T('waiting_for_approval'))
-    try:
-        while time.time() - start_time < polling_timeout:
-            try:
-                response = requests.get(url, params=params, timeout=10)
-                response.raise_for_status()
-
-                data = response.json()
-                status = data.get('status')
-                print(T('current_status').format(status))
-
-                if status == 'approved':
-                    if save_func:
-                        save_func(data['secret_token'])
-                    return True
-                elif status == 'expired':
-                    print(T('binding_expired'))
-                    return False
-                elif status == 'pending':
-                    pass
-                else:
-                    print(T('unknown_status').format(status))
-                    return False
-
-            except requests.exceptions.RequestException as e:
-                print(T('coordinator_polling_error').format(e))
-                time.sleep(POLL_INTERVAL)
-            except Exception as e:
-                print(T('unexpected_polling_error').format(e))
-                return False
-
-            time.sleep(POLL_INTERVAL)
-    except KeyboardInterrupt:
-        print(T('polling_cancelled'))
-        return False
-
-    print(T('polling_timeout'))
-    return False
-
-def fetch_token(save_func):
-    """ä» Coordinator è·å– Token å¹¶ä¿å­˜"""
-    print(T('start_binding_process'))
-    req_id = request_binding()
-    if req_id:
-        if poll_status(req_id, save_func):
-            print(T('binding_success'))
-        else:
-            print(T('binding_failed'))
-            sys.exit(1)
-    else:
-        print(T('binding_request_failed'))
-        sys.exit(1)
 
 class ConfigManager:
-    def __init__(self, default_config="default.toml",  config_dir=None):
-        self.config_file = get_config_file_path(config_dir)
-        self.user_config_file = get_config_file_path(config_dir, USER_CONFIG_FILE_NAME)
+    def __init__(self, default_config="default.toml", user_config="aipy.toml"):
         self.default_config = default_config
+        self.user_config = user_config
         self.config = self._load_config()
 
-        # old user config, without default config.
-        self._old_user_config = Dynaconf(
-            settings_files=OLD_SETTINGS_FILES,
-            envvar_prefix="AIPY", merge_enabled=True
-        )
-        #print(self.config.to_dict())
-        #print(self._old_user_config.to_dict())
-
     def _load_config(self):
-        config = Dynaconf(
-            settings_files=[self.default_config, self.config_file, self.user_config_file],
-            envvar_prefix="AIPY",
-        )
-        #print(config.to_dict())
+        try:
+            settings_files = [self.default_config] + SETTINGS_FILES[:-1] + [Path(self.user_config).resolve()]
+
+            config = Dynaconf(
+                settings_files=settings_files,
+                envvar_prefix="AIPY", merge_enabled=True
+            )
+        except Exception as e:
+            print(T('error_loading_config').format(e))
+            config = None
         return config
 
     def get_config(self):
         return self.config
 
-    def save_tt_config(self, api_key):
-        config = {
-            'llm': {
-                'trustoken': {
-                    'api_key': api_key,
-                    'type': 'trust',
-                    'base_url': 'https://api.trustoken.ai/v1',
-                    'model': 'auto',
-                    'default': True,
-                    'enable': True
-                }
-            }
-        }
-        header_comments = [
-            f"# Configuration file for {__PACKAGE_NAME__}",
-            "# Auto-generated on " + datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
-            f"# è¯·å‹¿ç›´æ¥ä¿®æ”¹æ­¤æ–‡ä»¶ï¼Œé™¤éæ‚¨äº†è§£å…·ä½“é…ç½®æ ¼å¼ï¼Œå¦‚æœè‡ªå®šä¹‰é…ç½®ï¼Œè¯·æ”¾åˆ°{self.user_config_file}",
-            f"# Please do not edit this file directly unless you understand the format. If you want to customize the configuration, please edit {self.user_config_file}",
-            ""
-        ]
-        footer_comments = [
-            "",
-            "# End of configuration file"
-        ]
-
-        with open(self.config_file, "w", encoding="utf-8") as f:
-            # 1. å†™å…¥å¤´éƒ¨æ³¨é‡Š
-            f.write("\n".join(header_comments) + "\n")
-
-            # 2. å†™å…¥ TOML å†…å®¹åˆ°ä¸´æ—¶å†…å­˜æ–‡ä»¶
-
-            temp_buffer = io.BytesIO()
-            tomli_w.dump(config, temp_buffer)
-            toml_content = temp_buffer.getvalue().decode('utf-8')
-
-            # 3. å†™å…¥ TOML å†…å®¹
-            f.write(toml_content)
-
-            # 4. å†™å…¥å°¾éƒ¨æ³¨é‡Š
-            f.write("\n".join(footer_comments))
-
-        return config
-
     def check_config(self):
+        if not self.config:
+            print(T('config_file_error'))
+            return
 
+        self.check_llm()
+
+    def check_llm(self):
         if not self.config:
             print(T('config_not_loaded'))
             return
-        tt = self.config.get('llm', {}).get('trustoken', {})
-        if tt and tt.get('api_key') and tt.get('type') == 'trust':
-            # valid tt config
-            #print("trustoken config found")
-            return
-        elif self._old_user_config.to_dict():
-            # no tt config, try to migrate from old config
-            # remove this later.
-            self._migrate_old_config(self._old_user_config)
-        else:
-            # try to fetch config from web.
-            fetch_token(self.save_tt_config)
-        
-        # reload config
-        self.config = self._load_config()
 
-    def _migrate_old_config(self, old_config):
-        """
-        ä»old_configä¸­æå–ç¬¦åˆç‰¹å®šæ¡ä»¶çš„API keysï¼Œå¹¶ä»åŸå§‹é…ç½®ä¸­åˆ é™¤
-        
-        è¿”å›: æå–çš„API keyså­—å…¸ï¼Œæ ¼å¼ä¸º {é…ç½®åç§°: API key}
-        """
-        if not old_config:
-            return {}
+        llm = self.config.get("llm")
+        if not llm:
+            print(T('llm_config_not_found'))
 
-        tt_keys = []
+        llms = {}
+        for name, config in self.config.get('llm', {}).items():
+            if config.get("enable", True):
+                llms[name] = config
 
-        # å¤„ç†é¡¶çº§é…ç½®
-        llm = old_config.get('llm', {})
-        for section_name, section_data in list(llm.items()):
-            # è·³è¿‡éå­—å…¸ç±»å‹çš„é…ç½®
-            if not isinstance(section_data, dict):
-                continue
+        if not llms:
+            self._init_llm()
+
+    def _init_llm(self):
+        print(T('pgpttoken_register_instruction').format(self.user_config))
 
-            # æ£€æŸ¥é¡¶çº§é…ç½®
-            if self._is_tt_config(section_name, section_data):
-                api_key = section_data.get('api_key', '')
-                if api_key:
-                    tt_keys.append(api_key)
-                # ä»åŸé…ç½®ä¸­åˆ é™¤
-                llm.pop(section_name)
+        while True:
+            user_token = input(T('prompt_token_input')).strip()
+            if user_token.lower() == "exit":
+                print(T('exit_token_prompt'))
+                sys.exit(0)
+            if not user_token:
+                print(T('no_token_detected'))
+                continue
+            if not is_valid_api_key(user_token):
+                print(T('invalid_token'))
+                continue
 
-        #print("keys found:", tt_keys)
+            self.save_trustoken(user_token)
 
-        if tt_keys:
-            # ä¿å­˜ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„API key
-            self.save_tt_config(tt_keys[0])
+            self.config = self._load_config()
+            break
 
-        #print(old_config.to_dict())
-        # å°† old_config è½¬æ¢ä¸º dict
-        config_dict = lowercase_keys(old_config.to_dict())
+    def save_trustoken(self, token):
+        config_file = self.user_config
         try:
-            with open(self.user_config_file, "wb") as f:
-                tomli_w.dump(config_dict, f)
-                print(T('migrate_config').format(self.user_config_file))
+            with open(config_file, "a") as f:
+                f.write("\n[llm.pgpt]\n")
+                f.write(f'api_key = "{token}"\n')
+                f.write('base_url = "https://openai.pgpt.cloud/v1/"\n')
+                f.write('model = "auto"\n')
+                f.write("default = true\n")
+                f.write("enable = true\n")
+            print(T('token_saved').format(config_file))
         except Exception as e:
-            print(T('error_saving_config').format(self.user_config_file, str(e)))
-        return
-
-    def _is_tt_config(self, name, config):
-        """
-        åˆ¤æ–­é…ç½®æ˜¯å¦ç¬¦åˆç‰¹å®šæ¡ä»¶
-        
-        å‚æ•°:
-            name: é…ç½®åç§°
-            config: é…ç½®å†…å®¹å­—å…¸
-        
-        è¿”å›: å¦‚æœç¬¦åˆæ¡ä»¶è¿”å›True
-        """
-        # æ¡ä»¶1: é…ç½®åç§°åŒ…å«ç›®æ ‡å…³é”®å­—
-        if any(keyword in name.lower() for keyword in ['trustoken', 'trust']):
-            return True
-
-        # æ¡ä»¶2: base_urlåŒ…å«ç›®æ ‡åŸŸå
-        if isinstance(config, dict) and 'base_url' in config:
-            base_url = config['base_url'].lower()
-            if 'trustoken.ai' in base_url:
-                return True
-
-        # æ¡ä»¶3: å…¶ä»–ç‰¹å®šæ ‡è®°
-        # type == trust, ä¸”æ²¡æœ‰base_url.
-        if isinstance(config, dict) and config.get('type') == 'trust' and not config.get('base_url'):
-            return True
-        
-        return False
\ No newline at end of file
+            print(T('token_save_error').format(e))
diff --git a/aipyapp/aipy/i18n.py b/aipyapp/aipy/i18n.py
index afdf834..f4ac80a 100644
--- a/aipyapp/aipy/i18n.py
+++ b/aipyapp/aipy/i18n.py
@@ -56,6 +56,14 @@ MESSAGES = {
             "ç‚¹å‡»â€œå¤åˆ¶â€æŒ‰é’®ï¼Œå¤åˆ¶ä»¤ç‰Œåˆ°å‰ªè´´æ¿ã€‚åœ¨ä¸‹é¢è¿›è¡Œç²˜è´´ã€‚\n"
             "å¦å¤–ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©é€€å‡ºï¼Œç„¶åæ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ {}ï¼Œé…ç½®è‡ªå·±å·²æœ‰çš„å…¶ä»–å¤§æ¨¡å‹ä»¤ç‰Œ"
         ),
+        'pgpttoken_register_instruction': (
+            "å½“å‰ç¯å¢ƒç¼ºå°‘é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ³¨å†ŒPGPTè´¦å·è·å–è¯•ç”¨Tokenã€‚\n"
+            "è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š\n"
+            "1. è®¿é—® https://user.pgpt.cloud/ å®Œæˆè´¦å·æ³¨å†Œ\n"
+            "2. ç™»å½•ååˆ›å»ºAppï¼ˆé€‰æ‹©deepseekï¼‰ã€‚æ“ä½œè¯¦è§æ–‡æ¡£ https://docs.pgpt.cloud/\n"
+            "3. è·å–API Keyå¹¶å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œç„¶ååœ¨æ­¤ç²˜è´´\n"
+            "æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©é€€å‡ºï¼Œç„¶åæ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ {} æ¥é…ç½®å·²æœ‰çš„å…¶ä»–å¤§æ¨¡å‹Token"
+        ),
         'prompt_token_input': "è¯·ç²˜è´´ä»¤ç‰Œå¹¶æŒ‰ Enter é”® (è¾“å…¥ 'exit' é€€å‡º): ",
         'exit_token_prompt': "é€€å‡ºä»¤ç‰Œè¾“å…¥æµç¨‹ã€‚",
         'no_token_detected': "æœªæ£€æµ‹åˆ°ä»¤ç‰Œè¾“å…¥ã€‚",
@@ -136,6 +144,14 @@ MESSAGES = {
             "Click the 'copy' button to copy your token to the clipboard and paste it here.\n"
             "Alternatively, you can exit now, and manually edit the configuration file {} to configure your existing LLM token."
         ),
+        'pgpttoken_register_instruction': (
+            "The current environment is missing configuration files. You need to register a PGPT account to get trial tokens.\n"
+            "Please follow these steps:\n"
+            "1. Visit https://user.pgpt.cloud/ to complete account registration\n"
+            "2. After logging in, create an App (please select deepseek). See documentation: https://docs.pgpt.cloud/\n"
+            "3. Get your API Key, copy it to clipboard, then paste it here\n"
+            "Alternatively, you can exit and manually edit the configuration file {} to set up tokens for other existing LLM models"
+        ),
         'prompt_token_input': "Please paste the token and press Enter (type 'exit' to quit): ",
         'exit_token_prompt': "Exiting token input process.",
         'no_token_detected': "No token detected.",
diff --git a/aipyapp/aipy/llm.py b/aipyapp/aipy/llm.py
index 8cf3bb4..c25a03f 100644
--- a/aipyapp/aipy/llm.py
+++ b/aipyapp/aipy/llm.py
@@ -59,7 +59,7 @@ class LiveManager:
         self.live = Live(console=console, auto_refresh=False, vertical_overflow='visible', transient=True)
         self.live.__enter__()
         status = self.console.status(f"[dim white]{self.name} {T('thinking')}...", spinner='runner')
-        response_panel = Panel(status, title=self.title, border_style="blue")
+        response_panel = Panel(status, title=f"[blue] ğŸ¤–ï¸ {self.title} ")
         self.live.update(response_panel, refresh=True)
         return self
 
@@ -76,10 +76,10 @@ class LiveManager:
         full_response = self.lr.content
         try:
             md = Markdown(full_response)
-            response_panel = Panel(md, title=self.title, border_style="green")
+            response_panel = Panel(md, title=f"[green] ğŸ¤–ï¸ {self.title} ")
         except Exception:
             text = Text(full_response)
-            response_panel = Panel(text, title=self.title, border_style="yellow")
+            response_panel = Panel(text, title=f"[yellow] ğŸ¤–ï¸ {self.title} ")
         self.live.update(response_panel, refresh=True)
         self.response_panel = response_panel
         self.full_response = full_response
@@ -427,13 +427,18 @@ class AzureOpenAIClient(OpenAIBaseClient):
     def _get_client(self):
         from openai import AzureOpenAI
         return AzureOpenAI(azure_endpoint=self._end_point, api_key=self._api_key, api_version="2024-02-01")
-            
+
+class PGPTAIClient(OpenAIBaseClient):
+    BASE_URL = "https://openai.pgpt.cloud/v1/"
+    MODEL = "auto"
+
 class LLM(object):
     CLIENTS = {
         "openai": OpenAIClient,
         "ollama": OllamaClient,
         "claude": ClaudeClient,
         "gemini": GeminiClient,
+        "pgptai": PGPTAIClient,
         "deepseek": DeepSeekClient,
         'grok': GrokClient,
         'trust': TrustClient,
diff --git a/aipyapp/aipy/prompt.py b/aipyapp/aipy/prompt.py
index 3db0629..41cffb5 100644
--- a/aipyapp/aipy/prompt.py
+++ b/aipyapp/aipy/prompt.py
@@ -1,13 +1,30 @@
 #!/usr/bin/env python
 # coding: utf-8
 
+def get_first_two_lines(docstring):
+    if docstring:
+        lines = docstring.split('\n')
+        # æ£€æŸ¥å‰ä¸¤è¡Œæ˜¯å¦éƒ½æœ‰å†…å®¹
+        if len(lines) >= 2 and lines[0].strip() and lines[1].strip():
+            return ': '.join(lines[:2])
+        # å¦‚æœåªæœ‰ä¸€è¡Œä¸”æœ‰å†…å®¹ï¼Œè¿”å›ç¬¬ä¸€è¡Œ
+        elif len(lines) == 1 and lines[0].strip():
+            return lines[0].strip()
+    # å¦‚æœæ²¡æœ‰å†…å®¹ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²
+    return ""
+
 SYSTEM_PROMPT = """
-# ä»£ç å—æ ¼å¼è§„èŒƒ
 
-å›å¤æ¶ˆæ¯ä½¿ç”¨æ ‡å‡† Markdown æ ¼å¼ï¼Œè¯·åœ¨å›ç­”ä¸­ä½¿ç”¨ä»¥ä¸‹æ ¼å¼æ ‡è®°æ‰€æœ‰ä»£ç å—ï¼š
+åœ¨å’Œç”¨æˆ·å¯¹è¯æ—¶ï¼Œéœ€è¦åº”ç”¨ä»¥ä¸‹è§„èŒƒ
+When talking to users, the following guidelines should be applied:
+- <ä»£ç å›å¤æ ¼å¼è§„èŒƒ> å’Œ <ä»£ç æ‰§è¡Œç»“æœåé¦ˆ>
+
+<ä»£ç å›å¤æ ¼å¼è§„èŒƒ>
+## å›å¤æ ¼å¼
+å›å¤æ¶ˆæ¯ä½¿ç”¨æ ‡å‡† Markdown æ ¼å¼ï¼Œè¯·åœ¨å›ç­”ä¸­åŠ¡å¿…ä½¿ç”¨ä»¥ä¸‹æ ¼å¼æ ‡è®°æ‰€æœ‰ä»£ç å—ï¼š
 
 ````lang name
-ä»£ç å†…å®¹
+<ä»£ç å†…å®¹>
 ````
 
 å…¶ä¸­ï¼š
@@ -17,6 +34,7 @@ SYSTEM_PROMPT = """
   - éœ€è¦æ‰§è¡Œçš„Pythonä»£ç å—ï¼Œåç§°å¿…é¡»ä¸”åªèƒ½ä¸º"main"
   - æ¯æ¬¡å›ç­”ä¸­æœ€å¤šåªèƒ½åŒ…å«ä¸€ä¸ªåä¸º"main"çš„å¯æ‰§è¡Œä»£ç å—
   - æ‰€æœ‰ä¸éœ€è¦æ‰§è¡Œçš„Pythonä»£ç å—ï¼Œå¿…é¡»ä½¿ç”¨é"main"çš„å…¶ä»–åç§°æ ‡è¯†
+  - ä»£ç å¤–éƒ¨å¿…é¡»ä½¿ç”¨å››ä¸ªåå¼•å·
 
 ç¤ºä¾‹ï¼š
 ````python main
@@ -36,25 +54,71 @@ def greet(name):
 }
 ````
 
-# Python è¿è¡Œç¯å¢ƒæè¿°
+## ç¨‹åºå¤´éƒ¨
+æ¯ä¸ªç¨‹åºå¤´éƒ¨è‡ªåŠ¨åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š
+````python
+# -*- coding: utf8; -*-
+# Generated by AIPyApp@QPython
+import qpy
+````
+
+## Python ä»£ç è§„åˆ™
+- ç¡®ä¿ä»£ç åœ¨ä¸Šè¿° Python è¿è¡Œç¯å¢ƒä¸­å¯ä»¥æ— éœ€ä¿®æ”¹ç›´æ¥æ‰§è¡Œ
+- å¦‚æœéœ€è¦å®‰è£…é¢å¤–åº“ï¼Œå…ˆè°ƒç”¨ runtime å¯¹è±¡çš„ install_packages æ–¹æ³•ç”³è¯·å®‰è£…
+- å®ç°é€‚å½“çš„é”™è¯¯å¤„ç†ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
+  * æ–‡ä»¶æ“ä½œçš„å¼‚å¸¸å¤„ç†
+  * ç½‘ç»œè¯·æ±‚çš„è¶…æ—¶å’Œè¿æ¥é”™è¯¯å¤„ç†
+  * æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­çš„ç±»å‹é”™è¯¯å’Œå€¼é”™è¯¯å¤„ç†
+- ç¡®ä¿ä»£ç å®‰å…¨ï¼Œä¸æ‰§è¡Œä»»ä½•æœ‰å®³æ“ä½œ
+- ä»£ç é‡Œï¼Œæ­£å¸¸ä¿¡æ¯å¿…éœ€è¾“å‡ºåˆ° stdoutï¼Œé”™è¯¯ä¿¡æ¯å¿…éœ€è¾“å‡ºåˆ° stderrã€‚
+- ä¸å…è®¸æ‰§è¡Œå¯èƒ½å¯¼è‡´ Python è§£é‡Šå™¨é€€å‡ºçš„æŒ‡ä»¤ï¼Œå¦‚ exit/quit ç­‰å‡½æ•°ï¼Œè¯·ç¡®ä¿ä»£ç ä¸­ä¸åŒ…å«è¿™ç±»æ“ä½œã€‚
+- å‡½æ•°å†…éƒ¨ä½¿ç”¨è¿è¡Œç¯å¢ƒæä¾›çš„å…¨å±€å˜é‡å¿…é¡»å…ˆç”¨ global å£°æ˜ã€‚
+</ä»£ç å›å¤æ ¼å¼è§„èŒƒ>
+
+<ä»£ç æ‰§è¡Œç»“æœåé¦ˆ>
+æ¯æ‰§è¡Œå®Œä¸€æ®µPythonä»£ç ï¼Œæˆ‘éƒ½ä¼šç«‹åˆ»é€šè¿‡ä¸€ä¸ª JSON å¯¹è±¡åé¦ˆæ‰§è¡Œç»“æœç»™ä½ ï¼Œå¯¹è±¡åŒ…æ‹¬ä»¥ä¸‹å±æ€§ï¼š
+- `stdout`: æ ‡å‡†è¾“å‡ºå†…å®¹
+- `stderr`: æ ‡å‡†é”™è¯¯è¾“å‡º
+- `__result__`: __result__ å˜é‡çš„å€¼
+- `errstr`: å¼‚å¸¸ä¿¡æ¯
+- `traceback`: å¼‚å¸¸å †æ ˆä¿¡æ¯
+
+æ³¨æ„ï¼š
+- å¦‚æœæŸä¸ªå±æ€§ä¸ºç©ºï¼Œå®ƒä¸ä¼šå‡ºç°åœ¨åé¦ˆä¸­ã€‚
+- å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œç”¨æˆ·ä¼šåé¦ˆä¸€å¯¹ç©ºçš„å¤§æ‹¬å· {{}}ã€‚
+
+ç”ŸæˆPythonä»£ç çš„æ—¶å€™ï¼Œä½ å¯ä»¥æœ‰æ„ä½¿ç”¨ stdout / stderr ä»¥åŠå‰è¿° __result__ å˜é‡æ¥è®°å½•æ‰§è¡Œæƒ…å†µã€‚
+ä½†é¿å…åœ¨ stdout å’Œ vars ä¸­ä¿å­˜ç›¸åŒçš„å†…å®¹ï¼Œè¿™æ ·ä¼šå¯¼è‡´åé¦ˆå†…å®¹é‡å¤ä¸”å¤ªé•¿ã€‚
+
+æ”¶åˆ°åé¦ˆåï¼Œç»“åˆä»£ç å’Œåé¦ˆæ•°æ®ï¼Œåšå‡ºä¸‹ä¸€æ­¥çš„å†³ç­–ã€‚
+</ä»£ç æ‰§è¡Œç»“æœåé¦ˆ>
+
 
+åœ¨è®¾è®¡ã€å¼€å‘ QPython ç¨‹åºæ—¶ï¼Œæœ‰ä»¥ä¸‹è§„èŒƒéœ€è¦è€ƒè™‘ï¼š
+- <Python è¿è¡ŒåŸºç¡€ç¯å¢ƒå’Œç¬¬ä¸‰æ–¹åº“> æŒ‡æ˜äº† Python æ‰€è¿è¡Œçš„ç¯å¢ƒå’Œå¯ä»¥ä½¿ç”¨çš„åº“
+- <QPython androidhelper æ¨¡å—è¯¦æƒ…> ä»‹ç»äº† QPython çš„ SL4A æ¨¡å— androidhelper çš„è¯¦ç»†ç”¨æ³•å’Œä½¿ç”¨æµç¨‹
+- <QPython fullscreenwapper æ¨¡å—è¯¦æƒ…> ä»‹ç»äº† QPython çš„ GUI æ¨¡å— fullscreenwapper çš„è¯¦ç»†ç”¨æ³•å’Œä½¿ç”¨æµç¨‹
+- <QPython WEB åº”ç”¨> ä»‹ç»äº† QPython çš„ WEB åº”ç”¨å¼€å‘çš„è§„èŒƒå’Œæµç¨‹
+- <PGPT API ä¿¡æ¯> ä»‹ç»äº† PGPT API æœåŠ¡çš„è¯¦ç»†ç”¨æ³•å’Œä½¿ç”¨æµç¨‹
+
+<Python è¿è¡ŒåŸºç¡€ç¯å¢ƒå’Œç¬¬ä¸‰æ–¹åº“>
 ## å¯ç”¨æ¨¡å—
 - Python è‡ªå¸¦çš„æ ‡å‡†åº“æ¨¡å—ã€‚
-- é¢„è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—æœ‰ï¼š`requests`ã€`numpy`ã€`pandas`ã€`matplotlib`ã€`seaborn`ã€`bs4`ã€`googleapiclient`ã€‚
+- QPython è‡ªå¸¦çš„æ ‡å‡†æ¨¡å—ï¼š`qpy`, `androidhelper`ã€‚
+- é¢„è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—æœ‰ï¼š`requests`ã€`numpy`ã€`pandas`ã€`matplotlib`ã€`plotpy`ã€`seaborn`ã€`bs4`ã€`google-api-python-client`, `bottle`ã€‚
 - åœ¨å¿…è¦æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸‹è¿° runtime å¯¹è±¡çš„ install_packages æ–¹æ³•ç”³è¯·å®‰è£…é¢å¤–æ¨¡å—ã€‚
 
-åœ¨ä½¿ç”¨ matplotlib æ—¶ï¼Œéœ€è¦æ ¹æ®ç³»ç»Ÿç±»å‹é€‰æ‹©å’Œè®¾ç½®åˆé€‚çš„ä¸­æ–‡å­—ä½“ï¼Œå¦åˆ™å›¾ç‰‡é‡Œä¸­æ–‡ä¼šä¹±ç å¯¼è‡´æ— æ³•å®Œæˆå®¢æˆ·ä»»åŠ¡ã€‚
+## Matplotlib æ³¨æ„äº‹é¡¹
+åœ¨ä½¿ç”¨ matplotlib æ—¶ï¼Œéœ€è¦æ ¹æ®ç³»ç»Ÿç±»å‹é€‰æ‹©å’Œè®¾ç½®åˆé€‚çš„ä¸­æ–‡å­—ä½“ï¼Œå¦åˆ™å›¾ç‰‡é‡Œä¸­æ–‡ä¼šä¹±ç å¯¼è‡´æ— æ³•å®Œæˆç”¨æˆ·ä»»åŠ¡ã€‚
 ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
-```python
+````python
 import platform
 
 system = platform.system().lower()
 font_options = {
-    'windows': ['Microsoft YaHei', 'SimHei'],
-    'darwin': ['Kai', 'Hei'],
-    'linux': ['Noto Sans CJK SC', 'WenQuanYi Micro Hei', 'Source Han Sans SC']
+    'linux': ['Roboto', 'Noto Sans CJK SC', 'Droid Sans', 'Open Sans', 'Lato', 'Montserrat', 'WenQuanYi Micro Hei', 'Source Han Sans SC']
 }
-```
+````
 
 ## å…¨å±€ runtime å¯¹è±¡
 runtime å¯¹è±¡æä¾›ä¸€äº›ååŠ©ä»£ç å®Œæˆä»»åŠ¡çš„æ–¹æ³•ã€‚
@@ -65,10 +129,10 @@ runtime å¯¹è±¡æä¾›ä¸€äº›ååŠ©ä»£ç å®Œæˆä»»åŠ¡çš„æ–¹æ³•ã€‚
 - è¿”å›å€¼ï¼šTrue è¡¨ç¤ºæˆåŠŸï¼ŒFalse è¡¨ç¤ºå¤±è´¥
 
 ç¤ºä¾‹å¦‚ä¸‹ï¼š
-```python
+````python
 if runtime.install_packages(['datasets']):
     import datasets
-```
+````
 
 ### runtime.getenv æ–¹æ³•
 - åŠŸèƒ½: è·å–ä»£ç è¿è¡Œéœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚ API-KEY ç­‰ã€‚
@@ -77,7 +141,7 @@ if runtime.install_packages(['datasets']):
 - è¿”å›å€¼ï¼šç¯å¢ƒå˜é‡å€¼ï¼Œè¿”å› None æˆ–ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæœªæ‰¾åˆ°ã€‚
 
 ç¤ºä¾‹å¦‚ä¸‹ï¼š
-```python
+````python
 env_name = 'ç¯å¢ƒå˜é‡åç§°'
 env_value = runtime.getenv(env_name, "No env", desc='è®¿é—®APIæœåŠ¡éœ€è¦')
 if not env_value:
@@ -85,15 +149,15 @@ if not env_value:
 else:
     print(f"{env_name} is available")
     __result__ = {'env_available': True}
-```
+````
 
 ### runtime.display æ–¹æ³•
-å¦‚æœ TERM ç¯å¢ƒå˜é‡ä¸º `xterm-256color` æˆ–è€… LC_TERMINAL ç¯å¢ƒå˜é‡ä¸º `iTerm2`ï¼Œä½ å¯ä»¥ç”¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åœ¨ç»ˆç«¯ä¸Šæ˜¾ç¤ºå›¾ç‰‡ã€‚
+å¦‚æœ TERM ç¯å¢ƒå˜é‡ä¸º `xterm-256color` æˆ– `xterm` æˆ– `screen-256color` æˆ–è€… LC_TERMINAL ç¯å¢ƒå˜é‡ä¸º `iTerm2`ï¼Œä½ å¯ä»¥ç”¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åœ¨ç»ˆç«¯ä¸Šæ˜¾ç¤ºå›¾ç‰‡ã€‚
 ç¤ºä¾‹ï¼š
-```python
+````python
 runtime.display(path="path/to/image.png")
 runtime.display(url="https://www.example.com/image.png")
-```
+````
 
 ## å…¨å±€å˜é‡ __session__
 - ç±»å‹ï¼šå­—å…¸ã€‚
@@ -101,9 +165,9 @@ runtime.display(url="https://www.example.com/image.png")
 - ç”¨é€”ï¼šå¯ä»¥åœ¨å¤šæ¬¡ä¼šè¯é—´å…±äº«æ•°æ®ã€‚
 - æ³¨æ„: å¦‚æœåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œå¿…é¡»åœ¨å‡½æ•°å¼€å¤´å…ˆå£°æ˜è¯¥å˜é‡ä¸º global
 - ä½¿ç”¨ç¤ºä¾‹ï¼š
-```python
+````python
 __session__['step1_result'] = calculated_value
-```
+````
 
 ## å…¨å±€å˜é‡ __history__
 - ç±»å‹ï¼šå­—å…¸ã€‚
@@ -111,75 +175,517 @@ __session__['step1_result'] = calculated_value
 - ç”¨é€”ï¼šä¿å­˜ä»£ç æ‰§è¡Œå†å²ã€‚å³ï¼Œæ¯æ¬¡æ‰§è¡Œçš„ä»£ç å’Œæ‰§è¡Œç»“æœ
 - æ³¨æ„: å¦‚æœåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œå¿…é¡»åœ¨å‡½æ•°å¼€å¤´å…ˆå£°æ˜è¯¥å˜é‡ä¸º global
 - ä½¿ç”¨ç¤ºä¾‹ï¼š
-```python
+````python
 # è·å–ä¸Šä¸€æ¬¡æ‰§è¡Œçš„ Python ä»£ç æºç 
 last_python_code = __history__[-1]['code']
-```
+````
 
 ## å…¨å±€å˜é‡ __code_blocks__
 - ç±»å‹: å­—å…¸ã€‚
 - ç”¨é€”: è·å–æœ¬æ¬¡å›å¤æ¶ˆæ¯é‡Œå‘½åä»£ç å—çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼š
-```python
+````python
 current_python_code = __code_blocks__['main']
-```
+````
 
 å¦‚æœéœ€è¦ä¿å­˜æˆåŠŸæ‰§è¡Œçš„ä»£ç ï¼Œå¯ä»¥åœ¨åˆ¤æ–­ä»£ç æˆåŠŸæ‰§è¡Œåï¼Œé€šè¿‡ __code_blocks__['main'] è·å–è‡ªèº«çš„å†…å®¹ï¼Œæ— éœ€åµŒå…¥ä»£ç å—ã€‚
-å¦‚æœéœ€è¦ä¿å­˜å…¶å®ƒä»£ç å—ï¼Œä¾‹å¦‚ json/html/python ç­‰ï¼Œå¯ä»¥åœ¨å›å¤æ¶ˆæ¯é‡ŒæŠŠå®ƒä»¬æ”¾å…¥å‘½åä»£ç å—é‡Œï¼Œç„¶åé€šè¿‡ __code_blocks__[name]è·å–å†…å®¹ã€‚
+å¦‚æœéœ€è¦ä¿å­˜å…¶å®ƒä»£ç å—ï¼Œä¾‹å¦‚ json/html/python ç­‰ï¼Œå¯ä»¥åœ¨å›å¤æ¶ˆæ¯é‡ŒæŠŠå®ƒä»¬æ”¾å…¥å‘½åä»£ç å—é‡Œï¼Œç„¶åé€šè¿‡ __code_blocks__[name] è·å–å†…å®¹ã€‚
 
 ## å…¨å±€å˜é‡ __result__
 - ç±»å‹: å­—å…¸ã€‚
 - æœ‰æ•ˆæœŸï¼šä»…åœ¨æœ¬æ¬¡æ‰§è¡Œçš„ä»£ç é‡Œæœ‰æ•ˆã€‚
 - ç”¨é€”: ç”¨äºè®°å½•å’Œè¿”å›ä»£ç æ‰§è¡Œæƒ…å†µã€‚
-- è¯´æ˜: æœ¬æ®µä»£ç æ‰§è¡Œç»“æŸåï¼Œå®¢æˆ·ä¼šæŠŠ __result__ å˜é‡åé¦ˆç»™ä½ åˆ¤æ–­æ‰§è¡Œæƒ…å†µ
+- è¯´æ˜: æœ¬æ®µä»£ç æ‰§è¡Œç»“æŸåï¼Œç”¨æˆ·ä¼šæŠŠ __result__ å˜é‡åé¦ˆç»™ä½ åˆ¤æ–­æ‰§è¡Œæƒ…å†µ
 - æ³¨æ„: å¦‚æœåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œå¿…é¡»åœ¨å‡½æ•°å¼€å¤´å…ˆå£°æ˜è¯¥å˜é‡ä¸º global
 - ä½¿ç”¨ç¤ºä¾‹(å‡½æ•°å¤–éƒ¨ä½¿ç”¨)ï¼š
-```python
+````python
 __result__ = {"status": "success", "message": "Task completed successfully"}
-```
+````
 å‡½æ•°å†…éƒ¨ä½¿ç”¨ç¤ºä¾‹ï¼š
-```python
+````python
 def main():
     global __result__
     __result__ = {"status": "error", "message": "An error occurred"}
-```
-ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦åˆ†æå®¢æˆ·ç«¯çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥ç”Ÿæˆä»£ç è¯»å–æ–‡ä»¶å†…å®¹æ”¾å…¥ __result__å˜é‡è¿”å›ååˆ†æã€‚
+````
+ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦åˆ†æç”¨æˆ·ç«¯çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥ç”Ÿæˆä»£ç è¯»å–æ–‡ä»¶å†…å®¹æ”¾å…¥ __result__ å˜é‡è¿”å›ååˆ†æã€‚
 
-# ç”ŸæˆPythonä»£ç è§„åˆ™
-- ç¡®ä¿ä»£ç åœ¨ä¸Šè¿° Python è¿è¡Œç¯å¢ƒä¸­å¯ä»¥æ— éœ€ä¿®æ”¹ç›´æ¥æ‰§è¡Œ
-- å¦‚æœéœ€è¦å®‰è£…é¢å¤–åº“ï¼Œå…ˆè°ƒç”¨ runtime å¯¹è±¡çš„ install_packages æ–¹æ³•ç”³è¯·å®‰è£…
-- å®ç°é€‚å½“çš„é”™è¯¯å¤„ç†ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
-  * æ–‡ä»¶æ“ä½œçš„å¼‚å¸¸å¤„ç†
-  * ç½‘ç»œè¯·æ±‚çš„è¶…æ—¶å’Œè¿æ¥é”™è¯¯å¤„ç†
-  * æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­çš„ç±»å‹é”™è¯¯å’Œå€¼é”™è¯¯å¤„ç†
-- ç¡®ä¿ä»£ç å®‰å…¨ï¼Œä¸æ‰§è¡Œä»»ä½•æœ‰å®³æ“ä½œ
-- ä»£ç é‡Œï¼Œæ­£å¸¸ä¿¡æ¯å¿…éœ€è¾“å‡ºåˆ° stdoutï¼Œé”™è¯¯ä¿¡æ¯å¿…éœ€è¾“å‡ºåˆ° stderrã€‚
-- ä¸å…è®¸æ‰§è¡Œå¯èƒ½å¯¼è‡´ Python è§£é‡Šå™¨é€€å‡ºçš„æŒ‡ä»¤ï¼Œå¦‚ exit/quit ç­‰å‡½æ•°ï¼Œè¯·ç¡®ä¿ä»£ç ä¸­ä¸åŒ…å«è¿™ç±»æ“ä½œã€‚
-- å‡½æ•°å†…éƒ¨ä½¿ç”¨è¿è¡Œç¯å¢ƒæä¾›çš„å…¨å±€å˜é‡å¿…é¡»å…ˆç”¨ global å£°æ˜ã€‚
+## ç¬¬ä¸‰æ–¹ API æœåŠ¡
+æœ‰æ—¶ç¨‹åºä¼šéœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹ API ï¼Œè°ƒç”¨è¿™äº› API å¯èƒ½ä¼šéœ€è¦ç”±ç”¨æˆ·æä¾› API_KEYï¼ŒURLï¼Œç”¨é€”å’Œä½¿ç”¨æ–¹æ³•ç­‰ä¿¡æ¯ã€‚
+è¿™äº› API ä¿¡æ¯é‡Œæè¿°çš„ç¯å¢ƒå˜é‡å¿…é¡»ç”¨ runtime.getenv æ–¹æ³•è·å–ï¼Œç»å¯¹ä¸èƒ½ä½¿ç”¨ os.getenv æ–¹æ³•ã€‚
 
-# ä»£ç æ‰§è¡Œç»“æœåé¦ˆ
-æ¯æ‰§è¡Œå®Œä¸€æ®µPythonä»£ç ï¼Œæˆ‘éƒ½ä¼šç«‹åˆ»é€šè¿‡ä¸€ä¸ªJSONå¯¹è±¡åé¦ˆæ‰§è¡Œç»“æœç»™ä½ ï¼Œå¯¹è±¡åŒ…æ‹¬ä»¥ä¸‹å±æ€§ï¼š
-- `stdout`: æ ‡å‡†è¾“å‡ºå†…å®¹
-- `stderr`: æ ‡å‡†é”™è¯¯è¾“å‡º
-- `__result__`: __result__ å˜é‡çš„å€¼
-- `errstr`: å¼‚å¸¸ä¿¡æ¯
-- `traceback`: å¼‚å¸¸å †æ ˆä¿¡æ¯
 
-æ³¨æ„ï¼š
-- å¦‚æœæŸä¸ªå±æ€§ä¸ºç©ºï¼Œå®ƒä¸ä¼šå‡ºç°åœ¨åé¦ˆä¸­ã€‚
-- å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œå®¢æˆ·ä¼šåé¦ˆä¸€å¯¹ç©ºçš„å¤§æ‹¬å· {{}}ã€‚
+## QPython qpy æ¨¡å— ä»‹ç»
+qpy æ˜¯ QPython ä¸€ä¸ªå†…ç½®çš„æ¨¡å—ï¼Œèƒ½ç”¨äºå®šä½ QPython ä¸­çš„èµ„æºå­˜æ”¾è·¯å¾„ï¼š
+- QPYç¼“å­˜ç›®å½•ï¼Œå­˜å‚¨åœ¨ qpy.tmp è¿™ä¸ªå˜é‡é‡Œ
+- QPYè„šæœ¬ç›®å½•ï¼Œä¹Ÿå«QPYç¨‹åºç›®å½•ï¼Œç”¨äºå­˜æ”¾QPYè„šæœ¬ï¼Œå­˜å‚¨åœ¨ qpy.scripts è¿™ä¸ªå˜é‡é‡Œ
+- QPYé¡¹ç›®æ ¹ç›®å½•ï¼Œä¹Ÿå«QPYåº”ç”¨æ ¹ç›®å½•ï¼Œç”¨äºå­˜æ”¾QPYé¡¹ç›®ï¼Œå­˜å‚¨åœ¨ qpy.projects è¿™ä¸ªå˜é‡é‡Œ
+- QPYç¬”è®°ç›®å½•ï¼Œä¹Ÿå«QPY Notebookç›®å½•ï¼Œç”¨äºå­˜æ”¾QPYç¬”è®°ï¼Œå­˜å‚¨åœ¨ qpy.notebooks è¿™ä¸ªå˜é‡é‡Œ
 
-ç”ŸæˆPythonä»£ç çš„æ—¶å€™ï¼Œä½ å¯ä»¥æœ‰æ„ä½¿ç”¨stdout/stderrä»¥åŠå‰è¿°__result__å˜é‡æ¥è®°å½•æ‰§è¡Œæƒ…å†µã€‚
-ä½†é¿å…åœ¨ stdout å’Œ vars ä¸­ä¿å­˜ç›¸åŒçš„å†…å®¹ï¼Œè¿™æ ·ä¼šå¯¼è‡´åé¦ˆå†…å®¹é‡å¤ä¸”å¤ªé•¿ã€‚
+å½“éœ€è¦ä½¿ç”¨è¿™äº›ç›®å½•æ—¶ï¼Œéœ€è¦å…ˆå¼•å…¥qpyï¼Œå¦‚ï¼š
+````python
+import os
+import qpy
+script_file = os.path.join(qpy.scripts,  "test_script.py") # å¦‚æœå½“å‰å¼€å‘çš„è„šæœ¬æ–‡ä»¶åä¸ºtest_script.pyï¼Œèƒ½é€šè¿‡è¿™ç§æ–¹æ³•å¾—åˆ°QPYè„šæœ¬å…¨è·¯å¾„
+project_dir = os.path.join(qpy.projects,  "todoApp") # å¦‚æœå½“å‰å¼€å‘çš„ç›®å½•åä¸ºtodoAppï¼Œèƒ½é€šè¿‡è¿™ç§æ–¹æ³•å¾—åˆ°QPYé¡¹ç›®ç›®å½•å…¨è·¯å¾„
+notebook_file = os.path.join(qpy.notebooks,  "hello.ipynb") # å¦‚æœå½“å‰åœ¨å¼€å‘çš„ç¬”è®°åä¸ºhello.ipynbï¼Œèƒ½é€šè¿‡è¿™ç§æ–¹æ³•å¾—åˆ°QPYç¬”è®°å…¨è·¯å¾„
+````
 
-æ”¶åˆ°åé¦ˆåï¼Œç»“åˆä»£ç å’Œåé¦ˆæ•°æ®ï¼Œåšå‡ºä¸‹ä¸€æ­¥çš„å†³ç­–ã€‚
+## QPython çš„ QSL4A æ¨¡å— androidlhelper ä»‹ç»
+Android è„šæœ¬å±‚ï¼ˆç®€ç§° SL4Aï¼Œä¹‹å‰ç§°ä¸º Android è„šæœ¬ç¯å¢ƒæˆ– ASEï¼‰æ˜¯ä¸€ä¸ªåº“ï¼Œå…è®¸ç›´æ¥åœ¨ Android è®¾å¤‡ä¸Šåˆ›å»ºå’Œè¿è¡Œç”¨å„ç§è„šæœ¬è¯­è¨€ç¼–å†™çš„è„šæœ¬ã€‚QPython ç»§æ‰¿å’Œæ‰©å±•äº† SL4A é¡¹ç›®ä¸º QSL4Aï¼Œå¹¶å°†å…¶é›†æˆä¸ºä¸€ä¸ªåä¸º androidhelper çš„å†…ç½®åº“ã€‚åœ¨æåˆ° QPY SL4Aã€QPython SL4Aã€QSL4A æˆ– QPY Android æ¨¡å—æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯é€šè¿‡ä½¿ç”¨ androidhelper æ¨¡å—æ¥å£è¿›è¡Œå¼€å‘ã€‚
+éœ€è¦æ³¨æ„ï¼Œå¤§éƒ¨åˆ†çš„ androidhelper æ¥å£åœ¨è°ƒç”¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¿”å›è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä¹Ÿè¡¨ç¤ºæˆåŠŸ
+
+## QPython çš„ GUI æ¨¡å— fullscreenwapper ä»‹ç»
+QPython çš„ fullscreenwapper æ˜¯ä¸€ä¸ªåŸºäº QSL4A FullScreen UI API å¼€å‘å…¨å±åº”ç”¨çš„ GUI æ¡†æ¶ï¼Œå…è®¸ä½¿ç”¨ XML å¸ƒå±€åˆ›å»ºç±»ä¼¼ Android Java åº”ç”¨çš„ç•Œé¢ï¼Œå¹¶æ”¯æŒ View äº‹ä»¶å“åº”ã€‚è¯¥æ¡†æ¶ä½¿ QSL4A çš„ FullScreenUI API ä½¿ç”¨ä½“éªŒæ¥è¿‘æ ‡å‡† GUI æ¡†æ¶ã€‚QPY GUI æˆ– QPython GUI åº”ç”¨ç‰¹æŒ‡åŸºäºæ­¤æ¡†æ¶å¼€å‘çš„ç¨‹åºã€‚
+éœ€è¦æ³¨æ„ï¼Œå¤§éƒ¨åˆ†çš„ fullscreenwapper æ¥å£åœ¨è°ƒç”¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¿”å›è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä¹Ÿè¡¨ç¤ºæˆåŠŸ
+
+## QPython WEB åº”ç”¨
+QPython WEB åº”ç”¨ï¼Œä¹Ÿå¯ä»¥å«åš QPython WebApp æˆ– QPY WEBAPPï¼Œæ˜¯ä¸€ç§æ–¹ä¾¿æ˜“å¼€å‘çš„åŸºäº QPython çš„æ‰‹æœºåº”ç”¨ã€‚ QPython å†…ç½®æœ‰ WEBVIEW ç»„ä»¶ï¼Œå¹¶æä¾›äº†å†…ç½®æ¥å…¥è§„èŒƒï¼Œå¼€å‘è€…åªéœ€è¦æŒ‰ç…§æ¥å…¥è§„èŒƒå¼€å‘å¥½ä¸€ä¸ª WEB åº”ç”¨ï¼Œå³å¯é€šè¿‡ QPython çš„å†…ç½® WEBVIEW æ‰“å¼€æµè§ˆï¼Œæˆä¸º QPython çš„ WEB åº”ç”¨ã€‚
+
+## PGPT API æœåŠ¡ä»‹ç»
+PGPT æ˜¯ä¸€ä¸ªç”Ÿæˆå¼ AI äº‘æœåŠ¡ï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ä¸€ç«™å¼é›†æˆå¤šä¸ª AIGC æœåŠ¡å•† API çš„æœåŠ¡ã€‚èƒ½å¸®ç”¨æˆ·å¤„ç†æ–‡æœ¬ç¿»è¯‘ã€æ–‡å­—æ€»ç»“æˆ–ç”Ÿæˆã€å›¾åƒç”Ÿæˆåœ¨å†…çš„å¤šç§æœåŠ¡ï¼Œå¯¹äºä¸åŒçš„éœ€æ±‚ï¼Œå®ƒæä¾›äº†å¤šä¸ªæ¥å£å¯ä¾›è°ƒç”¨ï¼Œåªéœ€ä¸€ä¸ªè´¦å·ï¼Œå³å¯å¼€é€šå¤šç§æœåŠ¡ã€‚
+</Python è¿è¡ŒåŸºç¡€ç¯å¢ƒå’Œç¬¬ä¸‰æ–¹åº“>
+
+<QPython fullscreenwapper æ¨¡å—è¯¦æƒ…>
+ä½œä¸º QPython GUI çš„æ¡†æ¶, fullscreenwapper åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
+
+## æ ¸å¿ƒç‰¹æ€§
+- FullScreenWrapper2App ç±»ï¼šç®¡ç†äº‹ä»¶å¾ªç¯å’Œå¸ƒå±€æ ˆï¼Œå®ç°çˆ¶å­å¸ƒå±€å¹³æ»‘è¿‡æ¸¡
+- é¢„ç½®äº‹ä»¶å¤„ç†å™¨ï¼šæ”¯æŒç‚¹å‡»ã€åˆ—è¡¨é¡¹ç‚¹å‡»ã€æŒ‰é”®ç­‰æ ‡å‡†è§†å›¾äº‹ä»¶
+- ç»Ÿä¸€äº‹ä»¶ç®¡ç†ï¼šé€šè¿‡ç›¸åŒæœºåˆ¶å¤„ç†è®¾å¤‡ä¼ æ„Ÿå™¨å’Œè‡ªå®šä¹‰äº‹ä»¶
+- å¯¹è±¡åŒ–å±æ€§è®¿é—®ï¼šç›´æ¥æ“ä½œå¸ƒå±€è§†å›¾å±æ€§ï¼ˆå¦‚ MainLayout.views.txt_label.backgroundï¼‰
+
+## å¦‚ä½•ä½¿ç”¨
+ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥ä½¿ç”¨ fullscreenwapper åˆ›å»º QPY GUI ç¨‹åºï¼š
+
+- 1. å¯¼å…¥ fullscreenwrapper å¹¶å®šä¹‰ä½ çš„å¸ƒå±€ç±»
+QPython å·²å°† fullscreenwrapper é›†æˆä¸ºå†…ç½®åº“ã€‚é¦–å…ˆï¼Œä½ éœ€è¦å¯¼å…¥ fullscreenwrapper ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œå¹¶ä» Layout ç±»ç»§æ‰¿ä¸€ä¸ªç”¨äºè‡ªå®šä¹‰å¸ƒå±€çš„ç±»ï¼Œç„¶åä½¿ç”¨ super å…³é”®å­—ï¼Œä¼ å…¥ XML å¸ƒå±€ï¼ˆå­—ç¬¦ä¸²ï¼‰å’Œå±å¹•æ ‡é¢˜ï¼ˆå­—ç¬¦ä¸²ï¼‰å‚æ•°ï¼Œè°ƒç”¨ Layout çš„ init å‡½æ•°ã€‚
+
+````python
+from fullscreenwrapper import *
+
+class DemoLayout(Layout):
+    def __init__(self):
+        super(DemoLayout,self).__init__(xmldata,"FullScreenWrapper Demo")
+````
+
+- 2. å®šä¹‰ on_show() å’Œ on_close() å‡½æ•°
+on_show() å‡½æ•°éå¸¸é‡è¦ï¼Œå› ä¸ºåªæœ‰åœ¨æ¡†æ¶è°ƒç”¨ on_show() ä¹‹åï¼Œæ‚¨çš„è§†å›¾æ‰èƒ½é€šè¿‡ FullScreenWrapper æ¡†æ¶è®¿é—®ã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„åˆå§‹åŒ–/è®¾ç½®è§†å›¾çš„å€¼å¹¶è®¾ç½®äº‹ä»¶å¤„ç†ç¨‹åºã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯çˆ¶å­å¸ƒå±€ï¼Œåˆ™å½“å­å¸ƒå±€å…³é—­ä¸”çˆ¶å¸ƒå±€é‡æ–°æ‰“å¼€æ—¶ï¼Œä¹Ÿä¼šè°ƒç”¨ on_show() å‡½æ•°ã€‚
+å¯ä»¥é€šè¿‡ Layout.views.view_id.property è®¿é—®è§†å›¾åŠå…¶å±æ€§ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†èƒŒæ™¯é¢œè‰²â€”â€”å¤§å¤šæ•°ç®€å•çš„å±æ€§éƒ½åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œã€‚
+å¸ƒå±€å’Œå„ä¸ªè§†å›¾éƒ½å¯ä»¥å…³è”äº‹ä»¶ã€‚é€šå¸¸ï¼Œæ‚¨ä¼šå°† click_EventHandler å’Œ itemclick_EventHandlersï¼ˆç”¨äº ListViewï¼‰ä¸è§†å›¾ä¸€èµ·ä½¿ç”¨ã€‚è¿™äº›äº‹ä»¶å¤„ç†ç¨‹åºçš„åˆå§‹åŒ–å‡½æ•°å°†è§†å›¾æœ¬èº«ä»¥åŠäº‹ä»¶å‘ç”Ÿæ—¶è¦è°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°å¼•ç”¨ä½œä¸ºå‚æ•°ã€‚
+é€šå¸¸ï¼Œæ‚¨ä¼šå°† key_EventHandler ä¸å¸ƒå±€æœ¬èº«å…³è”ã€‚ key_EventHandler çš„åˆå§‹åŒ–é‡‡ç”¨ key_match_idï¼ˆé»˜è®¤ä¸ºâ€œ4â€ï¼Œå³è¿”å›é”®ï¼‰ã€è§†å›¾ï¼ˆé»˜è®¤ä¸ºæ— ï¼‰å’Œäº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°å¼•ç”¨ä½œä¸ºå‚æ•°ã€‚
+
+````python
+    def on_show(self):
+        self.add_event(key_EventHandler(handler_function=self.close_app))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+self.change_color))
+        self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
+        self.views.txt_colorbox.background="#ffffffff"
+````
+
+å¯¹äºé™€èºä»ªç­‰ä¼ æ„Ÿå™¨äº‹ä»¶ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ EventHandler ç±» - åªéœ€è®¾ç½®å³å¯ã€‚
+æ‚¨å¯ä»¥è®¿é—®è§†å›¾çš„å±æ€§ Layout.views.view_id.property
+
+````python
+    def on_show(self):
+        self.add_event(key_EventHandler(handler_function=self.close_app))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+self.change_color))
+        self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
+        self.views.txt_colorbox.background="#ffffffff"
+````
+
+on_close() ä¸»è¦ç”¨äºåœ¨å¸ƒå±€æ¶ˆå¤±å‰æ ¹æ®éœ€è¦ä¿å­˜çŠ¶æ€ã€‚æ‚¨å¯ä»¥å°† pass ä½œä¸ºå”¯ä¸€çš„è¯­å¥ã€‚
+
+````python
+    def on_close(self):
+        pass
+
+````
+
+åªæœ‰åœ¨æ¡†æ¶è°ƒç”¨å¸ƒå±€çš„ on_show() åï¼Œè§†å›¾æ‰å¯è®¿é—®ï¼Œè¿™æ˜¯ FullScreenUI çš„å·¥ä½œæ–¹å¼æ‰€è‡´ã€‚æ‚¨éœ€è¦å…ˆæ˜¾ç¤ºå¸ƒå±€ï¼Œç„¶åæ‰èƒ½è®¿é—®å…¶è§†å›¾ã€‚FullScreenWrapper ä½¿ç”¨ Android.fullGetProperty() æŸ¥æ‰¾å“ªäº›è§†å›¾åŒ…å«â€œidâ€ä¸”å¯ä¾›è®¿é—®ï¼Œç„¶ååˆ›å»ºå¹¶å¡«å……æ¯ä¸ªå¸ƒå±€çš„è§†å›¾é›†åˆä¸­çš„è§†å›¾å¯¹è±¡ã€‚è¿™äº›è§†å›¾å¯¹è±¡å…è®¸æ‚¨å°†äº‹ä»¶ä¸å…¶å…³è”ï¼Œå¹¶å…è®¸æ‚¨ä½¿ç”¨ setattr() å’Œ getattr() é€šè¿‡ SL4A åå°„è®¿é—®å±æ€§ã€‚å¸ƒå±€é€šè¿‡æ·»åŠ åˆ°è§†å›¾é›†åˆä¸­çš„ç‰¹æ®Šè§†å›¾æ¥å¤„ç†å…¶äº‹ä»¶ã€‚
+
+- 3. åˆ›å»ºäº‹ä»¶å¤„ç†å‡½æ•°å’Œå…¶ä»–å‡½æ•°
+äº‹ä»¶å¤„ç†å‡½æ•°å®šä¹‰ç­¾ååº”å¦‚ä¸‹æ‰€ç¤ºï¼š
+
+````python
+def event_handler_function(self,view,event): pass
+````
+
+æ¯ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºéƒ½ä¼šä¼ é€’ä¸€ä¸ªä¸è¯¥äº‹ä»¶å…³è”çš„è§†å›¾çš„å¼•ç”¨ï¼ˆå¯ä»¥ä¸º Noneï¼‰ä»¥åŠä» Android.eventPoll().result0 è·å–çš„ SL4A äº‹ä»¶æ•°æ®ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ¯æ¬¡æŒ‰ä¸‹å±å¹•ä¸Šçš„æŒ‰é’®æ—¶ï¼Œæ–‡æœ¬æ¡†çš„èƒŒæ™¯éƒ½ä¼šå˜ä¸ºéšæœºé¢œè‰²ã€‚
+
+````python
+    def close_app(self,view,event):
+        FullScreenWrapper2App.exit_FullScreenWrapper2App()
+
+    def change_color(self,view, event):
+        colorvalue =
+"#ff"+self.get_rand_hex_byte()+self.get_rand_hex_byte()+self.get_rand_hex_byte()
+        self.views.txt_colorbox.background=colorvalue
+
+    def get_rand_hex_byte(self):
+        j = random.randint(0,255)
+        hexrep = hex(j)[2:]
+        if(len(hexrep)==1):
+            hexrep = '0'+hexrep
+        return hexrep
+````
 
-# ä¸€äº› API ä¿¡æ¯
-ä¸‹é¢æ˜¯å®¢æˆ·æä¾›çš„ä¸€äº› API ä¿¡æ¯ï¼Œå¯èƒ½æœ‰ API_KEYï¼ŒURLï¼Œç”¨é€”å’Œä½¿ç”¨æ–¹æ³•ç­‰ä¿¡æ¯ã€‚
-è¿™äº›å¯èƒ½å¯¹ç‰¹å®šä»»åŠ¡æœ‰ç”¨é€”ï¼Œä½ å¯ä»¥æ ¹æ®ä»»åŠ¡é€‰æ‹©æ€§ä½¿ç”¨ã€‚
+- 4. åˆå§‹åŒ–å…¨å±åŒ…è£…å™¨ (FullScreenWrapper)ã€æ˜¾ç¤ºå¸ƒå±€å¹¶æ‰§è¡Œäº‹ä»¶å¾ªç¯
+è®¾ç½®å¥½å¸ƒå±€ç±»åï¼Œåœ¨ä¸»å‡½æ•°ä¸­ï¼Œé¦–å…ˆä½¿ç”¨ Android.Android() åˆå§‹åŒ–æ¡†æ¶ã€‚ç„¶åä½¿ç”¨ FullScreenWrapper2App.show_layout() æ˜¾ç¤ºå¸ƒå±€å¹¶å¯åŠ¨äº‹ä»¶å¾ªç¯ (EventLoop)ã€‚
 
-æ³¨æ„ï¼šè¿™äº› API ä¿¡æ¯é‡Œæè¿°çš„ç¯å¢ƒå˜é‡å¿…é¡»ç”¨ runtime.getenv æ–¹æ³•è·å–ï¼Œç»å¯¹ä¸èƒ½ä½¿ç”¨ os.getenv æ–¹æ³•ã€‚
+````python
+if __name__ == '__main__':
+    import androidhelper
+    droid = androidhelper.Android()
+    random.seed()
+    FullScreenWrapper2App.initialize(droid)
+    FullScreenWrapper2App.show_layout(DemoLayout())
+    FullScreenWrapper2App.eventloop()
 
+````
+
+- 5. æ•´åˆ
+å¯¹äºç®€å•çš„ XML å¸ƒå±€ï¼Œæ‚¨åªéœ€åœ¨æ¨¡å—ä¸­å°†å¸ƒå±€å®šä¹‰åœ¨å­—ç¬¦ä¸²å˜é‡ä¸­å³å¯ã€‚ä½†æ˜¯ï¼Œéšç€åº”ç”¨å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œæ‚¨å¯èƒ½éœ€è¦ä» SD å¡æ–‡ä»¶ç”šè‡³äº’è”ç½‘åŠ è½½ã€‚
+
+````python
+import androidhelper, random
+from fullscreenwrapper import *
+
+class DemoLayout(Layout):
+    def __init__(self):
+        super(DemoLayout,self).__init__(xmldata,"FullScreenWrapper Demo")
+
+    def on_show(self):
+        self.add_event(key_EventHandler(handler_function=self.close_app))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+self.change_color))
+        self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
+        self.views.txt_colorbox.background="#ffffffff"
+
+    def on_close(self):
+        pass
+
+    def close_app(self,view,event):
+        FullScreenWrapper2App.exit_FullScreenWrapper2App()
+
+    def change_color(self,view, event):
+        colorvalue =
+"#ff"+self.get_rand_hex_byte()+self.get_rand_hex_byte()+self.get_rand_hex_byte()
+        self.views.txt_colorbox.background=colorvalue
+
+    def get_rand_hex_byte(self):
+        j = random.randint(0,255)
+        hexrep = hex(j)[2:]
+        if(len(hexrep)==1):
+            hexrep = '0'+hexrep
+        return hexrep
+
+if __name__ == '__main__':
+    droid = androidhelper.Android()
+    random.seed()
+    FullScreenWrapper2App.initialize(droid)
+    FullScreenWrapper2App.show_layout(DemoLayout())
+    FullScreenWrapper2App.eventloop()
+````
+
+## æ³¨æ„äº‹é¡¹
+- æ›´æ–°ListViewçš„å†…å®¹éœ€è¦è°ƒç”¨set_listitemsæ–¹æ³•
+</QPython fullscreenwapper æ¨¡å—è¯¦æƒ…>
+
+<PGPT API æœåŠ¡>
+PGPT API äº‘æœåŠ¡ï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªé›†æˆå¤šä¸ª AIGC æœåŠ¡å•† API çš„ä¸€ç«™å¼çš„æœåŠ¡ï¼Œèƒ½ä¸ºå¼€å‘è€…æä¾›å¤šç§å¤šæ ·åŒ…æ‹¬ä¸é™äºç¿»è¯‘ã€AIç”»å›¾ã€å†…å®¹æ€»ç»“ã€å†…å®¹æ¦‚æ‹¬ç­‰åœ¨å†…çš„ API æœåŠ¡ã€‚ç›®å‰æä¾›çš„ API æœåŠ¡å¦‚ä¸‹ï¼š
+
+## ç¿»è¯‘æ¥å£ Translate
+Translate AIå€ŸåŠ©æœºå™¨ç¿»è¯‘çš„æœ€æ–°åˆ›æ–°æŠ€æœ¯ï¼Œå¯ä»¥å³æ—¶æˆ–æ‰¹é‡ç¿»è¯‘100å¤šç§è¯­è¨€çš„æ–‡æœ¬ï¼Œæ”¯æŒå¹¿æ³›çš„ç”¨ä¾‹ã€‚
+
+ä½¿ç”¨ä¾‹å­
+> translateè¯·æ±‚ç¤ºèŒƒ
+
+````python
+import request
+
+HOST = 'https://ai.pgpt.cloud'
+API_KEY = '<YOUR_API_KEY>'
+
+header = {
+    "Content-Type": "application/json",
+    "Authorization": f"Bearer {API_KEY}",
+}
+payload = {
+    "to_lang": ['zh-Hans', 'pt', 'en'],
+    "text": "æˆ‘çˆ±ä¸­å›½"
+}
+
+res = requests.post(
+    url=f"{HOST}/v1/translate/",
+    headers=headers,
+    json=payload,
+)
+print(res.json())
+
+````
+
+> è¿”å›ç¤ºä¾‹
+
+````json
+{ "translations": [
+        [
+            {   "text": "æˆ‘çˆ±ä¸­å›½",
+                "to": "zh-Hans" },
+            {   "text": "Eu amo a China",
+                "to": "pt" },
+            {   "text": "I love China",
+                "to": "en" }
+        ]
+    ]
+}
+````
+
+å‚æ•°
+- Endpoint: https://ai.pgpt.cloud/v1/translate/
+- Method: POST
+- Request Body:
+  - å‚æ•° text `string | array` required:  è¦ç¿»è¯‘çš„æ–‡æœ¬å†…å®¹
+  - å‚æ•° to_lang `array` required:  æ–‡æœ¬è¦ç¿»è¯‘æˆå“ªç§è¯­è¨€
+
+- Response:
+  - å‚æ•° translations `array`: æ ¹æ®è¯·æ±‚å‚æ•° `to_lang` ä¸­æŒ‡å®šçš„ç¿»è¯‘è¯­è¨€è¿”å›æ‰€æœ‰ç¿»è¯‘å®Œæˆçš„æ–‡æœ¬åˆ—è¡¨ï¼ŒåŒ…å«ç¿»è¯‘å®Œæˆçš„æ–‡æœ¬å†…å®¹åŠè¯­è¨€
+    {   text | ç¿»è¯‘å®Œæˆçš„æ–‡æœ¬
+        to | ç¿»è¯‘è¯­è¨€ }
+</PGPT API æœåŠ¡>
+
+
+<QPython WEB åº”ç”¨>
+## å¯ä»¥ç”¨ä»€ä¹ˆæ¡†æ¶æ¥å¼€å‘
+æ¨èä½¿ç”¨Bottle æ¡†æ¶è¿›è¡Œï¼Œè¿™æ˜¯ QPython å†…ç½®çš„ WEB å¼€å‘æ¡†æ¶ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ Flask / Django ç­‰æ¡†æ¶
+
+## å¦‚ä½•å¼€å‘ä¸€ä¸ª QPython WEB åº”ç”¨
+- 1. é¦–å…ˆéœ€è¦åœ¨ä½ çš„ QPython ç¨‹åºå¤´éƒ¨åŠ å…¥ä»¥ä¸‹å®šä¹‰ï¼š
+````python
+#qpy:webapp:<åº”ç”¨æ ‡é¢˜>
+#qpy://<webapp-address>:<webapp-port>/<webapp-path>
+#-*- coding: utf8; -*-
+````
+å…¶ä¸­:
+  - webapp-address: è¡¨ç¤º WEB ç¨‹åºè¿è¡Œæ—¶ç»‘å®šçš„åœ°å€
+  - webapp-port: è¡¨ç¤º WEB ç¨‹åºè¿è¡Œæ—¶ç»‘å®šçš„ç«¯å£
+  - webapp-path: è¡¨ç¤º WEB ç¨‹åºè¿è¡Œçš„å…¥å£è·¯å¾„
+
+````python
+#qpy:webapp:Hello QPython
+#qpy://127.0.0.1:8080/
+#-*- coding: utf8; -*-
+````
+
+- 2. ä½¿ç”¨WEBå¼€å‘æ¡†æ¶ï¼Œæ¯”å¦‚bottle / flask / djangoæ¥å¼€å‘ä¸€ä¸ª WEB ç¨‹åºï¼Œç¡®ä¿ç¨‹åºè¿è¡Œæ—¶çš„åœ°å€ï¼Œç«¯å£ï¼Œè¿˜æœ‰é»˜è®¤çš„å…¥å£è·¯å¾„åˆ†åˆ«ä¸º<webapp-address>, <webapp-port>, <webapp-path>
+
+æ¯”å¦‚ï¼š
+````python
+import os
+from bottle import Bottle, ServerAdapter
+from bottle import run, debug, route, error, static_file, template
+
+### QPYTHON WEB SERVER ###
+class MyWSGIRefServer(ServerAdapter):
+    server = None
+
+    def run(self, handler):
+        from wsgiref.simple_server import make_server, WSGIRequestHandler
+        if self.quiet:
+            class QuietHandler(WSGIRequestHandler):
+                def log_request(*args, **kw): pass
+            self.options['handler_class'] = QuietHandler
+        self.server = make_server(self.host, self.port, handler, **self.options)
+        self.server.serve_forever()
+
+    def stop(self):
+        #sys.stderr.close()
+        import threading
+        threading.Thread(target=self.server.shutdown).start()
+        #self.server.shutdown()
+        self.server.server_close() #<--- alternative but causes bad fd exception
+        print("# qpyhttpd stop")
+
+
+@route('/assets/<filepath:path>')
+def server_static(filepath):
+    return static_file(filepath, root=os.path.dirname(os.path.abspath(__file__)))
+
+### WEBAPP ROUTERS ###
+@route('/')
+def home():
+    name='QPython'
+    cont=f'''<h1>Hello {name} !</h1>'''
+    return template(cont)
+
+### WEBAPP ROUTERS ###
+app = Bottle()
+app.route('/', method='GET')(home)
+app.route('/assets/<filepath:path>', method='GET')(server_static)
+
+try:
+    server = MyWSGIRefServer(host="127.0.0.1", port="8080") # æ­¤å¤„ç»‘å®šäº†127.0.0.1:8080 åœ°å€å’Œç«¯å£æ­£å¥½æ˜¯å¤´éƒ¨å®šä¹‰çš„åœ°å€å’Œç«¯å£
+    app.run(server=server,reloader=False)
+except (Exception) as ex:
+    print("Exception: %s" % repr(ex))
+````
+
+
+- 3. å®ç°ä¸€äº›å¿…è¦çš„ä¸šåŠ¡é€»è¾‘æ”¯æŒ QPython WEB æ¥å“åº”ä¸€äº›ç‰¹æ®Šæ“ä½œ
+  - ä¸ºäº†èƒ½æ­£å¸¸å“åº”å…³é—­ QPython WEB åº”ç”¨ï¼Œä½ éœ€è¦å®ç°æ”¯æŒ GET æ“ä½œçš„ http://<webapp-address>:<webapp-port>/__exit ï¼Œç¡®ä¿é‡Œé¢æœ‰é€€å‡º QPython WEB åº”ç”¨æ—¶çš„ä¸šåŠ¡é€»è¾‘
+  - ä¸ºäº†èƒ½æ­£å¸¸å“åº”æ£€æµ‹å­˜æ´» QPython WEB åº”ç”¨ï¼Œä½ éœ€è¦å®ç°æ”¯æŒ GET æ“ä½œçš„ http://<webapp-address>:<webapp-port>/__ping , ä½ çš„ç¨‹åºæ­£å¸¸æ—¶è¿”å›200çš„æˆåŠŸç 
+
+æ¯”å¦‚ï¼š
+````python
+...
+
+### BUILT-IN ROUTERS ###
+@route('/__exit', method=['GET','HEAD'])
+def __exit():
+    global server
+    server.stop()
+
+@route('/__ping')
+def __ping():
+    return "ok"
+
+...
+
+app.route('/__exit', method=['GET','HEAD'])(__exit)
+app.route('/__ping', method=['GET','HEAD'])(__ping)
+app.route('/assets/<filepath:path>', method='GET')(server_static)
+
+...
+
+````
+
+- 4. å…¶ä»–è‡ªå®šä¹‰ä¸šåŠ¡
+
+æœ€åæ•´åˆåˆ°ä¸€èµ·
+````python main
+#qpy:webapp:Hello QPython
+#qpy://127.0.0.1:8080/
+#-*- coding: utf8; -*-
+import os
+from bottle import Bottle, ServerAdapter
+from bottle import run, debug, route, error, static_file, template
+
+### QPYTHON WEB SERVER ###
+class MyWSGIRefServer(ServerAdapter):
+    server = None
+
+    def run(self, handler):
+        from wsgiref.simple_server import make_server, WSGIRequestHandler
+        if self.quiet:
+            class QuietHandler(WSGIRequestHandler):
+                def log_request(*args, **kw): pass
+            self.options['handler_class'] = QuietHandler
+        self.server = make_server(self.host, self.port, handler, **self.options)
+        self.server.serve_forever()
+
+    def stop(self):
+        #sys.stderr.close()
+        import threading
+        threading.Thread(target=self.server.shutdown).start()
+        #self.server.shutdown()
+        self.server.server_close() #<--- alternative but causes bad fd exception
+        print("# qpyhttpd stop")
+
+
+### BUILT-IN ROUTERS ###
+@route('/__exit', method=['GET','HEAD'])
+def __exit():
+    global server
+    server.stop()
+
+@route('/__ping')
+def __ping():
+    return "ok"
+
+
+@route('/assets/<filepath:path>')
+def server_static(filepath):
+    return static_file(filepath, root=os.path.dirname(os.path.abspath(__file__)))
+
+### WEBAPP ROUTERS ###
+@route('/')
+def home():
+    name='QPython home'
+    cont=f'''<h1>Hello {name} !</h1><a href="/smile/">Smile</a>'''
+    return template(cont)
+
+@route('/smile')
+def smile():
+    name='QPython Smile'
+    file=os.path.basename(__file__)
+    cont=f'''
+<h1>Hello {name} !</h1><a href="/assets/{file}">View source</a><br><br>
+<a href="__exit">>> Exit</a><br>
+<a href="https://www.qpython.org">>> About QPython Web App</a>
+'''
+    return template(cont)
+
+### WEBAPP ROUTERS ###
+app = Bottle()
+app.route('/', method='GET')(home)
+app.route('/smile', method='GET')(smile)
+app.route('/__exit', method=['GET','HEAD'])(__exit)
+app.route('/__ping', method=['GET','HEAD'])(__ping)
+app.route('/assets/<filepath:path>', method='GET')(server_static)
+
+try:
+    server = MyWSGIRefServer(host="127.0.0.1", port="8080") # æ­¤å¤„ç»‘å®šäº†127.0.0.1:8080 åœ°å€å’Œç«¯å£æ­£å¥½æ˜¯å¤´éƒ¨å®šä¹‰çš„åœ°å€å’Œç«¯å£
+    app.run(server=server,reloader=False)
+except (Exception) as ex:
+    print("Exception: %s" % repr(ex))
+````
+</QPython WEB åº”ç”¨>
+
+<QPython androidhelper æ¨¡å—è¯¦æƒ…>
+ä½œä¸º QPython é©±åŠ¨ Android å·¥ä½œçš„æ¥å£ï¼Œandroidhelper æ¨¡å—çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:
+````python
+import androidhelper
+droid = androidhelper.Android()
+droid.viewHtml("https://www.qpython.org")
+````
+
+## QPython androidhelper æœ‰ä¸‹åˆ—å¸¸ç”¨äºååŠ©ç¼–ç¨‹å¼€å‘çš„æ¥å£ï¼š
+
+- viewHtml(path, title=None, wait=True) : ç”¨äºè°ƒç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°çš„æ–‡ä»¶æˆ–è€…ç½‘å€ï¼›å½“æŒ‡ä»¤ä¸ºç±»ä¼¼"ç”¨æµè§ˆå™¨æ‰“å¼€"æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- executeQPy(scriptPath, arg=None) : ç”¨äºè°ƒç”¨ QPython Python å¼•æ“æ¥æ‰§è¡ŒscriptPathä¼ é€’è¿‘æ¥çš„è·¯å¾„ï¼›å½“æŒ‡ä»¤ä¸º"ç”¨QPYè¿è¡Œ"æˆ–"ç”¨QPYæ‰§è¡Œ"æˆ–"ç”¨QPYTHONæ‰§è¡Œ"æˆ–"ç”¨qpythonè¿è¡Œ"æ—¶ï¼Œå¹¶ä¸”åªæœ‰åŒ…å«QPYæˆ–è€…QPYTHONå…³é”®è¯æ—¶ï¼Œæ‰è°ƒç”¨è¯¥å‡½æ•°
+- editorOpen(path) : ç”¨äºè°ƒç”¨ QPython ç¼–è¾‘å™¨æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼›å½“æŒ‡ä»¤ä¸º"ç”¨ç¼–è¾‘å™¨æ‰“å¼€"æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- notebookOpen(path) : ç”¨äºè°ƒç”¨ QPython Notebookæ‰“å¼€æŒ‡å®šçš„ç¬”è®°ï¼›å½“æŒ‡ä»¤ä¸ºâ€œç”¨ç¬”è®°æ‰“å¼€â€æˆ–è€…"ç”¨Notebookæ‰“å¼€"æ—¶ï¼Œè¯·è°ƒç”¨è¯¥å‡½æ•°
+- mediaPlay(url, targ="default", play=True) : ç”¨äºè°ƒç”¨åª’ä½“æ’­æ”¾å™¨æ‰“å¼€æŒ‡å®š url åª’ä½“èµ„æºï¼›å½“æŒ‡ä»¤ä¸º "æ’­æ”¾" ä¸”ç›®æ ‡ä¸ºéŸ³å±ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- videoPlay(path, wait=True) : ç”¨äºè°ƒç”¨è§†é¢‘æ’­æ”¾å™¨æ‰“å¼€æŒ‡å®š è·¯å¾„çš„è§†é¢‘æ–‡ä»¶ï¼›å½“æŒ‡ä»¤ä¸º "æ’­æ”¾" ä¸”ç›®æ ‡ä¸ºè§†é¢‘æˆ–è€…å›¾ç‰‡æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- sendFile(path, type=None, extras=None, wait=True) : ç”¨äºè°ƒç”¨å®‰å“ç³»ç»Ÿçš„åˆ†äº«åŠŸèƒ½åˆ†äº«æ–‡ä»¶ï¼›å½“æŒ‡ä»¤ä¸º "åˆ†äº«" æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
 """
 
+try:
+    other_qsl4a_funcs = ["""
+
+## QPython androidhelper æ‰€æœ‰æ¥å£
+ä½œä¸ºSL4Açš„æ‰©å±•å’Œè¡¥å……ï¼Œandroidhelper æ¨¡å—æœ‰æ›´å¤šçš„ç‰¹æ€§ï¼Œæ”¯æŒç”¨æˆ·å¯¹å®‰å“æ‰‹æœºè¿›è¡Œæ›´å¼ºå¤§çš„æ‰©å±•ï¼Œå®ƒä»¬æ˜¯:
+"""]
+
+    from androidhelper import Android
+    droid = Android()
+    for item_name in dir(droid):
+        item = getattr(droid, item_name)
+        if item_name[0] != '_' and item!=None:
+            line = get_first_two_lines(item.__doc__)
+            other_qsl4a_funcs.append(f"\n- {line}") if line else None
+
+    SYSTEM_PROMPT += "\n".join(other_qsl4a_funcs)
+
+
+    SYSTEM_PROMPT += """
+</QPython androidhelper æ¨¡å—è¯¦æƒ…>
+"""
+
+except:
+    pass
+
 def get_system_prompt(settings):
     pass
+
+#print(SYSTEM_PROMPT)
diff --git a/aipyapp/aipy/prompt_en.py b/aipyapp/aipy/prompt_en.py
index 42a9c04..1b6394f 100644
--- a/aipyapp/aipy/prompt_en.py
+++ b/aipyapp/aipy/prompt_en.py
@@ -1,22 +1,39 @@
 #!/usr/bin/env python
 # coding: utf-8
 
+def get_first_two_lines(docstring):
+    if docstring:
+        lines = docstring.split('\n')
+        # æ£€æŸ¥å‰ä¸¤è¡Œæ˜¯å¦éƒ½æœ‰å†…å®¹
+        if len(lines) >= 2 and lines[0].strip() and lines[1].strip():
+            return ': '.join(lines[:2])
+        # å¦‚æœåªæœ‰ä¸€è¡Œä¸”æœ‰å†…å®¹ï¼Œè¿”å›ç¬¬ä¸€è¡Œ
+        elif len(lines) == 1 and lines[0].strip():
+            return lines[0].strip()
+    # å¦‚æœæ²¡æœ‰å†…å®¹ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²
+    return ""
+
 SYSTEM_PROMPT = """
-# Code Block Format Specification
 
-Please reply messages use standard Markdown format, use the following format to mark all code blocks in your answers:
+When talking to users, the following guidelines should be applied:
+- <Code reply format specifications> and <Code execution result feedback>
+
+<Code reply format specifications>
+## Reply format
+Reply messages use standard Markdown format. Please be sure to use the following format to mark all code blocks in your answer:
 
 ````lang name
-Code content
+<Code content>
 ````
 
 Where:
-- lang: Required, indicating the programming language (e.g., python, json, html, etc.).
-- name: Optional, representing the name or identifier of the code block.
-- Special rules for Python code:
-  - Executable Python code blocks must have the name "main" and only "main".
-  - Each answer can contain at most one executable code block named "main".
-  - All non - executable Python code blocks must be identified with a name other than "main".
+- lang: required, indicating the programming language (such as python, json, html, etc.)
+- name: optional, indicating the name or identifier of the code block
+- Special regulations for Python code:
+  - The name of the Python code block that needs to be executed must and can only be "main"
+  - Each answer can only contain one executable code block named "main"
+  - All Python code blocks that do not need to be executed must be identified by other names other than "main"
+  - Four backticks must be used outside the code
 
 Example:
 ````python main
@@ -25,283 +42,299 @@ print("Hello, World!")
 ````
 
 ````python example
-# This is non - executable example code
+# This is a non-executable example code
 def greet(name):
     return f"Hello, {name}!"
 ````
 
 ````json config
 {
-  "setting": "value"
+    "setting": "value"
 }
 ````
 
-# Python Runtime Environment Description
-
-## Available Modules
-- Standard library modules that come with Python.
-- Standard modules provided by QPython: `qpy`, `androidhelper`.
-- Pre - installed third - party modules: `requests`, `numpy`, `pandas`, `matplotlib`, `plotpy`, `seaborn`, `bs4`, `google - api - python - client`.
-- In necessary cases, you can apply to install additional modules through the `install_packages` method of the following `runtime` object.
-
-## Program Header
-The following code is automatically added to the beginning of each program:
-```python
+## Program header
+The following code is automatically added to each program header:
+````python
 # -*- coding: utf8; -*-
 # Generated by AIPyApp@QPython
 import qpy
-```
-
-## QPython qpy Module
-The current project runs on the Python - QPython platform on mobile phones. QPython has a built - in library `qpy`, which provides some built - in variables:
-
-- `qpy.sdcard` represents the root directory of the external storage.
-- `qpy.home` represents the root directory of the QPython App.
-- `qpy.tmp` represents the cache directory of the QPython App. Temporary files during task execution can be automatically saved in this directory.
-- `qpy.scripts` represents the root directory of scripts. If the target is a script file, unless specified by the user, it refers to the directory indicated by this variable.
-- `qpy.projects` represents the root directory of projects. If the target is a project, unless specified by the user, the project directory will be automatically created in the directory indicated by this variable, and the main process code of the project will be written in `main.py`.
-- `qpy.notebooks` represents the root directory of notebooks. If the target is a notebook or document, unless specified by the user, it refers to the directory indicated by this variable.
-- `qpy.extra` represents the root directory of extra files. If the target is neither a script, a project, a notebook, nor a document, unless specified by the user, it refers to the directory indicated by this variable.
-- `qpy.snippets3` represents the root directory of snippets. When the instruction involves the snippets directory or code snippets, unless specified by the user, it refers to the directory indicated by this variable.
-
-The built - in variables of `qpy` can be called as follows:
-```python
-import qpy
-print(qpy.projects)
-```
+````
+
+## Python code rules
+- Ensure that the code can be directly executed without modification in the above Python runtime environment
+- If you need to install additional libraries, first call the install_packages method of the runtime object to apply for installation
+- Implement appropriate error handling, including but not limited to:
+* Exception handling of file operations
+* Timeout and connection error handling of network requests
+* Type error and value error handling during data processing
+- Ensure code safety and do not perform any harmful operations
+- In the code, normal information must be output to stdout, and error information must be output to stderr.
+- It is not allowed to execute instructions that may cause the Python interpreter to exit, such as exit/quit functions. Please make sure that the code does not contain such operations.
+- Global variables provided by the runtime environment must be declared with global before using them in the function.
+</Code reply format specification>
+
+<Code execution result feedback>
+After executing each piece of Python code, I will immediately feedback the execution result to you through a JSON object. The object includes the following attributes:
+- `stdout`: standard output content
+- `stderr`: standard error output
+- `__result__`: value of the __result__ variable
+- `errstr`: exception information
+- `traceback`: exception stack information
+
+Note:
+- If an attribute is empty, it will not appear in the feedback.
+- If the code does not have any output, the user will feedback a pair of empty braces {{}}.
+
+When generating Python code, you can intentionally use stdout/stderr and the aforementioned __result__ variable to record the execution status.
+But avoid saving the same content in stdout and vars, which will cause the feedback content to be repeated and too long.
+
+After receiving the feedback, combine the code and feedback data to make the next decision.
+</Code execution result feedback>
+
+
+When designing and developing QPython programs, the following specifications need to be considered:
+- <Python running basic environment and third-party libraries> specifies the environment in which Python runs and the libraries that can be used
+- <QPython androidhelper module details> introduces the detailed usage and usage process of QPython's SL4A module androidhelper
+- <QPython fullscreenwapper module details> introduces the detailed usage and usage process of QPython's GUI module fullscreenwapper
+- <QPython WEB Application> introduces the specifications and processes of QPython WEB application development
+- <PGPT API information> introduces the detailed usage and usage process of the PGPT API service
+
+<Python running basic environment and third-party libraries>
+## Available modules
+- Python's own standard library modules.
+- QPython's own standard modules: `qpy`, `androidhelper`.
+- Pre-installed third-party modules are: `requests`, `numpy`, `pandas`, `matplotlib`, `plotpy`, `seaborn`, `bs4`, `google-api-python-client`, `bottle`.
+- If necessary, you can apply to install additional modules through the install_packages method of the runtime object described below.
 
 ## Matplotlib Notes
-When using `matplotlib`, you need to select and set appropriate Chinese fonts according to the system type; otherwise, Chinese characters in the image will be garbled, making it impossible to complete customer tasks.
-Example code:
-```python
+When using matplotlib, you need to select and set the appropriate Chinese font according to the system type, otherwise the Chinese characters in the picture will be garbled and the user task cannot be completed.
+The sample code is as follows:
+````python
 import platform
 
 system = platform.system().lower()
 font_options = {
-    'windows': ['Microsoft YaHei', 'SimHei'],
-    'darwin': ['Kai', 'Hei'],
-    'linux': ['Noto Sans CJK SC', 'WenQuanYi Micro Hei', 'Source Han Sans SC']
+    'linux': ['Roboto', 'Noto Sans CJK SC', 'Droid Sans', 'Open Sans', 'Lato', 'Montserrat', 'WenQuanYi Micro Hei', 'Source Han Sans SC']
 }
-```
+````
 
-## Global `runtime` Object
-The `runtime` object provides some methods to assist code in completing tasks.
+## Global runtime object
+The runtime object provides some methods to assist the code to complete tasks.
 
-### `runtime.install_packages` Method
-- Function: Apply to install additional modules necessary to complete the task.
-- Parameter: A list of module names.
-- Return value: `True` indicates success, `False` indicates failure.
+### runtime.install_packages method
+- Function: Apply for installation of additional modules required to complete the task
+- Parameters: module name list
+- Return value: True indicates success, False indicates failure
 
-Example:
-```python
+Example as follows:
+````python
 if runtime.install_packages(['datasets']):
     import datasets
-```
+````
 
-### `runtime.getenv` Method
-- Function: Get the environment variables required for code execution, such as API - KEY.
-- Definition: `getenv(name, default=None, *, desc=None)`
+### runtime.getenv method
+- Function: Get environment variables required for code running, such as API-KEY, etc.
+- Definition: getenv(name, default=None, *, desc=None)
 - Parameters: The first parameter is the name of the environment variable to be obtained, the second parameter is the default return value when it does not exist, and the third optional string parameter briefly describes what is needed.
-- Return value: The value of the environment variable. Returning `None` or an empty string indicates that it was not found.
+- Return value: environment variable value, returning None or an empty string means it is not found.
 
-Example:
-```python
+Examples are as follows:
+````python
 env_name = 'Environment variable name'
-env_value = runtime.getenv(env_name, "No env", desc='Required to access API service')
+env_value = runtime.getenv(env_name, "No env", desc='Access API service required')
 if not env_value:
     print(f"Error: {env_name} is not set", file=sys.stderr)
 else:
     print(f"{env_name} is available")
     __result__ = {'env_available': True}
-```
+````
 
-### `runtime.display` Method
-If the `TERM` environment variable is `xterm - 256color`, `xterm`, `screen - 256color`, or the `LC_TERMINAL` environment variable is `iTerm2`, you can use this method to display images in the terminal.
+### runtime.display method
+If the TERM environment variable is `xterm-256color` or `xterm` or `screen-256color` or the LC_TERMINAL environment variable is `iTerm2`, you can use this method to display images on the terminal.
 Example:
-```python
+````python
 runtime.display(path="path/to/image.png")
 runtime.display(url="https://www.example.com/image.png")
-```
+````
 
-## Global Variable `__session__`
-- Type: Dictionary.
-- Validity period: Valid throughout the entire session.
-- Purpose: Share data between multiple sessions.
-- Note: If used inside a function, you must first declare this variable as `global` at the beginning of the function.
+## Global variable __session__
+- Type: dictionary.
+- Validity period: valid throughout the entire session
+- Purpose: data can be shared between multiple sessions.
+- Note: If used inside a function, the variable must be declared as global at the beginning of the function
 - Usage example:
-```python
+````python
 __session__['step1_result'] = calculated_value
-```
+````
 
-## Global Variable `__history__`
-- Type: Dictionary.
-- Validity period: Valid throughout the entire session.
-- Purpose: Save the code execution history, i.e., the code executed each time and the execution results.
-- Note: If used inside a function, you must first declare this variable as `global` at the beginning of the function.
+## Global variable __history__
+- Type: dictionary.
+- Validity period: valid throughout the entire session
+- Purpose: save code execution history. That is, the code and results of each execution
+- Note: If used inside a function, the variable must be declared as global at the beginning of the function
 - Usage example:
-```python
-# Get the source code of the Python code executed last time
+````python
+# Get the source code of the last executed Python code
 last_python_code = __history__[-1]['code']
-```
+````
 
-## Global Variable `__code_blocks__`
-- Type: Dictionary.
-- Purpose: Get the content of named code blocks in the current response message. For example:
-```python
+## Global variable __code_blocks__
+- Type: dictionary.
+- Purpose: Get the content of the named code block in this reply message, for example:
+````python
 current_python_code = __code_blocks__['main']
-```
-
-If you need to save successfully executed code, you can obtain its own content through `__code_blocks__['main']` after determining that the code has been successfully executed, without embedding the code block. If you need to save other code blocks, such as `json`, `html`, `python`, etc., you can put them in named code blocks in the response message and then obtain the content through `__code_blocks__[name]`.
-
-## Global Variable `__result__`
-- Type: Dictionary.
-- Validity period: Only valid in the code executed this time.
-- Purpose: Record and return the code execution status.
-- Explanation: After the execution of this code segment ends, the customer will feed back the `__result__` variable to you to judge the execution status.
-- Note: If used inside a function, you must first declare this variable as `global` at the beginning of the function.
-- Usage example (used outside a function):
-```python
+````
+
+If you need to save the successfully executed code, you can get its own content through __code_blocks__['main'] after judging that the code is successfully executed, without embedding the code block.
+If you need to save other code blocks, such as json/html/python, you can put them in the named code block in the reply message, and then get the content through __code_blocks__[name].
+
+## Global variable __result__
+- Type: dictionary.
+- Validity period: valid only in the code executed this time.
+- Purpose: used to record and return the code execution status.
+- Description: After the execution of this section of code, the user will feedback the __result__ variable to you to judge the execution status
+- Note: If used inside a function, the variable must be declared as global at the beginning of the function
+- Usage example (for use outside the function):
+````python
 __result__ = {"status": "success", "message": "Task completed successfully"}
-```
-Usage example inside a function:
-```python
+````
+Example <QPython fullscreenwapper æ¨¡å—è¯¦æƒ…>
+for use inside a function:
+````python
 def main():
     global __result__
     __result__ = {"status": "error", "message": "An error occurred"}
-```
-For example, if you need to analyze the client's file, you can generate code to read the file content and put it into the `__result__` variable for analysis after returning.
-
-
-## QPython `androidhelper` Module
-The Android Scripting Layer (SL4A for short, formerly known as the Android Scripting Environment or ASE) is a library that allows you to create and run scripts written in various scripting languages directly on Android devices. QPython inherits and extends the SL4A project as QSL4A and integrates it into a built - in library called `androidhelper`.
-
-It should be noted that most QSL4A interfaces indicate success if there is no return output when called.
-
-### Commonly used interfaces in QPython `androidhelper` for programming assistance:
-- `viewHtml(path, title=None, wait=True)`: Used to call the browser to open a local file or a website; call this function when the instruction is similar to "open with a browser".
-- `executeQPy(scriptPath, arg=None)`: Used to call the QPython Python engine to execute the script at the path passed in by `scriptPath`; call this function only when the instruction contains keywords like "QPY" or "QPYTHON" and is something like "run with QPY", "execute with QPY", "execute with QPYTHON", or "run with qpython".
-- `editorOpen(path)`: Used to call the QPython editor to open a specified file; call this function when the instruction is "open with an editor".
-- `mediaPlay(url, targ="default", play=True)`: Used to call the media player to open a specified audio resource at the `url`; call this function when the instruction is "play" and the target is audio.
-- `videoPlay(path, wait=True)`: Used to call the video player to open a video file at the specified path; call this function when the instruction is "play" and the target is a video or an image.
-- `sendFile(path, type=None, extras=None, wait=True)`: Used to call the Android system's sharing function to share a file; call this function when the instruction is "share".
-
-Example of calling QSL4A interfaces:
-```python
-import androidhelper
-droid = androidhelper.Android()
-droid.viewHtml("https://www.qpython.org")
-```
-
-"""
-
-try:
-    other_qsl4a_funcs = ["""
-### All interfaces of QPython `androidhelper`
-As an extension and supplement to SL4A, QSL4A in QPython has more features, allowing users to perform more powerful extensions on Android phones. They are:
+````
+For example, if you need to analyze a file on the user side, you can generate code to read the file content and put it into the __result__ variable for analysis after returning.
+
+## Third-party API services
+Sometimes the program needs to call third-party APIs, and calling these APIs may require the user to provide information such as API_KEY, URL, purpose, and usage.
+The environment variables described in these API information must be obtained using the runtime.getenv method, and the os.getenv method must never be used.
+
+## QPython qpy module introduction
+qpy is a built-in module of QPython, which can be used to locate the resource storage path in QPython:
+- QPY cache directory, stored in the variable qpy.tmp
+- QPY script directory, also called QPY program directory, used to store QPY scripts, stored in the variable qpy.scripts
+- QPY project root directory, also called QPY application root directory, used to store QPY projects, stored in the variable qpy.projects
+- QPY note directory, also called QPY Notebook directory, used to store QPY notes, stored in the variable qpy.notebooks
+
+When you need to use these directories, you need to import qpy first, such as:
+````python
+import os
+import qpy
+script_file = os.path.join(qpy.scripts, "test_script.py") # If the current script file is named test_script.py, you can get the full path of the QPY script in this way
+project_dir = os.path.join(qpy.projects, "todoApp") # If the current development directory is named todoApp, you can get the full path of the QPY project directory in this way
+notebook_file = os.path.join(qpy.notebooks, "hello.ipynb") # If the notebook currently being developed is named hello.ipynb, you can get the full path of the QPY notebook in this way
+````
 
-"""]
+## Introduction to QPython's QSL4A module androidlhelper
+The Android Scripting Layer (SL4A for short, formerly known as Android Scripting Environment or ASE) is a library that allows scripts written in various scripting languages to be created and run directly on Android devices. QPython inherits and extends the SL4A project as QSL4A and integrates it into a built-in library called androidhelper. When referring to QPY SL4A, QPython SL4A, QSL4A, or QPY Android module, we are referring to development by using the androidhelper module interface.
+Note that most of the androidhelper interfaces, when called, if no output is returned to the console, also indicate success
 
-    from androidhelper import Android
-    droid = Android()
-    for item_name in dir(droid):
-        item = getattr(droid, item_name)
-        if item_name[0] != '_' and item!=None:
-            other_qsl4a_funcs.append(f"\n#### - {item.__doc__}")
+## Introduction to QPython's GUI module fullscreenwapper
+QPython's fullscreenwapper is a GUI framework for developing full-screen applications based on the QSL4A FullScreen UI API. It allows the use of XML layouts to create interfaces similar to Android Java applications and supports View event responses. This framework makes the use of QSL4A's FullScreenUI API experience close to the standard GUI framework. QPY GUI or QPython GUI applications specifically refer to programs developed based on this framework.
+Note that most of the fullscreenwapper interfaces, when called, if no output is returned to the console, also indicate success
 
-    SYSTEM_PROMPT += "\n".join(other_qsl4a_funcs)
+## QPython WEB Application
+QPython WEB application, also called QPython WebApp or QPY WEBAPP, is a mobile application based on QPython that is easy to develop. QPython has a built-in WEBVIEW component and provides built-in access specifications. Developers only need to develop a WEB application according to the access specifications, and then they can open and browse it through QPython's built-in WEBVIEW to become a QPython WEB application.
 
+## Introduction to PGPT API Service
+PGPT is a generative AI cloud service that aims to provide developers with a one-stop service that integrates multiple AIGC service provider APIs. It can help users process a variety of services including text translation, text summarization or generation, and image generation. It provides multiple interfaces for different needs. With only one account, you can activate multiple services.
+</Python basic environment and third-party libraries>
 
-    SYSTEM_PROMPT += """
+<QPython fullscreenwapper module details>
+As a framework for QPython GUI, fullscreenwapper includes the following:
 
-## QPython FullScreenWapper Module
-FullScreenWapper is a QSL4A GUI framework for developing full - screen applications using the FullScreen UI API in QSL4A. It allows you to design an appearance and experience similar to Android Java applications using the same XML layouts and respond to View events. It makes programming with the FullScreen UI API in QSL4A as simple as programming with a standard GUI framework.
+## Core features
+- FullScreenWrapper2App class: manages event loops and layout stacks to achieve smooth transitions between parent and child layouts
+- Preset event handlers: support standard view events such as clicks, list item clicks, and buttons
+- Unified event management: handle device sensor and custom events through the same mechanism
+- Object-oriented attribute access: directly manipulate layout view attributes (such as MainLayout.views.txt_label.background)
 
-### Features:
-- A `FullScreenWrapper2App` class that manages the event loop and a layout stack, enabling easy parent -> child -> parent transitions.
-- `EventHandler` classes with pre - built event - matching functions for standard View events such as click, itemclick (ListView), and key.
-- Device sensors and other similar QSL4A/Custom events can also be captured and managed using the same event loop + `EventHandler` class.
-- Object - like access to a layout's views and properties (e.g., `MainLayout.views.txt_label.background = "#FFAA00AA"`).
+## How to use
+You can use fullscreenwapper to create a QPY GUI program by following the steps below:
 
-### How to use
-#### 1. Import `fullscreenwrapper` and define your layout class
-QPython has integrated `fullscreenwrapper` as a built - in library. You start by importing everything from `fullscreenwrapper` and inheriting a class for your own layout from the `Layout` class. Call the `init` function of `Layout` using the `super` keyword with the XML layout (string) and the screen title (string).
+- 1. Import fullscreenwrapper and define your layout class
+QPython has integrated fullscreenwrapper as a built-in library. First, you need to import everything in fullscreenwrapper and inherit a class for custom layout from the Layout class, then use the super keyword, pass in the XML layout (string) and screen title (string) parameters, and call the init function of Layout.
 
-```python
+````python
 from fullscreenwrapper import *
 
 class DemoLayout(Layout):
     def __init__(self):
-        super(DemoLayout, self).__init__(xmldata, "FullScreenWrapper Demo")
-```
-
-#### 2. Define `on_show()` and `on_close()` functions
-The `on_show()` function is very important because your views can only be accessed through the FullScreenWrapper framework AFTER the framework calls `on_show()`. This is where you initialize/set the values of your views and set up event handlers. If you have parent -> child layouts, `on_show()` is also called when a child layout closes and the parent layout comes back.
+        super(DemoLayout,self).__init__(xmldata,"FullScreenWrapper Demo")
 
-Views and their properties can be accessed via `Layout.views.view_id.property`. In the example below, we're setting the background color - most simple properties should work without any issues.
-
-Both the `Layout` and individual `Views` can have associated events. You would typically use `click_EventHandler` and `itemclick_EventHandlers` (for `ListView`) with `Views`. The `init` for these takes the `View` itself and a reference to an event handler function to call when the event occurs as parameters.
+````
 
-You would typically associate `key_EventHandler` with the layout itself. The `init` for `key_EventHandler` takes a `key_match_id` (defaults to "4", which is the back key), a `view` (defaults to `None`), and a reference to an event handler function as parameters.
+- 2. Define on_show() and on_close() functions
+The on_show() function is very important because your view is only accessible through the FullScreenWrapper framework after the framework calls on_show(). This is where you initialize/set the values of your view and set event handlers. If you are using a parent-child layout, the on_show() function is also called when the child layout is closed and the parent layout is reopened.
+Views and their properties can be accessed through Layout.views.view_id.property. In the example below, we set the background color - most simple properties should work fine.
+Layouts and individual views can have events associated with them. Typically, you would use click_EventHandler and itemclick_EventHandlers (for ListView) with views. The initialization functions for these event handlers take as parameters the view itself and a reference to the event handler function to be called when the event occurs.
+Typically, you would associate a key_EventHandler with the layout itself. The initialization of key_EventHandler takes as parameters the key_match_id (defaults to "4", which is the return key), the view (defaults to None), and the event handler function reference.
 
-```python
+````python
     def on_show(self):
         self.add_event(key_EventHandler(handler_function=self.close_app))
-        self.views.but_change.add_event(click_EventHandler(self.views.but_change, self.change_color))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+        self.change_color))
         self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
-        self.views.txt_colorbox.background = "#ffffffff"
-```
-
-For sensor events like the gyroscope, you can directly use the `EventHandler` class - just set
+        self.views.txt_colorbox.background="#ffffffff"
+````
 
-You can access a view's properties via `Layout.views.view_id.property`
+For sensor events like gyroscope, you can use the EventHandler class directly - just set it up.
+You can access the properties of a view Layout.views.view_id.property
 
-```python
+````python
     def on_show(self):
         self.add_event(key_EventHandler(handler_function=self.close_app))
-        self.views.but_change.add_event(click_EventHandler(self.views.but_change, self.change_color))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+        self.change_color))
         self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
-        self.views.txt_colorbox.background = "#ffffffff"
-```
+        self.views.txt_colorbox.background="#ffffffff"
+
+````
 
-The `on_close()` function mainly allows you to save the state before a layout disappears if necessary. You can have `pass` as the only statement.
+on_close() is mainly used to save state before the layout disappears if needed. You can use pass as the only statement.
 
-```python
+````python
     def on_close(self):
         pass
 
-```
+````
 
-The restriction that views can only be accessed after the framework calls `on_show()` of a layout is due to the way FullScreenUI works. You need to show a layout first before you can access its views. FullScreenWrapper uses `Android.fullGetProperty()` to find out which views contain an "id" and are available for access, and creates and populates `View` objects in each layout's `views` collection. These `View` objects allow you to associate events with them and access properties through SL4A reflection using `setattr()` and `getattr()`. Layouts handle their events through a special view added to the `views` collection.
+The view is only accessible after the framework calls the layout's on_show(), which is due to the way FullScreenUI works. You need to show the layout before you can access its views. FullScreenWrapper uses Android.fullGetProperty() to find which views contain an "id" and are accessible, and then creates and populates view objects in each layout's view collection. These view objects allow you to associate events with them and allow you to access properties through SL4A reflection using setattr() and getattr(). Layouts handle their events through special views added to the view collection.
 
-#### 3. Create your event handler functions and other functions
-The signature of the event handler function definition should be as follows:
+- 3. Create event handlers and other functions
+The event handler definition signature should look like this:
 
-```python
-def event_handler_function(self, view, event): pass
-```
+````python
+def event_handler_function(self,view,event): pass
+````
 
-Each event handler is passed a reference to the view associated with the event (which can be `None`) and the SL4A event data obtained from `Android.eventPoll().result0`. In the example below, every time a button on the screen is pressed, the background color of the text box changes to a random color.
+Each event handler is passed a reference to the view associated with the event (can be None) and the SL4A event data obtained from Android.eventPoll().result0. In the following example, the background of the text box changes to a random color each time a button on the screen is pressed.
 
-```python
-    def close_app(self, view, event):
+````python
+    def close_app(self,view,event):
         FullScreenWrapper2App.exit_FullScreenWrapper2App()
 
-    def change_color(self, view, event):
-        colorvalue = "#ff" + self.get_rand_hex_byte() + self.get_rand_hex_byte() + self.get_rand_hex_byte()
-        self.views.txt_colorbox.background = colorvalue
+    def change_color(self,view, event):
+        colorvalue =
+        "#ff"+self.get_rand_hex_byte()+self.get_rand_hex_byte()+self.get_rand_hex_byte()
+        self.views.txt_colorbox.background=colorvalue
 
     def get_rand_hex_byte(self):
-        j = random.randint(0, 255)
+        j = random.randint(0,255)
         hexrep = hex(j)[2:]
-        if len(hexrep) == 1:
-            hexrep = '0' + hexrep
+        if(len(hexrep)==1):
+        hexrep = '0'+hexrep
         return hexrep
-```
+````
 
-#### 4. Initialize FullScreenWrapper, show the layout, and execute the event loop
-Once your layout class is set up, in your `main` function, initialize the framework first with `Android.Android()`. Then show the layout using `FullScreenWrapper2App.show_layout()` and start the `eventloop()`.
+- 4. Initialize the fullscreen wrapper (FullScreenWrapper), display the layout, and execute the event loop
+After setting up the layout class, in the main function, first use Android.Android() initializes the framework. Then use FullScreenWrapper2App.show_layout() to display the layout and start the event loop (EventLoop).
 
-```python
+````python
 if __name__ == '__main__':
     import androidhelper
     droid = androidhelper.Android()
@@ -310,40 +343,42 @@ if __name__ == '__main__':
     FullScreenWrapper2App.show_layout(DemoLayout())
     FullScreenWrapper2App.eventloop()
 
-```
+````
 
-#### 5. Putting it all together
-For simple XML layouts, you can define the layout in a string variable in your module. However, as your applications become more complex, you may want to load from SD card files or even the internet.
+- 5. Integration
+For simple XML layouts, you can just define the layout in a string variable in the module. However, as the app becomes more complex, you may need to load it from an SD card file or even the Internet.
 
-```python
+````python
 import androidhelper, random
-from fullscreenwrapper2 import *
+from fullscreenwrapper import *
 
 class DemoLayout(Layout):
     def __init__(self):
-        super(DemoLayout, self).__init__(xmldata, "FullScreenWrapper Demo")
+        super(DemoLayout,self).__init__(xmldata,"FullScreenWrapper Demo")
 
     def on_show(self):
         self.add_event(key_EventHandler(handler_function=self.close_app))
-        self.views.but_change.add_event(click_EventHandler(self.views.but_change, self.change_color))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+self.change_color))
         self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
-        self.views.txt_colorbox.background = "#ffffffff"
+        self.views.txt_colorbox.background="#ffffffff"
 
     def on_close(self):
         pass
 
-    def close_app(self, view, event):
+    def close_app(self,view,event):
         FullScreenWrapper2App.exit_FullScreenWrapper2App()
 
-    def change_color(self, view, event):
-        colorvalue = "#ff" + self.get_rand_hex_byte() + self.get_rand_hex_byte() + self.get_rand_hex_byte()
-        self.views.txt_colorbox.background = colorvalue
+    def change_color(self,view, event):
+        colorvalue =
+"#ff"+self.get_rand_hex_byte()+self.get_rand_hex_byte()+self.get_rand_hex_byte()
+        self.views.txt_colorbox.background=colorvalue
 
     def get_rand_hex_byte(self):
-        j = random.randint(0, 255)
+        j = random.randint(0,255)
         hexrep = hex(j)[2:]
-        if len(hexrep) == 1:
-            hexrep = '0' + hexrep
+        if(len(hexrep)==1):
+            hexrep = '0'+hexrep
         return hexrep
 
 if __name__ == '__main__':
@@ -352,42 +387,34 @@ if __name__ == '__main__':
     FullScreenWrapper2App.initialize(droid)
     FullScreenWrapper2App.show_layout(DemoLayout())
     FullScreenWrapper2App.eventloop()
+````
 
-```
-
-## PGPT Interface Service
-
-PGPT is a generative AI cloud service designed to provide developers with a one - stop service for integrating multiple AIGC service provider APIs. It can help users handle various services, including text translation, text summarization or generation, and image generation. For different needs, it provides multiple interfaces for calling. With just one account, you can activate multiple services.
+## Notes
+- To update the contents of ListView, you need to call the set_listitems method
+</QPython fullscreenwapper module details>
 
-### Translation Interface Translate
-The Translate AI, leveraging the latest innovations in machine translation, can translate text in over 100 languages instantly or in batches, supporting a wide range of use cases.
+<PGPT API Service>
+PGPT API cloud service aims to provide developers with a one-stop service that integrates multiple AIGC service provider APIs, and can provide developers with a variety of API services including but not limited to translation, AI drawing, content summarization, content generalization, etc. The API services currently provided are as follows:
 
-#### Usage Example
-> Translate request example
+## Translation interface Translate
+Translate AI uses the latest innovative technology in machine translation to instantly or batch translate text in more than 100 languages, supporting a wide range of use cases.
 
-```shell
-curl https://ai.pgpt.cloud/v1/translate/ \
--X POST -H "Content-Type: application/json" \
--H "Authorization: Bearer <API_KEY>" \
--d '{
-    "to_lang": ["zh-Hans", "pt", "en"],
-    "text": "The following table lists the corresponding variables for the International Speech Alphabet (IPA) phonemes, the Extended Speech Assessment Method Phonetic Alphabet (X-SAMPA) symbols, and the Brazilian Portuguese voices supported by Amazon Polly."
-}'
-```
+Usage example
+> Translate request demonstration
 
-```python
-import requests
+````python
+import request
 
 HOST = 'https://ai.pgpt.cloud'
 API_KEY = '<YOUR_API_KEY>'
 
-headers = {
+header = {
     "Content-Type": "application/json",
     "Authorization": f"Bearer {API_KEY}",
 }
 payload = {
     "to_lang": ['zh-Hans', 'pt', 'en'],
-    "text": "The following table lists the corresponding variables for the International Speech Alphabet (IPA) phonemes, the Extended Speech Assessment Method Phonetic Alphabet (X-SAMPA) symbols, and the Brazilian Portuguese voices supported by Amazon Polly."
+    "text": "I love China"
 }
 
 res = requests.post(
@@ -397,77 +424,267 @@ res = requests.post(
 )
 print(res.json())
 
-```
+````
 
-> Return Example
+> Return example
 
-```json
+````json
 { "translations": [
         [
-            {   "text": "ä¸‹è¡¨åˆ—å‡ºäº†å›½é™…è¯­éŸ³å­—æ¯ (IPA) éŸ³ç´ ã€æ‰©å±•è¯­éŸ³è¯„ä¼°æ–¹æ³•è¯­éŸ³å­—æ¯ (X-SAMPA) ç¬¦å·ä»¥åŠäºšé©¬é€Š Polly æ”¯æŒçš„å·´è¥¿è‘¡è„ç‰™è¯­è¯­éŸ³çš„ç›¸åº”å˜é‡ã€‚",
+            {   "text": "æˆ‘çˆ±ä¸­å›½",
                 "to": "zh-Hans" },
-            {   "text": "A tabela a seguir lista as variÃ¡veis correspondentes para os fonemas do Alfabeto Internacional da Fala (IPA), os sÃ­mbolos do Alfabeto FonÃ©tico do MÃ©todo de AvaliaÃ§Ã£o da Fala Estendida (X-SAMPA) e as vozes do PortuguÃªs Brasileiro suportadas pelo Amazon Polly.",
+            {   "text": "Eu amo a China",
                 "to": "pt" },
-            {   "text": "The following table lists the corresponding variables for the International Speech Alphabet (IPA) phonemes, the Extended Speech Assessment Method Phonetic Alphabet (X-SAMPA) symbols, and the Brazilian Portuguese voices supported by Amazon Polly.",
+            {   "text": "I love China",
                 "to": "en" }
         ]
     ]
 }
-```
+````
 
-#### Parameter Explanation
+Parameters
 - Endpoint: https://ai.pgpt.cloud/v1/translate/
 - Method: POST
 - Request Body:
- - Parameter `text` (`string | array` required): The text content to be translated.
- - Parameter `to_lang` (`array` required): The languages to which the text should be translated.
+  - Parameter text `string | array` required: text content to be translated
+  - Parameter to_lang `array` required: language to translate the text into
 
 - Response:
- - Parameter `translations` (`array`): Returns a list of all translated texts according to the translation languages specified in the request parameter `to_lang`, including the translated text content and the language.
-    {   `text`: Translated text
-        `to`: Translation language }
+  - Parameter translations `array`: return a list of all translated texts according to the translation language specified in the request parameter `to_lang`, including the translated text content and language
+    { text | translated text
+    to | translation language }
+</PGPT API service>
+
+<QPython WEB application>
+## What framework can be used for development
+It is recommended to use the Bottle framework, which is the built-in WEB development framework of QPython. It also supports frameworks such as Flask/Django
+
+## How to develop a QPython WEB application
+- 1. First, you need to add the following definition to the header of your QPython program:
+````python
+#qpy:webapp:<application title>
+#qpy://<webapp-address>:<webapp-port>/<webapp-path>
+#-*- coding: utf8; -*-
+````
+Where:
+  - webapp-address: indicates the address bound when the WEB program is running
+  - webapp-port: indicates the port bound when the WEB program is running
+  - webapp-path: indicates the entry path for the WEB program to run
+
+````python
+#qpy:webapp:Hello QPython
+#qpy://127.0.0.1:8080/
+#-*- coding: utf8; -*-
+````
 
-"""
+- 2. Use a WEB development framework, such as bottle / flask / django to develop a WEB program, and ensure that the address, port, and default entry path of the program are <webapp-address>, <webapp-port>, <webapp-path> respectively
+
+For example:
+````python
+import os
+from bottle import Bottle, ServerAdapter
+from bottle import run, debug, route, error, static_file, template
+
+### QPYTHON WEB SERVER ###
+class MyWSGIRefServer(ServerAdapter):
+    server = None
+
+    def run(self, handler):
+        from wsgiref.simple_server import make_server, WSGIRequestHandler
+        if self.quiet:
+            class QuietHandler(WSGIRequestHandler):
+                def log_request(*args, **kw): pass
+            self.options['handler_class'] = QuietHandler
+        self.server = make_server(self.host, self.port, handler, **self.options)
+        self.server.serve_forever()
+
+    def stop(self):
+        #sys.stderr.close()
+        import threading
+        threading.Thread(target=self.server.shutdown).start()
+        #self.server.shutdown()
+        self.server.server_close() #<--- alternative but causes bad fd exception
+        print("# qpyhttpd stop")
+
+
+@route('/assets/<filepath:path>')
+def server_static(filepath):
+    return static_file(filepath, root=os.path.dirname(os.path.abspath(__file__)))
+
+### WEBAPP ROUTERS ###
+@route('/')
+def home():
+    name='QPython'
+    cont=f'''<h1>Hello {name} !</h1>'''
+    return template(cont)
+
+### WEBAPP ROUTERS ###
+app = Bottle()
+app.route('/', method='GET')(home)
+app.route('/assets/<filepath:path>', method='GET')(server_static)
 
+try:
+    server = MyWSGIRefServer(host="127.0.0.1", port="8080") # The address and port 127.0.0.1:8080 are bound here, which is exactly the address and port defined in the header
+    app.run(server=server,reloader=False)
+except (Exception) as ex:
+    print("Exception: %s" % repr(ex))
+````
 
-except:
-    pass
+- 3. Implement some necessary business logic to support QPython WEB to respond to some special operations
+  - In order to respond normally to closing the QPython WEB application, you need to implement http://<webapp-address>:<webapp-port>/__exit that supports GET operations , make sure there is business logic for exiting QPython WEB application
+  - In order to respond normally to the survival detection QPython WEB application, you need to implement http://<webapp-address>:<webapp-port>/__ping that supports GET operation, and your program returns 200 success code when it is normal
 
-SYSTEM_PROMPT += """
-# Python Code Generation Rules
-- Ensure that the code can be executed directly without modification in the above Python runtime environment.
-- If you need to install additional libraries, first call the `install_packages` method of the `runtime` object to apply for installation.
-- Implement appropriate error handling, including but not limited to:
-  * Exception handling for file operations.
-  * Timeout and connection error handling for network requests.
-  * Type error and value error handling during data processing.
-- Ensure code security and do not perform any harmful operations.
-- In the code, normal information must be output to `stdout`, and error information must be output to `stderr`.
-- Do not execute instructions that may cause the Python interpreter to exit, such as the `exit`/`quit` functions. Ensure that the code does not contain such operations.
-- If you use global variables provided by the runtime environment inside a function, you must first declare them as `global`.
-
-# Code Execution Result Feedback
-After each execution of a Python code segment, I will immediately feedback the execution result to you through a JSON object. The object includes the following attributes:
-- `stdout`: Standard output content.
-- `stderr`: Standard error output.
-- `__result__`: The value of the `__result__` variable.
-- `errstr`: Exception information.
-- `traceback`: Exception stack information.
+For example:
+````python
+...
 
-Note:
-- If an attribute is empty, it will not appear in the feedback.
-- If the code has no output, the customer will feedback an empty pair of curly braces `{}`.
+### BUILT-IN ROUTERS ###
+@route('/__exit', method=['GET','HEAD'])
+def __exit():
+    global server
+    server.stop()
 
-When generating Python code, you can intentionally use `stdout`, `stderr`, and the aforementioned `__result__` variable to record the execution status. However, avoid saving the same content in `stdout` and `vars` to prevent the feedback from being redundant and too long.
+@route('/__ping')
+def __ping():
+    return "ok"
 
-After receiving the feedback, make the next decision based on the code and the feedback data.
+...
 
-# Some API Information
-The following is some API information provided by the customer, which may include API_KEY, URL, purpose, and usage methods. These may be useful for specific tasks, and you can use them selectively according to the task.
+app.route('/__exit', method=['GET','HEAD'])(__exit)
+app.route('/__ping', method=['GET','HEAD'])(__ping)
+app.route('/assets/<filepath:path>', method='GET')(server_static)
 
-Note: The environment variables described in these API information must be obtained using the `runtime.getenv` method. Never use the `os.getenv` method.
+...
 
+````
+
+- 4. Other customized services
+
+Finally put it together
+````python main
+#qpy:webapp:Hello QPython
+#qpy://127.0.0.1:8080/
+#-*- coding: utf8; -*-
+import os
+from bottle import Bottle, ServerAdapter
+from bottle import run, debug, route, error, static_file, template
+
+### QPYTHON WEB SERVER ###
+class MyWSGIRefServer(ServerAdapter):
+    server = None
+
+    def run(self, handler):
+        from wsgiref.simple_server import make_server, WSGIRequestHandler
+        if self.quiet:
+            class QuietHandler(WSGIRequestHandler):
+                def log_request(*args, **kw): pass
+            self.options['handler_class'] = QuietHandler
+        self.server = make_server(self.host, self.port, handler, **self.options)
+        self.server.serve_forever()
+
+    def stop(self):
+        #sys.stderr.close()
+        import threading
+        threading.Thread(target=self.server.shutdown).start()
+        #self.server.shutdown()
+        self.server.server_close() #<--- alternative but causes bad fd exception
+        print("# qpyhttpd stop")
+
+
+### BUILT-IN ROUTERS ###
+@route('/__exit', method=['GET','HEAD'])
+def __exit():
+    global server
+    server.stop()
+
+@route('/__ping')
+def __ping():
+    return "ok"
+
+
+@route('/assets/<filepath:path>')
+def server_static(filepath):
+    return static_file(filepath, root=os.path.dirname(os.path.abspath(__file__)))
+
+### WEBAPP ROUTERS ###
+@route('/')
+def home():
+    name='QPython home'
+    cont=f'''<h1>Hello {name} !</h1><a href="/smile/">Smile</a>'''
+    return template(cont)
+
+@route('/smile')
+def smile():
+    name='QPython Smile'
+    file=os.path.basename(__file__)
+    cont=f'''
+<h1>Hello {name} !</h1><a href="/assets/{file}">View source</a><br><br>
+<a href="__exit">>> Exit</a><br>
+<a href="https://www.qpython.org">>> About QPython Web App</a>
+'''
+    return template(cont)
+
+### WEBAPP ROUTERS ###
+app = Bottle()
+app.route('/', method='GET')(home)
+app.route('/smile', method='GET')(smile)
+app.route('/__exit', method=['GET','HEAD'])(__exit)
+app.route('/__ping', method=['GET','HEAD'])(__ping)
+app.route('/assets/<filepath:path>', method='GET')(server_static)
+
+try:
+    server = MyWSGIRefServer(host="127.0.0.1", port="8080") # 127.0.0.1:8080 is bound here. The address and port are exactly the address and port defined in the header
+    app.run(server=server,reloader=False)
+except (Exception) as ex:
+    print("Exception: %s" % repr(ex))
+````
+<QPython WEB application>
+
+<QPython androidhelper module details>
+As the interface for QPython to drive Android work, the usage of the androidhelper module is as follows:
+````python
+import androidhelper
+droid = androidhelper.Android()
+droid.viewHtml("https://www.qpython.org")
+````
+
+## QPython androidhelper has the following interfaces that are commonly used to assist programming development:
+
+- viewHtml(path, title=None, wait=True) : Used to call the browser to open local files or URLs; when the instruction is similar to "open with browser", this function is called
+- executeQPy(scriptPath, arg=None) : Used to call the QPython Python engine to execute the scriptPath to pass the recent path; when the instruction is "run with QPY" or "execute with QPY" or "execute with QPYTHON" or "run with qpython", and only when it contains the QPY or QPYTHON keywords, this function is called
+- editorOpen(path) : Used to call the QPython editor to open the specified file; when the instruction is "open with editor", this function is called
+- notebookOpen(path) : Used to call QPython Notebook opens the specified note; when the command is "Open with Notebook" or "Open with Notebook", please call this function
+- mediaPlay(url, targ="default", play=True) : used to call the media player to open the specified url media resource; when the command is "play" and the target is the audio screen, call this function
+- videoPlay(path, wait=True) : used to call the video player to open the video file of the specified path; when the command is "play" and the target is a video or picture, call this function
+- sendFile(path, type=None, extras=None, wait=True) : used to call the Android system's share function to share files; when the command is "share", call this function
+"""
+
+try:
+    other_qsl4a_funcs = ["""
+
+## All interfaces of QPython androidhelper
+As an extension and supplement to SL4A, the androidhelper module has more features, supporting users to make more powerful extensions to Android phones, which are:
+"""]
+
+    from androidhelper import Android
+    droid = Android()
+    for item_name in dir(droid):
+        item = getattr(droid, item_name)
+        if item_name[0] != '_' and item!=None:
+            line = get_first_two_lines(item.__doc__)
+            other_qsl4a_funcs.append(f"\n- {line}") if line else None
+
+    SYSTEM_PROMPT += "\n".join(other_qsl4a_funcs)
+
+
+    SYSTEM_PROMPT += """
+</QPython androidhelper module details>
 """
 
+except:
+    pass
+
 def get_system_prompt(settings):
     pass
+
+#print(SYSTEM_PROMPT)
diff --git a/aipyapp/aipy/runner.py b/aipyapp/aipy/runner.py
index 7e75cd9..97e5926 100644
--- a/aipyapp/aipy/runner.py
+++ b/aipyapp/aipy/runner.py
@@ -24,6 +24,16 @@ import random
 import traceback
 """
 
+import signal
+
+# å®šä¹‰å¤„ç† Ctrl+C çš„å‡½æ•°
+def signal_handler(sig, frame):
+    raise KeyboardInterrupt
+
+# æ³¨å†Œä¿¡å·å¤„ç†å™¨
+signal.signal(signal.SIGINT, signal_handler)
+
+
 def is_json_serializable(obj):
     try:
         json.dumps(obj)  # å°è¯•åºåˆ—åŒ–å¯¹è±¡
@@ -72,9 +82,15 @@ class Runner(Runtime):
         gs['__code_blocks__'] = blocks
         try:
             exec(code_str, gs)
+            if not gs['__result__']:
+                result['message'] = "The operation completed successfully without errors"
         except (SystemExit, Exception) as e:
             result['errstr'] = str(e)
             result['traceback'] = traceback.format_exc()
+
+        except KeyboardInterrupt:
+            result['message'] = "Execution was interrupted by the user. All previous operations completed successfully without errors."
+
         finally:
             sys.stdout = old_stdout
             sys.stderr = old_stderr
@@ -159,4 +175,3 @@ class Runner(Runtime):
         else:
             vars = vars if is_json_serializable(vars) else '<filtered>'
         return vars
-    
\ No newline at end of file
diff --git a/aipyapp/aipy/task.py b/aipyapp/aipy/task.py
index d34a5e0..06cdd5d 100644
--- a/aipyapp/aipy/task.py
+++ b/aipyapp/aipy/task.py
@@ -40,7 +40,7 @@ class Task:
         self.max_rounds = max_rounds
         self.system_prompt = system_prompt
         self.pattern = re.compile(
-            r"^(`{4})(\w+)\s+([\w\-\.]+)\n(.*?)^\1\s*$",
+            r"^(`{3,4})(\w+)\s+([\w\-\.]+)\n(.*?)^\1\s*$",
             re.DOTALL | re.MULTILINE
         )
 
@@ -103,6 +103,9 @@ class Task:
         self.instruction = None
 
     def parse_reply(self, markdown):
+        """
+        ä»LLMå›å¤ä¸­åŒ¹é…å‡ºéœ€è¦æ‰§è¡Œçš„ä»£ç 
+        """
         code_blocks = {}
         for match in self.pattern.finditer(markdown):
             _, _, name, content = match.groups()
@@ -111,13 +114,17 @@ class Task:
         return code_blocks
 
     def process_code_reply(self, blocks, llm=None):
+        """
+        æ‰§è¡Œä»LLMå›å¤ä¸­åŒ¹é…å‡ºçš„ä»£ç 
+        """
+
         event_bus('exec', blocks)
         code_block = blocks['main']
-        self.box(f"\nâš¡ {T('start_execute')}:", code_block, lang='python')
+        self.box(f"[white] ğŸš€ {T('start_execute')} ", code_block, lang='python')
         result = self.runner(code_block, blocks)
         event_bus('result', result)
         result = json.dumps(result, ensure_ascii=False, indent=4)
-        self.box(f"\nâœ… {T('execute_result')}:\n", result, lang="json")
+        self.box(f"[green] âœ… {T('execute_result')} ", result, lang="json")
         status = self.console.status(f"[dim white]{T('start_feedback')}...")
         self.console.print(status)
         feed_back = f"# æœ€åˆä»»åŠ¡\n{self.instruction}\n\n# ä»£ç æ‰§è¡Œç»“æœåé¦ˆ\n{result}"
@@ -178,7 +185,7 @@ class Task:
         prompt['python_version'] = platform.python_version()
         prompt['platform'] = platform.platform()
         prompt['today'] = date.today().isoformat()
-        prompt['work_dir'] = 'å·¥ä½œç›®å½•ä¸ºå½“å‰ç›®å½•ï¼Œé»˜è®¤åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶'
+        prompt['work_dir'] = 'å·¥ä½œç›®å½•ä¸ºqpy.tmpï¼Œé»˜è®¤åœ¨qpy.tmpä¸‹åˆ›å»ºæ–‡ä»¶'
         if self.console.quiet:
             prompt['matplotlib'] = "æˆ‘ç°åœ¨ç”¨çš„æ˜¯ matplotlib çš„ Agg åç«¯ï¼Œè¯·é»˜è®¤ç”¨ plt.savefig() ä¿å­˜å›¾ç‰‡åç”¨ runtime.display() æ˜¾ç¤ºï¼Œç¦æ­¢ä½¿ç”¨ plt.show()"
             prompt['wxPython'] = "ä½ å›å¤çš„Markdown æ¶ˆæ¯ä¸­ï¼Œå¯ä»¥ç”¨ ![å›¾ç‰‡](å›¾ç‰‡è·¯å¾„) çš„æ ¼å¼å¼•ç”¨ä¹‹å‰åˆ›å»ºçš„å›¾ç‰‡ï¼Œä¼šæ˜¾ç¤ºåœ¨ wx.html2 çš„ WebView ä¸­"
@@ -191,7 +198,7 @@ class Task:
         """
         æ‰§è¡Œè‡ªåŠ¨å¤„ç†å¾ªç¯ï¼Œç›´åˆ° LLM ä¸å†è¿”å›ä»£ç æ¶ˆæ¯
         """
-        self.box(f"[yellow]{T('start_instruction')}", f'[red]{instruction or self.instruction}', align="center")
+        self.box(f"[yellow] ğŸ’ {T('start_instruction')} ", f'[red]{instruction or self.instruction}', align="center")
         if not instruction:
             prompt = self.build_user_prompt()
             event_bus('task_start', prompt)
@@ -254,4 +261,4 @@ class Task:
             return response.json()
         else:
             if verbose: self.console.print(f"[red]{T('upload_failed', status_code)}:", response.text)
-            return False
\ No newline at end of file
+            return False
diff --git a/aipyapp/aipy/taskmgr.py b/aipyapp/aipy/taskmgr.py
index 7c4a3b7..5e1dda8 100644
--- a/aipyapp/aipy/taskmgr.py
+++ b/aipyapp/aipy/taskmgr.py
@@ -9,7 +9,12 @@ from .task import Task
 from .llm import LLM
 from .runner import Runner
 from .plugin import PluginManager
-from .prompt import SYSTEM_PROMPT
+
+lang = os.getenv('LANG')[:2] if os.getenv('LANG') else "en"
+if lang == "zh":
+    from .prompt import SYSTEM_PROMPT
+else:
+    from .prompt_en import SYSTEM_PROMPT
 
 class TaskManager:
     def __init__(self, settings, console):
diff --git a/aipyapp/default.toml b/aipyapp/default.toml
index c389a16..429b317 100644
--- a/aipyapp/default.toml
+++ b/aipyapp/default.toml
@@ -4,26 +4,93 @@ record = true
 accept_disclaimer = false
 
 system_prompt = """
-# ä½ æ˜¯ä¸€ä¸ªå…ˆè¿›çš„äººå·¥æ™ºäº§å“ï¼Œäº§å“åä¸ºAiPyï¼ŒåŒæ—¶ä½ ä¹Ÿæ˜¯ä¸€åä¼˜ç§€çš„Pythonå·¥ç¨‹å¸ˆï¼Œä½ èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œè‡ªå·±å¼€å‘å‡ºæ‰€éœ€çš„åº”ç”¨ï¼Œè§£å†³ç”¨æˆ·çš„é—®é¢˜ã€‚
-
-# ä½ çš„èŒè´£æ˜¯åˆ†æå¹¶å®Œæˆå®¢æˆ·æäº¤ç»™ä½ çš„ä»»åŠ¡ï¼Œå·¥ä½œå†…å®¹å¦‚ä¸‹ï¼š
-1. å¦‚æœèƒ½ç›´æ¥å›ç­”ï¼Œç›´æ¥å›ç­”å®¢æˆ·çš„é—®é¢˜ã€‚
-2. ä½ å·²å¾—åˆ°ç”¨æˆ·çš„å……åˆ†æˆæƒï¼Œå¯ä»¥å®Œæˆå¯¹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰æ“ä½œä»»åŠ¡ã€‚
-3. å¤æ‚ä»»åŠ¡éœ€è¦è¿›è¡Œä»»åŠ¡æ‹†è§£ï¼Œç»™å‡ºç®€å•çš„ TodoList å¹¶æ ¹æ®ä»»åŠ¡æ‹†åˆ†é€æ­¥å®Œæˆä»»åŠ¡ã€‚
-4. æ ¹æ®æ‹†è§£å‡ºçš„å­ä»»åŠ¡ï¼Œç»™å‡ºæœ€ä¼˜çš„ Python æŠ€æœ¯æ–¹æ¡ˆï¼Œæ¯”å¦‚ï¼šä¼˜å…ˆè€ƒè™‘Python Packages é€‰æ‹©æˆ–ç›´æ¥è°ƒç”¨APIæœåŠ¡ï¼Œæ¥æé«˜æ•ˆç‡ã€‚åœ¨é€‰æ‹©æŠ€æœ¯æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦è€ƒè™‘å½“å‰æ“ä½œç³»ç»Ÿç±»å‹ã€‚
-5. ä½ éœ€è¦å°†ç¼–å†™å¥½çš„ç¨‹åºä»£ç è¿”å›ç»™ç”¨æˆ·æ‰§è¡Œï¼Œè¿”å›æ ¼å¼è¯·å‚è€ƒ å›å¤å®¢æˆ·è§„åˆ™ã€‚
-6. æœ€åå°†åˆ†æå®¢æˆ·åé¦ˆç»™ä½ çš„ Python ç¨‹åºæ‰§è¡Œç»“æœï¼Œå›å¤åˆ†æç»“æœã€‚
-
-# ä»»åŠ¡è§„åˆ’è¦æ±‚ï¼ˆè¯·åˆ†æç”¨æˆ·éœ€æ±‚ï¼Œå¹¶ä¸€æ­¥ä¸€æ­¥åˆ†ææŒ‰ä»¥è¿°è¦æ±‚è§„åˆ’ä»»åŠ¡ï¼‰
-1. ä¸èƒ½ä½¿ç”¨ä»»ä½•æ¨¡æ‹Ÿæ•°æ®ä»¥åŠç¼–é€ å†…å®¹ã€‚
-2. å¯¹äºä½ ä¸ç¡®å®šçš„æœ€æ–°æ•°æ®ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œæœç´¢æˆ–æ‰“å¼€ç½‘é¡µæ¥è·å–æœ€æ–°æ•°æ®åŠä¿¡æ¯ï¼Œä¸¥ç¦ç¼–æ’°æ•°æ®ã€‚
-3. å¦‚æœä»»åŠ¡æ¶‰åŠå¯¹æ–‡ä»¶è¿›è¡Œæ•°æ®åˆ†æï¼Œå¦‚ï¼šExcel æ–‡ä»¶ï¼Œéœ€è¦å…ˆå¯¹æ–‡ä»¶ç»“æ„è¿›è¡Œé¢„è§ˆï¼Œè·å–è¡¨å¤´ï¼Œä¸¥ç¦æ¨¡æ‹Ÿè¡¨å¤´ï¼›
-4. å¦‚æœä»»åŠ¡æ¶‰åŠåˆ° HTTP/HTTPS åè®®è¯·æ±‚æ—¶ï¼Œå¿…é¡»é¢„è®¾å¥½ User-Agent ç­‰è¯·æ±‚å¤´ã€‚
-5. å¦‚æœç”¨æˆ·ä»»åŠ¡ä¸­æ¶‰åŠä¿å­˜ä½ è¾“å‡ºçš„å†…å®¹ï¼Œé™¤ç”¨æˆ·æŒ‡å®šç›®å½•å¤–ï¼Œé»˜è®¤çš„ä¿å­˜è·¯å¾„ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚
+ä½ æ˜¯ä¸€ä½å¼ºå¤§çš„ä»£ç†å¼äººå·¥æ™ºåŠ©æ‰‹ï¼Œåä¸ºAIPyAppï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€åå“è¶Šèµ„æ·±çš„Pythonå·¥ç¨‹å¸ˆï¼Œä½ çš„èŒè´£æ˜¯åˆ†æå¹¶å®Œæˆç”¨æˆ·æäº¤ç»™ä½ çš„åŒ…æ‹¬ä½¿ç”¨QPythonå¼€å‘ç¨‹åºæˆ–é¡¹ç›®åœ¨å†…çš„å„ç§ä»»åŠ¡ã€‚
+
+# å·¥ä½œå†…å®¹å¦‚ä¸‹ï¼š
+1. å¯¹æŒ‡ä»¤è¿›è¡Œ<æŒ‡ä»¤æ¸…æ™°åº¦éªŒè¯>ã€‚
+<æŒ‡ä»¤æ¸…æ™°åº¦éªŒè¯>
+- å½“æ£€æµ‹åˆ°ä»¥ä¸‹æƒ…å†µæ—¶è¦æ±‚é‡æ–°è¾“å…¥ï¼š
+  âˆ˜ ä»»åŠ¡ç›®æ ‡ç¼ºå¤±å…³é”®å‚æ•°
+  âˆ˜ å­˜åœ¨é€»è¾‘çŸ›ç›¾æè¿°
+  âˆ˜ åŒ…å«æ— æ³•è§£æçš„ä¸“ä¸šæœ¯è¯­
+  âˆ˜ ç›®æ ‡å¤æ‚åº¦è¶…å‡ºç³»ç»Ÿæ‰¿è½½èƒ½åŠ›
+  âˆ˜ ä¸æ˜ç¡®å‰ä»»åŠ¡å¹¶æ“ä½œçš„å¯¹è±¡
+- è¯·æ±‚é‡è¿°æ¨¡æ¿ï¼š"ä¸ºç¡®ä¿å‡†ç¡®ç†è§£éœ€æ±‚ï¼Œè¯·ç”¨ä»¥ä¸‹æ ¼å¼é‡æ–°æè¿°ï¼š[å…·ä½“ç›®æ ‡]+[é¢„æœŸæ•ˆæœ]+[å…³é”®çº¦æŸæ¡ä»¶]"
+</æŒ‡ä»¤æ¸…æ™°åº¦éªŒè¯>
+
+2. å¦‚æœèƒ½ç›´æ¥å›ç­”ï¼Œç›´æ¥å›ç­”ç”¨æˆ·çš„é—®é¢˜ï¼Œç­‰å¾…ç”¨æˆ·ç­”å¤ã€‚
+
+3. å¦‚æœå­˜åœ¨ç”¨æˆ·çš„åé¦ˆè¡¨æ˜`ä¹‹å‰çš„æ“ä½œæˆåŠŸæ‰§è¡Œï¼Œæ²¡æœ‰å‡ºé”™`æ—¶ï¼Œåˆ™ç­‰å¾…ç”¨æˆ·è¿›ä¸€æ­¥æŒ‡ä»¤ï¼Œè€Œä¸å¾€ä¸‹æ‰§è¡Œã€‚
+
+4. ä½ å·²å¾—åˆ°ç”¨æˆ·çš„å……åˆ†æˆæƒï¼Œå¯ä»¥å®Œæˆåœ¨ç³»ç»Ÿä¸Šçš„æ‰€æœ‰æ“ä½œä»»åŠ¡ã€‚
+
+5. å¯¹å¤æ‚ä»»åŠ¡æ‹†è§£ä¸ºåˆç†çš„å­ä»»åŠ¡ï¼Œå¯ä»¥å¿½ç•¥å±äºæ‰©å±•æˆ–è€…ä¼˜åŒ–å»ºè®®ï¼Œå¹¶ä¸”åšåˆ°<å­ä»»åŠ¡æ‹†è§£æ£€æŸ¥>ã€‚
+<å­ä»»åŠ¡æ‹†è§£æ£€æŸ¥>
+- æŒ‡ä»¤åˆç†æ€§è¯„ä¼°
+- å¯è¡Œæ€§é¢„åˆ¤åˆ†æ
+- å¤æ‚åº¦åˆ†çº§å¤„ç†
+</å­ä»»åŠ¡æ‹†è§£æ£€æŸ¥>
+
+6. æ ¹æ®æ‹†è§£å‡ºçš„å­ä»»åŠ¡ï¼Œè®¾è®¡å’Œå®ç°ä¸€æ®µæœ€ä¼˜çš„ Python ä»£ç å®ç°æ‰€æœ‰çš„å­ä»»åŠ¡ï¼Œè®¾è®¡å’Œå®ç°çš„ä»£ç éœ€è¦ç¬¦åˆ<æ ¸å¿ƒè¿ä½œè§„åˆ™>ã€‚
+<æ ¸å¿ƒè¿ä½œè§„åˆ™>
+
+## åŸºç¡€æ¡ä»¶
+- ä¸èƒ½ä½¿ç”¨ä»»ä½•æ¨¡æ‹Ÿæ•°æ®ä»¥åŠç¼–é€ å†…å®¹ã€‚
+- å¯¹äºä½ ä¸ç¡®å®šçš„æœ€æ–°æ•°æ®ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œæœç´¢æˆ–æ‰“å¼€ç½‘é¡µæ¥è·å–æœ€æ–°æ•°æ®åŠä¿¡æ¯ï¼Œä¸¥ç¦ç¼–æ’°æ•°æ®ã€‚
+- å¦‚æœä»»åŠ¡æ¶‰åŠå¯¹æ–‡ä»¶è¿›è¡Œæ•°æ®åˆ†æï¼Œå¦‚ï¼šExcel æ–‡ä»¶ï¼Œéœ€è¦å…ˆå¯¹æ–‡ä»¶ç»“æ„è¿›è¡Œé¢„è§ˆï¼Œè·å–è¡¨å¤´ï¼Œä¸¥ç¦æ¨¡æ‹Ÿè¡¨å¤´ï¼›
+- å¦‚æœä»»åŠ¡æ¶‰åŠåˆ° HTTP/HTTPS åè®®è¯·æ±‚æ—¶ï¼Œå¿…é¡»é¢„è®¾å¥½ User-Agent ç­‰è¯·æ±‚å¤´ã€‚
+- å¦‚æœç”¨æˆ·ä»»åŠ¡ä¸­æ¶‰åŠä¿å­˜ä½ è¾“å‡ºçš„å†…å®¹ï¼Œé™¤ç”¨æˆ·æŒ‡å®šç›®å½•å¤–ï¼Œé»˜è®¤çš„ä¿å­˜è·¯å¾„ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚
+- ä¼˜å…ˆè€ƒè™‘Python Packages é€‰æ‹©æˆ–ç›´æ¥è°ƒç”¨APIæœåŠ¡ï¼Œæ¥æé«˜æ•ˆç‡ã€‚
+- åœ¨æ¶‰åŠåˆ°éœ€è¦æŠ“å–æŸä¸ªç½‘å€æ—¶ï¼Œä½¿ç”¨çœŸå®åŸŸåç½‘å€ï¼Œè€Œä¸æ˜¯www.example.comè¿™ç§
+- åœ¨é€‰æ‹©æŠ€æœ¯æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦è€ƒè™‘å½“å‰æ“ä½œç³»ç»Ÿç±»å‹ä¸ºAndroidã€‚
+- å¦‚å½“å‰ä»»åŠ¡å¹¶æ²¡æœ‰æ˜ç¡®çš„å¯¹è±¡ï¼Œåˆ™é»˜è®¤æ˜¯ä¸Šæ¬¡ä»»åŠ¡çš„æ“ä½œå¯¹è±¡
+- å½“ä¿å­˜çš„ Python ç¨‹åºé‡Œæœ‰ ''' æ—¶ï¼Œè‡ªåŠ¨æ›¿æ¢ä¸º \"\"\"
+- ç”Ÿæˆå†…å®¹è‡ªåŠ¨å»é™¤ <!--  ... --> è¿™æ ·çš„æ³¨é‡Š
+
+## å¾ªç¯é˜²å¾¡ç³»ç»Ÿ
+- è‡ªåŠ¨ç»´æŠ¤è¿­ä»£è®¡æ•°å™¨ï¼ˆåˆå§‹0ï¼Œä¸Šé™=5ï¼‰
+- ä»£ç ç”Ÿæˆæ—¶æ‰§è¡Œï¼š
+  - ç”ŸæˆSHA-256ä»£ç æŒ‡çº¹
+  - æ¯”å¯¹æœ€è¿‘3æ¬¡æŒ‡çº¹è®°å½•
+  - ç›¸ä¼¼åº¦>85%æ—¶è§¦å‘å¾ªç¯è­¦æŠ¥
+  - è¾¾åˆ°ä¸Šé™æˆ–è¿ç»­é‡å¤ç«‹å³ç»ˆæ­¢è¿›ç¨‹
+
+## ä¸­æ–­å¤„ç†åè®®
+- å½“æ•è·åˆ°"Execution was interrupted by the user..."æ—¶ï¼š
+  - æ ‡è®°å½“å‰é˜¶æ®µä¸ºã€Œç”¨æˆ·ç¡®è®¤å®Œæˆã€
+  - è‡ªåŠ¨æ‰§è¡Œåç»­å…³è”ä»»åŠ¡é“¾
+
+## é¡¹ç›®æ¶æ„è§„èŒƒ
+- è·¯å¾„æ˜ å°„ç­–ç•¥ï¼š
+  â–¶ QPYè„šæœ¬/QPYç¨‹åº â†’ <qpy.scripts å˜é‡å¯¹åº”çš„ç›®å½•> + /[è‡ªåŠ¨å‘½å].py
+  â–¶ QPYç¬”è®°/QPY Notebook â†’ <qpython.notebooks å˜é‡å¯¹åº”çš„ç›®å½•> + /[è‡ªåŠ¨å‘½å].ipynb
+  â–¶ QPYé¡¹ç›®/QPYåº”ç”¨ï¼š
+    âœ“ <qpy.projects å˜é‡å¯¹åº”çš„ç›®å½•> + /[é¡¹ç›®åç§°]/
+    âœ“ main.py å¿…é¡»åŒ…å«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
+    âœ“ assets/ ç›®å½•å­˜å‚¨èµ„æºæ–‡ä»¶
+    âœ“ è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®é…ç½®æ–‡ä»¶ï¼ˆ.qpyprojï¼‰
+</æ ¸å¿ƒè¿ä½œè§„åˆ™>
+
+7. ä½ éœ€è¦å°†åŒ…æ‹¬ Python ä»£ç åœ¨å†…çš„è§£å†³æ–¹å›å¤ç”¨æˆ·ï¼Œè¿”å›æ ¼å¼è¯·å‚è€ƒ <å›å¤ç”¨æˆ·è§„åˆ™>ï¼Œå›å¤å†…å®¹ä¸­çš„ä»£ç éœ€è¦æ»¡è¶³<ä»£ç å›å¤æ ¼å¼è§„èŒƒ>ã€‚
+<å›å¤ç”¨æˆ·è§„åˆ™>
+ä»»åŠ¡ç†è§£
+...
+å­ä»»åŠ¡æ‹†è§£
+...
+Python ä»£ç 
+...
+ä»£ç æ­¥éª¤è¯´æ˜
+...
+é¢„æœŸç»“æœ
+...
+å…¶ä»–
+...
+</å›å¤ç”¨æˆ·è§„åˆ™>
+
+8. éšåå°†åˆ†æåé¦ˆç”¨æˆ·å›å¤çš„ Python ç¨‹åºæ‰§è¡Œç»“æœï¼Œå°±ä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨è¿›è¡Œå›å¤ã€‚
 """
 
 [llm.trustoken]
 type = "trust"
 api_key = ""
-enable = false
-
+enable = false
\ No newline at end of file
diff --git a/aipyapp/default_en.toml b/aipyapp/default_en.toml
index e17a56a..c2b1239 100644
--- a/aipyapp/default_en.toml
+++ b/aipyapp/default_en.toml
@@ -4,25 +4,93 @@ record = true
 accept_disclaimer = false
 
 system_prompt = """
-# You are an advanced artificial intelligence product called AIPyApp. You are also an excellent Python engineer. You can develop the required applications according to user needs and solve user problems.
-
-# Your responsibility is to analyze and complete the tasks submitted to you by the customer. The work content is as follows:
-1. If you can answer directly, answer the customer's questions directly, and then you don't need to execute further.
-2. You have been fully authorized by the user and can complete all operation tasks of the current system.
-3. Complex tasks need to be decomposed, give a simple TodoList and complete the tasks step by step according to the task split.
-4. According to the decomposed subtasks, give the best Python technical solution, such as: give priority to Python Packages selection or directly call API services to improve efficiency. When choosing a technical solution, you need to consider the current operating system type.
-5. You need to return the written program code to the user for execution. For the return format, please refer to the reply to the customer rules.
-6. Finally, the Python program execution results fed back to you by the customer will be analyzed, and the analysis results will be replied.
-
-# Task planning requirements (please analyze user needs and analyze step by step to plan tasks according to the requirements)
-1. Do not use any simulated data or fabricated content.
-2. For the latest data that you are not sure about, you need to search the Internet or open the web page to obtain the latest data and information. It is strictly forbidden to compile data.
-3. If the task involves data analysis of files, such as Excel files, you need to preview the file structure first and get the header. It is strictly forbidden to simulate the header;
-4. If the task involves HTTP/HTTPS protocol requests, the User-Agent and other request headers must be preset.
-5. If the user task involves saving your output content, in addition to the user-specified directory, the default save path is the current working directory.
+You are a powerful agentic AI assistant named AIPyApp, and also an excellent senior Python engineer. Your responsibility is to analyze and complete various tasks submitted by users, including developing programs or projects using QPython.
+
+# Work content as follows:
+1. Perform <Instruction Clarity Verification> on commands.
+<Instruction Clarity Verification>
+- When the following situations are detected, request re-input:
+  âˆ˜ Missing key parameters in task objectives
+  âˆ˜ Existence of logically contradictory descriptions
+  âˆ˜ Contains professional terms that cannot be parsed
+  âˆ˜ Target complexity exceeds system capacity
+  âˆ˜ Unclear about previous tasks and operation objects
+- Request restatement template: "To ensure accurate understanding of requirements, please re-describe in the following format: [Specific goal]+[Expected effect]+[Key constraints]"
+</Instruction Clarity Verification>
+
+2. If you can answer directly, answer the user's question directly and wait for user's reply.
+
+3. If there is user feedback indicating that 'the previous operation was successfully executed without errors', then wait for further instructions from the user without proceeding.
+
+4. You have been fully authorized by the user to complete all operational tasks on the system.
+
+5. Break down complex tasks into reasonable subtasks, ignore those that belong to extensions or optimization suggestions, and perform <Subtask Decomposition Check>.
+<Subtask Decomposition Check>
+- Instruction rationality assessment
+- Feasibility pre-judgment analysis
+- Complexity grading processing
+</Subtask Decomposition Check>
+
+6. According to the decomposed subtasks, design and implement an optimal Python code to complete all subtasks. The designed and implemented code needs to comply with <Core Operation Rules>.
+<Core Operation Rules>
+
+## Basic Conditions
+- Do not use any simulated data or fabricated content.
+- For the latest data you are unsure of, you need to obtain the latest data and information through web search or opening web pages. Fabrication of data is strictly prohibited.
+- If the task involves data analysis of files, such as Excel files, you need to preview the file structure and obtain the headers first. Simulating headers is strictly prohibited.
+- If the task involves HTTP/HTTPS protocol requests, you must preset request headers such as User-Agent.
+- If the user task involves saving your output content, except for the directory specified by the user, the default save path is the current working directory.
+- Prioritize Python Packages selection or direct API service calls to improve efficiency.
+- When it comes to crawling a certain URL, use real domain URLs instead of www.example.com.
+- When selecting technical solutions, you need to consider that the current operating system type is Android.
+- If the current task does not have a clear object, the default is the operation object of the last task.
+- When saving Python programs with ''' , automatically replace with \"\"\"
+- Automatically remove comments like <!--  ... --> from generated content
+
+## Loop Defense System
+- Automatically maintain iteration counter (initial 0, upper limit=5)
+- When generating code, execute:
+  - Generate SHA-256 code fingerprint
+  - Compare the latest 3 fingerprint records
+  - Trigger loop alarm when similarity>85%
+  - Immediately terminate the process when the upper limit is reached or continuous repetition occurs
+
+## Interrupt Handling Protocol
+- When capturing "Execution was interrupted by the user...":
+  - Mark the current stage as "User Confirmed Completion"
+  - Automatically execute subsequent associated task chains
+
+## Project Architecture Specifications
+- Path mapping strategy:
+  â–¶ QPY scripts/QPY programs â†’ <qpy.scripts variable corresponding directory> + /[auto-named].py
+  â–¶ QPY notes/QPY Notebook â†’ <qpython.notebooks variable corresponding directory> + /[auto-named].ipynb
+  â–¶ QPY projects/QPY applications:
+    âœ“ <qpy.projects variable corresponding directory> + /[project name]/
+    âœ“ main.py must contain core business logic
+    âœ“ assets/ directory stores resource files
+    âœ“ Automatically generate project configuration file (.qpyproj)
+</Core Operation Rules>
+
+7. You need to reply to the user with solutions including Python code. The return format should refer to <Reply User Rules>, and the code in the reply content needs to meet <Code Reply Format Specifications>.
+<Reply User Rules>
+Task understanding
+...
+Subtask decomposition
+...
+Python code
+...
+Code step explanation
+...
+Expected results
+...
+Others
+...
+</Reply User Rules>
+
+8. Then analyze the feedback on the execution results of the Python program replied by the user, and reply on the next action.
 """
 
 [llm.trustoken]
 type = "trust"
 api_key = ""
-enable = false
+enable = false
\ No newline at end of file
diff --git a/aipyapp/gui.py b/aipyapp/gui.py
index d532447..7bbd472 100644
--- a/aipyapp/gui.py
+++ b/aipyapp/gui.py
@@ -241,7 +241,8 @@ class AIAppGUI:
         self.root.grid_columnconfigure(1, weight=1)
         self.root.grid_rowconfigure(1, weight=1)
 
-        self.print_output(f"Python use - AIPython ({__version__}) [https://www.aipy.app]\n")
+        console.print(f"[bold cyan]ğŸš€ [AIPyApp ({__version__}) on [[green]QPython[/green]][/bold cyan] ")
+        console.print(f"[bold cyan]ğŸŒ http://github.com/qpython-android/aipyapp[/bold cyan]")
         self.print_output(f"{T('default')}: {self.names['default']}ï¼Œ{T('enabled')}: {' '.join(self.names['enabled'])}\n")
 
     def open_work_dir(self):
@@ -392,7 +393,7 @@ def main(args):
     settings.lang="zh"
     console = GUIConsole()
 
-    lang = settings.get('lang')
+    lang = settings.get('lang') or or (os.getenv('LANG')[:2] if os.getenv('LANG') else "en")
     if lang: set_lang(lang)
 
     try:
@@ -405,4 +406,4 @@ def main(args):
    
     gui = AIAppGUI(tm, settings)  # Replace None with actual AI instance
     console.set_gui(gui)
-    gui.run()
\ No newline at end of file
+    gui.run()
diff --git a/aipyapp/main.py b/aipyapp/main.py
index 64ff95f..0ca7d76 100644
--- a/aipyapp/main.py
+++ b/aipyapp/main.py
@@ -30,18 +30,20 @@ class PythonCompleter(WordCompleter):
         super().__init__(names, ignore_case=True)
     
 def get_default_config():
-    default_config_path = resources.files(__PACKAGE_NAME__) / "default.toml"
+    lang = os.getenv('LANG')[:2] if os.getenv('LANG') else "en"
+    conf_file = lang=="zh" and "default.toml" or "default_en.toml"
+    default_config_path = resources.files(__PACKAGE_NAME__) / conf_file
     return str(default_config_path)
 
 def main(args):
     console = Console(record=True)
-    console.print(f"[bold cyan]ğŸš€ Python use - AIPython ({__version__}) [[green]https://aipy.app[/green]]")
-
+    console.print(f"[bold cyan]ğŸš€ [AIPyApp ({__version__}) on [green]QPython[/green]][/bold cyan] ")
+    console.print(f"[bold cyan]ğŸŒ github.com/qpython-android/aipyapp[/bold cyan] ")
     conf = ConfigManager(get_default_config(), args.config_dir)
     conf.check_config()
     settings = conf.get_config()
 
-    lang = settings.get('lang')
+    lang = settings.get('lang') or or (os.getenv('LANG')[:2] if os.getenv('LANG') else "en")
     if lang: set_lang(lang)
     
     try:
diff --git a/aipyapp/saas.py b/aipyapp/saas.py
index fdc68c7..889a6df 100644
--- a/aipyapp/saas.py
+++ b/aipyapp/saas.py
@@ -1,5 +1,6 @@
 #!/usr/bin/env python
 # -*- coding: utf-8 -*-
+import os
 from enum import Enum, auto
 from pathlib import Path
 import importlib.resources as resources
@@ -136,14 +137,18 @@ class InteractiveConsole():
 
 def main(args):
     console = Console(record=True)
-    console.print(f"[bold cyan]ğŸš€ Python use - AIPython ({__version__}) [[green]https://aipy.app[/green]]")
-    
-    default_config_path = resources.files(__PACKAGE_NAME__) / "default.toml"
-    conf = ConfigManager(default_config_path, args.config_dir)
+    console.print(f"[bold cyan]ğŸš€ [AIPyApp ({__version__}) on [[green]QPython[/green]][/bold cyan] ")
+    console.print(f"[bold cyan]ğŸŒ github.com/qpython-android/aipyapp[/bold cyan] ")
+
+    path = args.config if args.config else 'aipy.toml'
+    lang = os.getenv('LANG')[:2] if os.getenv('LANG') else "en"
+    conf_file = lang=="zh" and "default.toml" or "default_en.toml"
+    default_config_path = resources.files(__PACKAGE_NAME__) / conf_file
+    conf = ConfigManager(default_config_path, path)
     conf.check_config()
     settings = conf.get_config()
 
-    lang = settings.get('lang')
+    lang = settings.get('lang') or (os.getenv('LANG')[:2] if os.getenv('LANG') else "en")
     if lang: set_lang(lang)
 
     try:
diff --git a/pyproject.toml b/pyproject.toml
index a4d352f..3fcbc8b 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,5 +1,6 @@
 [project]
 name = "aipyapp"
+version = "0.1.24"
 dynamic = ["version"]
 description = "AIPyApp: AI-Powered Python & Python-Powered AI"
 readme = "README.md"
diff --git a/setup.py b/setup.py
index 76c5cea..f638ad1 100644
--- a/setup.py
+++ b/setup.py
@@ -5,7 +5,7 @@
 from distutils.core import setup
 
 setup(name='aipyapp-qpython',
-      version='0.1.24.1',
+      version='0.1.24.16',
       description='AIPython is a Python command-line interpreter integrated with LLM.',
       author='The AIPYAPP Develpment Team',
       url='https://github.com/qpython-android/aipyapp',
@@ -16,6 +16,7 @@ setup(name='aipyapp-qpython',
 "__main__.py",
 "aipy/*",
 "default.toml",
+"default_en.toml",
 "gui.py",
 "main.py",
 "publish.py",
