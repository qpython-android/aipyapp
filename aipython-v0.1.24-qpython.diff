diff --git a/aipyapp/__main__.py b/aipyapp/__main__.py
index 7af1fd6..cac6783 100644
--- a/aipyapp/__main__.py
+++ b/aipyapp/__main__.py
@@ -1,46 +1,24 @@
 #!/usr/bin/env python
 # coding: utf-8
-
-import argparse
 from pathlib import Path
 
-from .aipy.config import CONFIG_DIR
-
-config_help_message = (
-    f"Specify the configuration directory.\nDefaults to {CONFIG_DIR} if not provided."
-)
-
-def ensure_wxpython():
-    try:
-        import wx
-    except:
-        import sys
-        import subprocess
-
-        cp = subprocess.run([sys.executable, "-m", "pip", "install", 'wxpython'])
-        assert cp.returncode == 0
-
-def mainw():
-    def parse_args():
-        parser = argparse.ArgumentParser(description="Python use - AIPython")
-        parser.add_argument("-c", '--config-dir', type=str,
-                            help=config_help_message) # Use the generated help message
-        parser.add_argument('cmd', nargs='?', default=None, help="Task to execute, e.g. 'Who are you?'")
-        return parser.parse_args()
-    args = parse_args()
-
-    ensure_wxpython()
-    from .wxgui import main as aipy_main
-    aipy_main(args)
+from .aipy.config import SETTINGS_FILES
 
 def main():
+    settings_files_help = "\n".join(map(str, SETTINGS_FILES))
+
+    config_help_message = (
+        f"Toml config file. If not provided, searches in:\n{settings_files_help}"
+    )
 
     def parse_args():
-        parser = argparse.ArgumentParser(description="Python use - AIPython", formatter_class=argparse.RawTextHelpFormatter)
-        parser.add_argument("-c", '--config-dir', type=str,
+        import argparse
+        parser = argparse.ArgumentParser(description="AIPyApp on QPython", formatter_class=argparse.RawTextHelpFormatter)
+        parser.add_argument("-c", '--config', type=str, default="aipy.toml",
                             help=config_help_message) # Use the generated help message
         parser.add_argument('-p', '--python', default=False, action='store_true', help="Python mode")
         parser.add_argument('-g', '--gui', default=False, action='store_true', help="GUI mode")
+
         parser.add_argument('cmd', nargs='?', default=None, help="Task to execute, e.g. 'Who are you?'")
         return parser.parse_args()
 
@@ -49,8 +27,7 @@ def main():
     if args.python:
         from .main import main as aipy_main
     elif args.gui:
-        ensure_wxpython()
-        from .wxgui import main as aipy_main
+        from .gui import main as aipy_main
     else:
         from .saas import main as aipy_main
     aipy_main(args)
diff --git a/aipyapp/aipy/config.py b/aipyapp/aipy/config.py
index 02aaae1..4e41646 100644
--- a/aipyapp/aipy/config.py
+++ b/aipyapp/aipy/config.py
@@ -1,92 +1,17 @@
-import sys
-import time
-import requests # Import requests library
 import os
+import sys
 import re
-import io
-import datetime
-import webbrowser
 from pathlib import Path
 
 from dynaconf import Dynaconf
 from rich import print
-import tomli_w
-import qrcode
-
-
-from .i18n import T
-
-__PACKAGE_NAME__ = "aipyapp"
-
-OLD_SETTINGS_FILES = [
-    Path.home() / '.aipy.toml',
-    Path('aipython.toml').resolve(),
-    Path('.aipy.toml').resolve(),
-    Path('aipy.toml').resolve()
-]
-
-# Coordinator æœåŠ¡å™¨åœ°å€
-COORDINATOR_URL = os.getenv('COORDINATOR_URL', 'https://api.trustoken.ai/api')
-POLL_INTERVAL = 5 # è½®è¯¢é—´éš”ï¼ˆç§’ï¼‰
-CONFIG_FILE_NAME = f"{__PACKAGE_NAME__}.toml"
-USER_CONFIG_FILE_NAME = "user_config.toml"
-
-def init_config_dir():
-    """
-    è·å–å¹³å°ç›¸å…³çš„é…ç½®ç›®å½•ï¼Œå¹¶ç¡®ä¿ç›®å½•å­˜åœ¨
-    """
-    if sys.platform == "win32":
-        # Windows è·¯å¾„
-        app_data = os.environ.get("APPDATA")
-        if app_data:
-            config_dir = Path(app_data) / __PACKAGE_NAME__
-        else:
-            config_dir = Path.home() / "AppData" / "Roaming" / __PACKAGE_NAME__
-    else:
-        # Linux/macOS è·¯å¾„
-        config_dir = Path.home() / ".config" / __PACKAGE_NAME__
-
-    # ç¡®ä¿ç›®å½•å­˜åœ¨
-    try:
-        config_dir.mkdir(parents=True, exist_ok=True)
-    except PermissionError:
-        print(T('permission_denied_error').format(config_dir))
-        raise
-    except Exception as e:
-        print(T('error_creating_config_dir').format(config_dir, str(e)))
-        raise
-
-    return config_dir
-
-CONFIG_DIR = init_config_dir()
-
-def get_config_file_path(config_dir=None, file_name=CONFIG_FILE_NAME):
-    """
-    è·å–é…ç½®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
-    :return: é…ç½®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
-    """
-    if config_dir:
-        config_dir = Path(config_dir)
-    else:
-        config_dir = CONFIG_DIR
 
-    config_file_path = config_dir / file_name
 
-    # å¦‚æœé…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶
-    if not config_file_path.exists():
-        try:
-            config_file_path.touch()
-        except Exception as e:
-            print(T('error_creating_config_dir').format(config_file_path, str(e)))
-            raise
+from .i18n import T, set_lang
 
-    return config_file_path
+SETTINGS_FILES = [Path.home() / '.aipy.toml', Path('aipython.toml').resolve(), Path('.aipy.toml').resolve(), Path('aipy.toml').resolve()]
 
-def lowercase_keys(d):
-    """é€’å½’åœ°å°†å­—å…¸ä¸­çš„æ‰€æœ‰é”®è½¬æ¢ä¸ºå°å†™"""
-    if not isinstance(d, dict):
-        return d
-    return {k.lower(): lowercase_keys(v) for k, v in d.items()}
+set_lang((os.getenv('LANG')[:2] if os.getenv('LANG') else "en"))
 
 def is_valid_api_key(api_key):
     """
@@ -95,261 +20,86 @@ def is_valid_api_key(api_key):
     :param api_key: å¾…æ ¡éªŒçš„ API Key å­—ç¬¦ä¸²
     :return: å¦‚æœæ ¼å¼æœ‰æ•ˆè¿”å› Trueï¼Œå¦åˆ™è¿”å› False
     """
-    pattern = r"^[A-Za-z0-9_-]{8,128}$"
+    pattern = r"^[A-Za-z0-9+/=-]{8,128}$"
     return bool(re.match(pattern, api_key))
 
-def request_binding():
-    """å‘ Coordinator è¯·æ±‚ç»‘å®š"""
-    url = f"{COORDINATOR_URL}/request_bind"
-    try:
-        response = requests.post(url, timeout=10)
-        response.raise_for_status()
-
-        data = response.json()
-        approval_url = data['approval_url']
-        request_id = data['request_id']
-        expires_in = data['expires_in']
-
-        print(T('binding_request_sent').format(request_id, approval_url, expires_in))
-        print(T('scan_qr_code'))
-
-        try:
-            qr = qrcode.QRCode(
-                error_correction=qrcode.constants.ERROR_CORRECT_L,
-                border=1
-            )
-            qr.add_data(approval_url)
-            qr.make(fit=True)
-            qr.print_ascii(tty=True)
-            print("\n")
-        except Exception as e:
-            print(T('qr_code_display_failed').format(e))
-
-        return data['request_id']
-
-    except requests.exceptions.RequestException as e:
-        print(T('coordinator_request_error').format(e))
-        return None
-    except Exception as e:
-        print(T('unexpected_request_error').format(e))
-        return None
-
-def poll_status(request_id, save_func=None):
-    """è½®è¯¢ç»‘å®šçŠ¶æ€"""
-    url = f"{COORDINATOR_URL}/check_status"
-    params = {'request_id': request_id}
-    start_time = time.time()
-    polling_timeout = 310
-
-    print(T('waiting_for_approval'))
-    try:
-        while time.time() - start_time < polling_timeout:
-            try:
-                response = requests.get(url, params=params, timeout=10)
-                response.raise_for_status()
-
-                data = response.json()
-                status = data.get('status')
-                print(T('current_status').format(status))
-
-                if status == 'approved':
-                    if save_func:
-                        save_func(data['secret_token'])
-                    return True
-                elif status == 'expired':
-                    print(T('binding_expired'))
-                    return False
-                elif status == 'pending':
-                    pass
-                else:
-                    print(T('unknown_status').format(status))
-                    return False
-
-            except requests.exceptions.RequestException as e:
-                print(T('coordinator_polling_error').format(e))
-                time.sleep(POLL_INTERVAL)
-            except Exception as e:
-                print(T('unexpected_polling_error').format(e))
-                return False
-
-            time.sleep(POLL_INTERVAL)
-    except KeyboardInterrupt:
-        print(T('polling_cancelled'))
-        return False
-
-    print(T('polling_timeout'))
-    return False
-
-def fetch_token(save_func):
-    """ä» Coordinator è·å– Token å¹¶ä¿å­˜"""
-    print(T('start_binding_process'))
-    req_id = request_binding()
-    if req_id:
-        if poll_status(req_id, save_func):
-            print(T('binding_success'))
-        else:
-            print(T('binding_failed'))
-            sys.exit(1)
-    else:
-        print(T('binding_request_failed'))
-        sys.exit(1)
 
 class ConfigManager:
-    def __init__(self, default_config="default.toml",  config_dir=None):
-        self.config_file = get_config_file_path(config_dir)
-        self.user_config_file = get_config_file_path(config_dir, USER_CONFIG_FILE_NAME)
+    def __init__(self, default_config="default.toml", user_config="aipy.toml"):
         self.default_config = default_config
+        self.user_config = user_config
         self.config = self._load_config()
 
-        # old user config, without default config.
-        self._old_user_config = Dynaconf(
-            settings_files=OLD_SETTINGS_FILES,
-            envvar_prefix="AIPY", merge_enabled=True
-        )
-        #print(self.config.to_dict())
-        #print(self._old_user_config.to_dict())
-
     def _load_config(self):
-        config = Dynaconf(
-            settings_files=[self.default_config, self.config_file, self.user_config_file],
-            envvar_prefix="AIPY",
-        )
-        #print(config.to_dict())
+        try:
+            settings_files = [self.default_config] + SETTINGS_FILES[:-1] + [Path(self.user_config).resolve()]
+
+            config = Dynaconf(
+                settings_files=settings_files,
+                envvar_prefix="AIPY", merge_enabled=True
+            )
+        except Exception as e:
+            print(T('error_loading_config').format(e))
+            config = None
         return config
 
     def get_config(self):
         return self.config
 
-    def save_tt_config(self, api_key):
-        config = {
-            'llm': {
-                'trustoken': {
-                    'api_key': api_key,
-                    'type': 'trust',
-                    'base_url': 'https://api.trustoken.ai/v1',
-                    'model': 'auto',
-                    'default': True,
-                    'enable': True
-                }
-            }
-        }
-        header_comments = [
-            f"# Configuration file for {__PACKAGE_NAME__}",
-            "# Auto-generated on " + datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
-            f"# è¯·å‹¿ç›´æ¥ä¿®æ”¹æ­¤æ–‡ä»¶ï¼Œé™¤éæ‚¨äº†è§£å…·ä½“é…ç½®æ ¼å¼ï¼Œå¦‚æœè‡ªå®šä¹‰é…ç½®ï¼Œè¯·æ”¾åˆ°{self.user_config_file}",
-            f"# Please do not edit this file directly unless you understand the format. If you want to customize the configuration, please edit {self.user_config_file}",
-            ""
-        ]
-        footer_comments = [
-            "",
-            "# End of configuration file"
-        ]
-
-        with open(self.config_file, "w", encoding="utf-8") as f:
-            # 1. å†™å…¥å¤´éƒ¨æ³¨é‡Š
-            f.write("\n".join(header_comments) + "\n")
-
-            # 2. å†™å…¥ TOML å†…å®¹åˆ°ä¸´æ—¶å†…å­˜æ–‡ä»¶
-
-            temp_buffer = io.BytesIO()
-            tomli_w.dump(config, temp_buffer)
-            toml_content = temp_buffer.getvalue().decode('utf-8')
-
-            # 3. å†™å…¥ TOML å†…å®¹
-            f.write(toml_content)
-
-            # 4. å†™å…¥å°¾éƒ¨æ³¨é‡Š
-            f.write("\n".join(footer_comments))
-
-        return config
-
     def check_config(self):
+        if not self.config:
+            print(T('config_file_error'))
+            return
 
+        self.check_llm()
+
+    def check_llm(self):
         if not self.config:
             print(T('config_not_loaded'))
             return
-        tt = self.config.get('llm', {}).get('trustoken', {})
-        if tt and tt.get('api_key') and tt.get('type') == 'trust':
-            # valid tt config
-            #print("trustoken config found")
-            return
-        elif self._old_user_config.to_dict():
-            # no tt config, try to migrate from old config
-            # remove this later.
-            self._migrate_old_config(self._old_user_config)
-        else:
-            # try to fetch config from web.
-            fetch_token(self.save_tt_config)
-        
-        # reload config
-        self.config = self._load_config()
 
-    def _migrate_old_config(self, old_config):
-        """
-        ä»old_configä¸­æå–ç¬¦åˆç‰¹å®šæ¡ä»¶çš„API keysï¼Œå¹¶ä»åŸå§‹é…ç½®ä¸­åˆ é™¤
-        
-        è¿”å›: æå–çš„API keyså­—å…¸ï¼Œæ ¼å¼ä¸º {é…ç½®åç§°: API key}
-        """
-        if not old_config:
-            return {}
+        llm = self.config.get("llm")
+        if not llm:
+            print(T('llm_config_not_found'))
 
-        tt_keys = []
+        llms = {}
+        for name, config in self.config.get('llm', {}).items():
+            if config.get("enable", True):
+                llms[name] = config
 
-        # å¤„ç†é¡¶çº§é…ç½®
-        llm = old_config.get('llm', {})
-        for section_name, section_data in list(llm.items()):
-            # è·³è¿‡éå­—å…¸ç±»å‹çš„é…ç½®
-            if not isinstance(section_data, dict):
-                continue
+        if not llms:
+            self._init_llm()
+
+    def _init_llm(self):
+        print(T('pgpttoken_register_instruction').format(self.user_config))
 
-            # æ£€æŸ¥é¡¶çº§é…ç½®
-            if self._is_tt_config(section_name, section_data):
-                api_key = section_data.get('api_key', '')
-                if api_key:
-                    tt_keys.append(api_key)
-                # ä»åŸé…ç½®ä¸­åˆ é™¤
-                llm.pop(section_name)
+        while True:
+            user_token = input(T('prompt_token_input')).strip()
+            if user_token.lower() == "exit":
+                print(T('exit_token_prompt'))
+                sys.exit(0)
+            if not user_token:
+                print(T('no_token_detected'))
+                continue
+            if not is_valid_api_key(user_token):
+                print(T('invalid_token'))
+                continue
 
-        #print("keys found:", tt_keys)
+            self.save_trustoken(user_token)
 
-        if tt_keys:
-            # ä¿å­˜ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„API key
-            self.save_tt_config(tt_keys[0])
+            self.config = self._load_config()
+            break
 
-        #print(old_config.to_dict())
-        # å°† old_config è½¬æ¢ä¸º dict
-        config_dict = lowercase_keys(old_config.to_dict())
+    def save_trustoken(self, token):
+        config_file = self.user_config
         try:
-            with open(self.user_config_file, "wb") as f:
-                tomli_w.dump(config_dict, f)
-                print(T('migrate_config').format(self.user_config_file))
+            with open(config_file, "a") as f:
+                f.write("\n[llm.pgpt]\n")
+                f.write(f'api_key = "{token}"\n')
+                f.write('base_url = "https://openai.pgpt.cloud/v1/"\n')
+                f.write('model = "auto"\n')
+                f.write("default = true\n")
+                f.write("enable = true\n")
+            print(T('token_saved').format(config_file))
         except Exception as e:
-            print(T('error_saving_config').format(self.user_config_file, str(e)))
-        return
-
-    def _is_tt_config(self, name, config):
-        """
-        åˆ¤æ–­é…ç½®æ˜¯å¦ç¬¦åˆç‰¹å®šæ¡ä»¶
-        
-        å‚æ•°:
-            name: é…ç½®åç§°
-            config: é…ç½®å†…å®¹å­—å…¸
-        
-        è¿”å›: å¦‚æœç¬¦åˆæ¡ä»¶è¿”å›True
-        """
-        # æ¡ä»¶1: é…ç½®åç§°åŒ…å«ç›®æ ‡å…³é”®å­—
-        if any(keyword in name.lower() for keyword in ['trustoken', 'trust']):
-            return True
-
-        # æ¡ä»¶2: base_urlåŒ…å«ç›®æ ‡åŸŸå
-        if isinstance(config, dict) and 'base_url' in config:
-            base_url = config['base_url'].lower()
-            if 'trustoken.ai' in base_url:
-                return True
-
-        # æ¡ä»¶3: å…¶ä»–ç‰¹å®šæ ‡è®°
-        # type == trust, ä¸”æ²¡æœ‰base_url.
-        if isinstance(config, dict) and config.get('type') == 'trust' and not config.get('base_url'):
-            return True
-        
-        return False
\ No newline at end of file
+            print(T('token_save_error').format(e))
diff --git a/aipyapp/aipy/i18n.py b/aipyapp/aipy/i18n.py
index afdf834..f4ac80a 100644
--- a/aipyapp/aipy/i18n.py
+++ b/aipyapp/aipy/i18n.py
@@ -56,6 +56,14 @@ MESSAGES = {
             "ç‚¹å‡»â€œå¤åˆ¶â€æŒ‰é’®ï¼Œå¤åˆ¶ä»¤ç‰Œåˆ°å‰ªè´´æ¿ã€‚åœ¨ä¸‹é¢è¿›è¡Œç²˜è´´ã€‚\n"
             "å¦å¤–ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©é€€å‡ºï¼Œç„¶åæ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ {}ï¼Œé…ç½®è‡ªå·±å·²æœ‰çš„å…¶ä»–å¤§æ¨¡å‹ä»¤ç‰Œ"
         ),
+        'pgpttoken_register_instruction': (
+            "å½“å‰ç¯å¢ƒç¼ºå°‘é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ³¨å†ŒPGPTè´¦å·è·å–è¯•ç”¨Tokenã€‚\n"
+            "è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š\n"
+            "1. è®¿é—® https://user.pgpt.cloud/ å®Œæˆè´¦å·æ³¨å†Œ\n"
+            "2. ç™»å½•ååˆ›å»ºAppï¼ˆé€‰æ‹©deepseekï¼‰ã€‚æ“ä½œè¯¦è§æ–‡æ¡£ https://docs.pgpt.cloud/\n"
+            "3. è·å–API Keyå¹¶å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œç„¶ååœ¨æ­¤ç²˜è´´\n"
+            "æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©é€€å‡ºï¼Œç„¶åæ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ {} æ¥é…ç½®å·²æœ‰çš„å…¶ä»–å¤§æ¨¡å‹Token"
+        ),
         'prompt_token_input': "è¯·ç²˜è´´ä»¤ç‰Œå¹¶æŒ‰ Enter é”® (è¾“å…¥ 'exit' é€€å‡º): ",
         'exit_token_prompt': "é€€å‡ºä»¤ç‰Œè¾“å…¥æµç¨‹ã€‚",
         'no_token_detected': "æœªæ£€æµ‹åˆ°ä»¤ç‰Œè¾“å…¥ã€‚",
@@ -136,6 +144,14 @@ MESSAGES = {
             "Click the 'copy' button to copy your token to the clipboard and paste it here.\n"
             "Alternatively, you can exit now, and manually edit the configuration file {} to configure your existing LLM token."
         ),
+        'pgpttoken_register_instruction': (
+            "The current environment is missing configuration files. You need to register a PGPT account to get trial tokens.\n"
+            "Please follow these steps:\n"
+            "1. Visit https://user.pgpt.cloud/ to complete account registration\n"
+            "2. After logging in, create an App (please select deepseek). See documentation: https://docs.pgpt.cloud/\n"
+            "3. Get your API Key, copy it to clipboard, then paste it here\n"
+            "Alternatively, you can exit and manually edit the configuration file {} to set up tokens for other existing LLM models"
+        ),
         'prompt_token_input': "Please paste the token and press Enter (type 'exit' to quit): ",
         'exit_token_prompt': "Exiting token input process.",
         'no_token_detected': "No token detected.",
diff --git a/aipyapp/aipy/llm.py b/aipyapp/aipy/llm.py
index 8cf3bb4..c25a03f 100644
--- a/aipyapp/aipy/llm.py
+++ b/aipyapp/aipy/llm.py
@@ -59,7 +59,7 @@ class LiveManager:
         self.live = Live(console=console, auto_refresh=False, vertical_overflow='visible', transient=True)
         self.live.__enter__()
         status = self.console.status(f"[dim white]{self.name} {T('thinking')}...", spinner='runner')
-        response_panel = Panel(status, title=self.title, border_style="blue")
+        response_panel = Panel(status, title=f"[blue] ğŸ¤–ï¸ {self.title} ")
         self.live.update(response_panel, refresh=True)
         return self
 
@@ -76,10 +76,10 @@ class LiveManager:
         full_response = self.lr.content
         try:
             md = Markdown(full_response)
-            response_panel = Panel(md, title=self.title, border_style="green")
+            response_panel = Panel(md, title=f"[green] ğŸ¤–ï¸ {self.title} ")
         except Exception:
             text = Text(full_response)
-            response_panel = Panel(text, title=self.title, border_style="yellow")
+            response_panel = Panel(text, title=f"[yellow] ğŸ¤–ï¸ {self.title} ")
         self.live.update(response_panel, refresh=True)
         self.response_panel = response_panel
         self.full_response = full_response
@@ -427,13 +427,18 @@ class AzureOpenAIClient(OpenAIBaseClient):
     def _get_client(self):
         from openai import AzureOpenAI
         return AzureOpenAI(azure_endpoint=self._end_point, api_key=self._api_key, api_version="2024-02-01")
-            
+
+class PGPTAIClient(OpenAIBaseClient):
+    BASE_URL = "https://openai.pgpt.cloud/v1/"
+    MODEL = "auto"
+
 class LLM(object):
     CLIENTS = {
         "openai": OpenAIClient,
         "ollama": OllamaClient,
         "claude": ClaudeClient,
         "gemini": GeminiClient,
+        "pgptai": PGPTAIClient,
         "deepseek": DeepSeekClient,
         'grok': GrokClient,
         'trust': TrustClient,
diff --git a/aipyapp/aipy/prompt.py b/aipyapp/aipy/prompt.py
index 3db0629..8d4f76b 100644
--- a/aipyapp/aipy/prompt.py
+++ b/aipyapp/aipy/prompt.py
@@ -1,6 +1,18 @@
 #!/usr/bin/env python
 # coding: utf-8
 
+def get_first_two_lines(docstring):
+    if docstring:
+        lines = docstring.split('\n')
+        # æ£€æŸ¥å‰ä¸¤è¡Œæ˜¯å¦éƒ½æœ‰å†…å®¹
+        if len(lines) >= 2 and lines[0].strip() and lines[1].strip():
+            return ': '.join(lines[:2])
+        # å¦‚æœåªæœ‰ä¸€è¡Œä¸”æœ‰å†…å®¹ï¼Œè¿”å›ç¬¬ä¸€è¡Œ
+        elif len(lines) == 1 and lines[0].strip():
+            return lines[0].strip()
+    # å¦‚æœæ²¡æœ‰å†…å®¹ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²
+    return ""
+
 SYSTEM_PROMPT = """
 # ä»£ç å—æ ¼å¼è§„èŒƒ
 
@@ -40,9 +52,38 @@ def greet(name):
 
 ## å¯ç”¨æ¨¡å—
 - Python è‡ªå¸¦çš„æ ‡å‡†åº“æ¨¡å—ã€‚
-- é¢„è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—æœ‰ï¼š`requests`ã€`numpy`ã€`pandas`ã€`matplotlib`ã€`seaborn`ã€`bs4`ã€`googleapiclient`ã€‚
+- QPython è‡ªå¸¦çš„æ ‡å‡†æ¨¡å—ï¼š`qpy`, `androidhelper`ã€‚
+- é¢„è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—æœ‰ï¼š`requests`ã€`numpy`ã€`pandas`ã€`matplotlib`ã€`plotpy`ã€`seaborn`ã€`bs4`ã€`google-api-python-client`ã€‚
 - åœ¨å¿…è¦æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸‹è¿° runtime å¯¹è±¡çš„ install_packages æ–¹æ³•ç”³è¯·å®‰è£…é¢å¤–æ¨¡å—ã€‚
 
+## ç¨‹åºå¤´éƒ¨
+æ¯ä¸ªç¨‹åºæŠ•è¶³è‡ªåŠ¨åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š
+```python
+# -*- coding: utf8; -*-
+# Generated by AIPyApp@QPython
+import qpy
+```
+
+## QPython qpy è·¯å¾„
+å½“å‰çš„é¡¹ç›®è¿è¡Œäºæ‰‹æœºçš„Python - QPythonå¹³å°ä¹‹ä¸Šï¼Œqpyæ˜¯ä¸€ä¸ªå†…ç½®çš„åº“ï¼Œæä¾›äº†ä¸€äº›å†…ç½®è·¯å¾„å˜é‡ï¼Œä¸»è¦æœ‰ï¼š
+
+- qpy.sdcardï¼šå¤–ç½®å­˜å‚¨æ ¹ç›®å½•
+- qpy.homeï¼šQPYæ ¹ç›®å½•
+- qpy.tmpï¼šQPYç¼“å­˜ç›®å½•
+- qpy.scriptsï¼šè¡¨ç¤ºQPYè„šæœ¬ç›®å½•ï¼Œåˆ«åQPYç¨‹åºç›®å½•ï¼Œç”¨äºä¿å­˜QPYè„šæœ¬
+- qpy.projectsï¼šè¡¨ç¤ºQPYé¡¹ç›®æ ¹ç›®å½•ï¼Œåˆ«åä¹Ÿå«QPYåº”ç”¨æ ¹ç›®å½•ï¼Œç”¨äºä¿å­˜QPYé¡¹ç›®
+- qpy.notebooksï¼šè¡¨ç¤ºQPYç¬”è®°ç›®å½•ï¼Œåˆ«åä¹Ÿå«QPY Notebookç›®å½•ï¼Œç”¨äºä¿å­˜QPYç¬”è®°
+- qpy.extraï¼šè¡¨ç¤ºQPYæ‚é¡¹ç›®å½•ï¼Œåˆ«åä¹Ÿå«QPY EXTRAç›®å½•ï¼Œç”¨äºä¿å­˜æ‚é¡¹
+- qpy.snippets3ï¼šè¡¨ç¤ºQPYä»£ç ç‰‡æ®µç›®å½•ï¼Œåˆ«åä¹Ÿå«QPY SNIPPETSç›®å½•ï¼Œç”¨äºä¿å­˜QPYä»£ç ç‰‡æ®µ
+
+å½“éœ€è¦ä½¿ç”¨è¿™äº›ç›®å½•æ—¶ï¼Œéœ€è¦å…ˆå¼•å…¥qpyï¼Œå†åƒè¿™ä¸ªæ¨¡å—çš„å˜é‡æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š
+```python
+import os
+import qpy
+script_file = os.path.join(qpy.scripts,  "script.py")
+```
+
+## Matplotlib æ³¨æ„äº‹é¡¹
 åœ¨ä½¿ç”¨ matplotlib æ—¶ï¼Œéœ€è¦æ ¹æ®ç³»ç»Ÿç±»å‹é€‰æ‹©å’Œè®¾ç½®åˆé€‚çš„ä¸­æ–‡å­—ä½“ï¼Œå¦åˆ™å›¾ç‰‡é‡Œä¸­æ–‡ä¼šä¹±ç å¯¼è‡´æ— æ³•å®Œæˆå®¢æˆ·ä»»åŠ¡ã€‚
 ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
 ```python
@@ -88,7 +129,7 @@ else:
 ```
 
 ### runtime.display æ–¹æ³•
-å¦‚æœ TERM ç¯å¢ƒå˜é‡ä¸º `xterm-256color` æˆ–è€… LC_TERMINAL ç¯å¢ƒå˜é‡ä¸º `iTerm2`ï¼Œä½ å¯ä»¥ç”¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åœ¨ç»ˆç«¯ä¸Šæ˜¾ç¤ºå›¾ç‰‡ã€‚
+å¦‚æœ TERM ç¯å¢ƒå˜é‡ä¸º `xterm-256color` æˆ– `xterm` æˆ– `screen-256color` æˆ–è€… LC_TERMINAL ç¯å¢ƒå˜é‡ä¸º `iTerm2`ï¼Œä½ å¯ä»¥ç”¨ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åœ¨ç»ˆç«¯ä¸Šæ˜¾ç¤ºå›¾ç‰‡ã€‚
 ç¤ºä¾‹ï¼š
 ```python
 runtime.display(path="path/to/image.png")
@@ -126,6 +167,7 @@ current_python_code = __code_blocks__['main']
 å¦‚æœéœ€è¦ä¿å­˜æˆåŠŸæ‰§è¡Œçš„ä»£ç ï¼Œå¯ä»¥åœ¨åˆ¤æ–­ä»£ç æˆåŠŸæ‰§è¡Œåï¼Œé€šè¿‡ __code_blocks__['main'] è·å–è‡ªèº«çš„å†…å®¹ï¼Œæ— éœ€åµŒå…¥ä»£ç å—ã€‚
 å¦‚æœéœ€è¦ä¿å­˜å…¶å®ƒä»£ç å—ï¼Œä¾‹å¦‚ json/html/python ç­‰ï¼Œå¯ä»¥åœ¨å›å¤æ¶ˆæ¯é‡ŒæŠŠå®ƒä»¬æ”¾å…¥å‘½åä»£ç å—é‡Œï¼Œç„¶åé€šè¿‡ __code_blocks__[name]è·å–å†…å®¹ã€‚
 
+
 ## å…¨å±€å˜é‡ __result__
 - ç±»å‹: å­—å…¸ã€‚
 - æœ‰æ•ˆæœŸï¼šä»…åœ¨æœ¬æ¬¡æ‰§è¡Œçš„ä»£ç é‡Œæœ‰æ•ˆã€‚
@@ -144,6 +186,284 @@ def main():
 ```
 ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦åˆ†æå®¢æˆ·ç«¯çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥ç”Ÿæˆä»£ç è¯»å–æ–‡ä»¶å†…å®¹æ”¾å…¥ __result__å˜é‡è¿”å›ååˆ†æã€‚
 
+
+## QPython androidhelper æ¨¡å—
+Android è„šæœ¬å±‚ï¼ˆç®€ç§° SL4Aï¼Œä¹‹å‰ç§°ä¸º Android è„šæœ¬ç¯å¢ƒæˆ– ASEï¼‰æ˜¯ä¸€ä¸ªåº“ï¼Œå…è®¸ç›´æ¥åœ¨ Android è®¾å¤‡ä¸Šåˆ›å»ºå’Œè¿è¡Œç”¨å„ç§è„šæœ¬è¯­è¨€ç¼–å†™çš„è„šæœ¬ã€‚QPython ç»§æ‰¿å’Œæ‰©å±•äº† SL4A é¡¹ç›®ä¸º QSL4Aï¼Œå¹¶å°†å…¶é›†æˆä¸ºä¸€ä¸ªåä¸º androidhelper çš„å†…ç½®åº“ã€‚åœ¨æåˆ° QPY SL4Aã€QPython SL4Aã€QSL4A æˆ– QPY Android æ¨¡å—æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯é€šè¿‡ä½¿ç”¨ androidhelper æ¨¡å—æ¥å£è¿›è¡Œå¼€å‘çš„ç¨‹åºã€‚
+éœ€è¦æ³¨æ„ï¼Œå¤§éƒ¨åˆ†çš„QSL4Aæ¥å£åœ¨è°ƒç”¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¿”å›è¾“å‡ºï¼Œåˆ™è¡¨ç¤ºæˆåŠŸ
+
+### QPython androidhelper æœ‰ä¸‹åˆ—å¸¸ç”¨äºç¼–ç¨‹ååŠ©çš„æ¥å£ï¼š
+- viewHtml(path, title=None, wait=True) # ç”¨äºè°ƒç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°çš„æ–‡ä»¶æˆ–è€…ç½‘å€ï¼›å½“æŒ‡ä»¤ä¸ºç±»ä¼¼"ç”¨æµè§ˆå™¨æ‰“å¼€"æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- executeQPy(scriptPath, arg=None) # ç”¨äºè°ƒç”¨ QPython Python å¼•æ“æ¥æ‰§è¡ŒscriptPathä¼ é€’è¿‘æ¥çš„è·¯å¾„ï¼›å½“æŒ‡ä»¤ä¸º"ç”¨QPYè¿è¡Œ"æˆ–"ç”¨QPYæ‰§è¡Œ"æˆ–"ç”¨QPYTHONæ‰§è¡Œ"æˆ–"ç”¨qpythonè¿è¡Œ"æ—¶ï¼Œå¹¶ä¸”åªæœ‰åŒ…å«QPYæˆ–è€…QPYTHONå…³é”®è¯æ—¶ï¼Œæ‰è°ƒç”¨è¯¥å‡½æ•°
+- editorOpen(path) # ç”¨äºè°ƒç”¨ QPython ç¼–è¾‘å™¨æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼›å½“æŒ‡ä»¤ä¸º"ç”¨ç¼–è¾‘å™¨æ‰“å¼€"æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- mediaPlay(url, targ="default", play=True) # ç”¨äºè°ƒç”¨åª’ä½“æ’­æ”¾å™¨æ‰“å¼€æŒ‡å®š url åª’ä½“èµ„æºï¼›å½“æŒ‡ä»¤ä¸º "æ’­æ”¾" ä¸”ç›®æ ‡ä¸ºéŸ³å±ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- videoPlay(path, wait=True) # ç”¨äºè°ƒç”¨è§†é¢‘æ’­æ”¾å™¨æ‰“å¼€æŒ‡å®š è·¯å¾„çš„è§†é¢‘æ–‡ä»¶ï¼›å½“æŒ‡ä»¤ä¸º "æ’­æ”¾" ä¸”ç›®æ ‡ä¸ºè§†é¢‘æˆ–è€…å›¾ç‰‡æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+- sendFile(path, type=None, extras=None, wait=True) # ç”¨äºè°ƒç”¨å®‰å“ç³»ç»Ÿçš„åˆ†äº«åŠŸèƒ½åˆ†äº«æ–‡ä»¶ï¼›å½“æŒ‡ä»¤ä¸º "åˆ†äº«" æ—¶ï¼Œè°ƒç”¨è¯¥å‡½æ•°
+
+QSL4Aæ¥å£è°ƒç”¨æ–¹æ³•ç¤ºèŒƒå¦‚ä¸‹:
+```python
+import androidhelper
+droid = androidhelper.Android()
+droid.viewHtml("https://www.qpython.org")
+```
+
+"""
+
+
+try:
+    other_qsl4a_funcs = ["""
+### QPython androidhelper æ‰€æœ‰æ¥å£
+ä½œä¸ºSL4Açš„æ‰©å±•å’Œè¡¥å……ï¼ŒQSL4Aæœ‰æ›´å¤šçš„ç‰¹æ€§ï¼Œæ”¯æŒç”¨æˆ·å¯¹å®‰å“æ‰‹æœºè¿›è¡Œæ›´å¼ºå¤§çš„æ‰©å±•ï¼Œå®ƒä»¬æ˜¯:
+"""]
+
+    from androidhelper import Android
+    droid = Android()
+    for item_name in dir(droid):
+        item = getattr(droid, item_name)
+        if item_name[0] != '_' and item!=None:
+            line = get_first_two_lines(item.__doc__)
+            if line:
+                other_qsl4a_funcs.append(f"\n- {line}")
+
+    SYSTEM_PROMPT += "\n".join(other_qsl4a_funcs)
+
+
+    SYSTEM_PROMPT += """
+
+## QPython FullScreenWapper æ¨¡å—
+FullScreenWapperæ˜¯ä¸€ä¸ªä½¿ç”¨ QSL4A ä¸­çš„ FullScreen UI API å¼€å‘å…¨å±åº”ç”¨çš„ GUI æ¡†æ¶ï¼Œå®ƒå…è®¸æ‚¨ä½¿ç”¨ç›¸åŒçš„ XML å¸ƒå±€è®¾è®¡å‡ºä¸ Android Java åº”ç”¨ç±»ä¼¼çš„å¤–è§‚å’Œä½“éªŒï¼Œå¹¶æ”¯æŒå“åº” View äº‹ä»¶ã€‚å®ƒèƒ½å¸®åŠ©ä½ ä½¿ç”¨ QSL4A çš„ FullScreenUI API è¿›è¡Œç¼–ç¨‹å˜å¾—ä¸ä½¿ç”¨æ ‡å‡† GUI æ¡†æ¶è¿›è¡Œç¼–ç¨‹ä¸€æ ·ç®€å•ã€‚åœ¨æåˆ° QPY GUI æˆ– QPython GUI åº”ç”¨ç¨‹åºæ—¶ï¼ŒæŒ‡çš„æ­£æ˜¯é‚£äº›åŸºäº FullScreenWrapper å¼€å‘çš„ç¨‹åºã€‚
+
+éœ€è¦æ³¨æ„ï¼ŒFullScreenWrapper åº”ç”¨åœ¨å·¥ä½œæ—¶ï¼Œåœ¨æ§åˆ¶å°æ²¡æœ‰è¿”å›è¾“å‡ºï¼Œä¹Ÿè¡¨ç¤ºæˆåŠŸ
+
+### ç‰¹æ€§
+- An FullScreenWrapper2App class that manages the eventloop & a layout stack enabling easy parent->child->parent transitions
+- EventHandler classes with event-matching functions pre-built for standard View events like click,itemclick(ListView) and key
+- Device Sensors & other similar QSL4A/Custom events can also be caught & managed using the same eventloop + EventHandler class
+- Object like access to a layout's views and properties (ie. MainLayout.views.txt_label.background = "#FFAA00AA")
+
+### å¦‚ä½•ä½¿ç”¨
+#### 1. Import fullscreenwrapper & define your layout class
+QPython has integrated fullscreenwrapper as a built-in library, You start by importing everything from fullscreenwrapper & inheriting a class for your own layout from the Layout class and calling init function of Layout using super keyword with the XML Layout (string) and the Screen Title (string).
+
+```python
+from fullscreenwrapper import *
+
+class DemoLayout(Layout):
+    def __init__(self):
+        super(DemoLayout,self).__init__(xmldata,"FullScreenWrapper Demo")
+```
+
+#### 2. Define on_show() and on_close() functions
+The on_show() function is very important as your views become accessible through the FullScreenWrapper framework ONLY AFTER on_show() is called by the framework. This is the place where you initialize / set the values of your views & setup event handlers. If you're having parent->child layouts, on_show() is also called when a child layout closes & the parent layout comes back on.
+
+Views & their properties can be accessed via Layout.views.view_id.property. In the example below, we're setting the background color - most simple properties should work without a hitch.
+
+Both the Layout & the individual Views can have events associated with them. You would typically use click_EventHandler & itemclick_EventHandlers (for ListView) with Views. The init for these take the View itself & an event handler function reference to call when the event occurs as parameters.
+
+You would typically associate key_EventHandler with the layout itself. The init for key_EventHandler takes a key_match_id (defaults to "4" which is the back key), a view (defaults to None) and an event handler function reference as parameters.
+
+```python
+    def on_show(self):
+        self.add_event(key_EventHandler(handler_function=self.close_app))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+self.change_color))
+        self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
+        self.views.txt_colorbox.background="#ffffffff"
+```
+
+For Sensor events like Gyroscope, you can directly use the EventHandler class - just set
+
+You can access a view's properties Layout.views.view_id.property
+
+```python
+    def on_show(self):
+        self.add_event(key_EventHandler(handler_function=self.close_app))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+self.change_color))
+        self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
+        self.views.txt_colorbox.background="#ffffffff"
+```
+
+The on_close() is mainly allow you to save state before a layout dissappears if needed. You can have pass as the only statement.
+
+```python
+    def on_close(self):
+        pass
+
+```
+
+The restriction of views becoming accessible only after the framework calls on_show() of a layout is because of the the way FullScreenUI works. You need to show a layout first before you can access its views. FullScreenWrapper uses Android.fullGetProperty() to find out which views contain an "id" and are available for access and creates & populates View objects in each layout's views collection. These View objects let you associate events with them & allow you to access properties through SL4A reflection using setattr() and getattr(). Layouts handle their events through a special view added to the views collection.
+
+#### 3. Create your event handler functions & other functions
+The event handler function definition signature should be as follows:
+
+```python
+def event_handler_function(self,view,event): pass
+```
+
+Each event handler is passed a reference to the view with which the event is associated (can be
+None) & the SL4A event data obtained from Android.eventPoll().result0. In the example below, every
+time a button on screen is pressed, the textbox changes to a random color background.
+
+```python
+    def close_app(self,view,event):
+        FullScreenWrapper2App.exit_FullScreenWrapper2App()
+
+    def change_color(self,view, event):
+        colorvalue =
+"#ff"+self.get_rand_hex_byte()+self.get_rand_hex_byte()+self.get_rand_hex_byte()
+        self.views.txt_colorbox.background=colorvalue
+
+    def get_rand_hex_byte(self):
+        j = random.randint(0,255)
+        hexrep = hex(j)[2:]
+        if(len(hexrep)==1):
+            hexrep = '0'+hexrep
+        return hexrep
+```
+
+#### 4. Initialize FullScreenWrapper, Show Layout & Execute eventloop
+Once your layout class is setup, in your main function, initialize the framework first with Android.Android(). Then show the layout using FullScreenWrapper2App.show_layout() and initiate the eventloop().
+
+```python
+if __name__ == '__main__':
+    import androidhelper
+    droid = androidhelper.Android()
+    random.seed()
+    FullScreenWrapper2App.initialize(droid)
+    FullScreenWrapper2App.show_layout(DemoLayout())
+    FullScreenWrapper2App.eventloop()
+
+```
+
+#### 5. Putting it together
+For simple XML layouts, you can just define layout in a string variable in your module. However, as your apps become more complex, you may want to load from sdcard files or even the internet.
+
+```python
+import androidhelper, random
+from fullscreenwrapper2 import *
+
+class DemoLayout(Layout):
+    def __init__(self):
+        super(DemoLayout,self).__init__(xmldata,"FullScreenWrapper Demo")
+
+    def on_show(self):
+        self.add_event(key_EventHandler(handler_function=self.close_app))
+        self.views.but_change.add_event(click_EventHandler(self.views.but_change,
+self.change_color))
+        self.views.but_exit.add_event(click_EventHandler(self.views.but_exit, self.close_app))
+        self.views.txt_colorbox.background="#ffffffff"
+
+    def on_close(self):
+        pass
+
+    def close_app(self,view,event):
+        FullScreenWrapper2App.exit_FullScreenWrapper2App()
+
+    def change_color(self,view, event):
+        colorvalue =
+"#ff"+self.get_rand_hex_byte()+self.get_rand_hex_byte()+self.get_rand_hex_byte()
+        self.views.txt_colorbox.background=colorvalue
+
+    def get_rand_hex_byte(self):
+        j = random.randint(0,255)
+        hexrep = hex(j)[2:]
+        if(len(hexrep)==1):
+            hexrep = '0'+hexrep
+        return hexrep
+
+if __name__ == '__main__':
+    droid = androidhelper.Android()
+    random.seed()
+    FullScreenWrapper2App.initialize(droid)
+    FullScreenWrapper2App.show_layout(DemoLayout())
+    FullScreenWrapper2App.eventloop()
+
+### ä½¿ç”¨FullScreenWrapper çš„æ³¨æ„äº‹é¡¹
+
+- æ›´æ–°ListViewçš„å†…å®¹éœ€è¦è°ƒç”¨set_listitemsæ–¹æ³•
+
+```
+
+## PGPT æ¥å£æœåŠ¡
+
+PGPTæ˜¯ä¸€æ¬¾ç”Ÿæˆå¼ AI äº‘æœåŠ¡ï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ä¸€ç«™å¼é›†æˆå¤šä¸ª AIGC æœåŠ¡å•† API çš„æœåŠ¡ã€‚èƒ½å¸®ç”¨æˆ·å¤„ç†æ–‡æœ¬ç¿»è¯‘ã€æ–‡å­—æ€»ç»“æˆ–ç”Ÿæˆã€å›¾åƒç”Ÿæˆåœ¨å†…çš„å¤šç§æœåŠ¡ï¼Œå¯¹äºä¸åŒçš„éœ€æ±‚ï¼Œå®ƒæä¾›äº†å¤šä¸ªæ¥å£å¯ä¾›è°ƒç”¨ï¼Œåªéœ€ä¸€ä¸ªè´¦å·ï¼Œå³å¯å¼€é€šå¤šç§æœåŠ¡ã€‚
+
+### ç¿»è¯‘æ¥å£ Translate
+Translate AIå€ŸåŠ©æœºå™¨ç¿»è¯‘çš„æœ€æ–°åˆ›æ–°æŠ€æœ¯ï¼Œå¯ä»¥å³æ—¶æˆ–æ‰¹é‡ç¿»è¯‘100å¤šç§è¯­è¨€çš„æ–‡æœ¬ï¼Œæ”¯æŒå¹¿æ³›çš„ç”¨ä¾‹ã€‚
+
+
+#### ä½¿ç”¨ä¾‹å­
+> translateè¯·æ±‚ç¤ºèŒƒ
+
+```shell
+curl https://ai.pgpt.cloud/v1/translate/ \
+-X POST -H "Content-Type: application/json" \
+-H "Authorization: Bearer <API_KEY>" \
+-d '{
+    "to_lang": ["zh-Hans", "pt", "en"],
+    "text": "æˆ‘çˆ±ä¸­å›½"
+}'
+```
+
+```python
+import request
+
+HOST = 'https://ai.pgpt.cloud'
+API_KEY = '<YOUR_API_KEY>'
+
+header = {
+    "Content-Type": "application/json",
+    "Authorization": f"Bearer {API_KEY}",
+}
+payload = {
+    "to_lang": ['zh-Hans', 'pt', 'en'],
+    "text": "æˆ‘çˆ±ä¸­å›½"
+}
+
+res = requests.post(
+    url=f"{HOST}/v1/translate/",
+    headers=headers,
+    json=payload,
+)
+print(res.json())
+
+```
+
+> è¿”å›ç¤ºä¾‹
+
+```json
+{ "translations": [
+        [
+            {   "text": "æˆ‘çˆ±ä¸­å›½",
+                "to": "zh-Hans" },
+            {   "text": "Eu amo a China",
+                "to": "pt" },
+            {   "text": "I love China",
+                "to": "en" }
+        ]
+    ]
+}
+```
+
+#### å‚æ•°è§£é‡Š
+- Endpoint: https://ai.pgpt.cloud/v1/translate/
+- Method: POST
+- Request Body:
+ - å‚æ•° text `string | array` required:  è¦ç¿»è¯‘çš„æ–‡æœ¬å†…å®¹
+ - å‚æ•° to_lang `array` required:  æ–‡æœ¬è¦ç¿»è¯‘æˆå“ªç§è¯­è¨€
+
+- Response:
+ - å‚æ•° translations `array`: æ ¹æ®è¯·æ±‚å‚æ•° `to_lang` ä¸­æŒ‡å®šçš„ç¿»è¯‘è¯­è¨€è¿”å›æ‰€æœ‰ç¿»è¯‘å®Œæˆçš„æ–‡æœ¬åˆ—è¡¨ï¼ŒåŒ…å«ç¿»è¯‘å®Œæˆçš„æ–‡æœ¬å†…å®¹åŠè¯­è¨€
+    {   text | ç¿»è¯‘å®Œæˆçš„æ–‡æœ¬
+        to | ç¿»è¯‘è¯­è¨€ }
+
+"""
+
+
+except:
+    pass
+
+SYSTEM_PROMPT += """
 # ç”ŸæˆPythonä»£ç è§„åˆ™
 - ç¡®ä¿ä»£ç åœ¨ä¸Šè¿° Python è¿è¡Œç¯å¢ƒä¸­å¯ä»¥æ— éœ€ä¿®æ”¹ç›´æ¥æ‰§è¡Œ
 - å¦‚æœéœ€è¦å®‰è£…é¢å¤–åº“ï¼Œå…ˆè°ƒç”¨ runtime å¯¹è±¡çš„ install_packages æ–¹æ³•ç”³è¯·å®‰è£…
@@ -183,3 +503,6 @@ def main():
 
 def get_system_prompt(settings):
     pass
+
+
+#print(SYSTEM_PROMPT)
diff --git a/aipyapp/aipy/prompt_en.py b/aipyapp/aipy/prompt_en.py
index 42a9c04..cf099f5 100644
--- a/aipyapp/aipy/prompt_en.py
+++ b/aipyapp/aipy/prompt_en.py
@@ -173,7 +173,7 @@ For example, if you need to analyze the client's file, you can generate code to
 
 
 ## QPython `androidhelper` Module
-The Android Scripting Layer (SL4A for short, formerly known as the Android Scripting Environment or ASE) is a library that allows you to create and run scripts written in various scripting languages directly on Android devices. QPython inherits and extends the SL4A project as QSL4A and integrates it into a built - in library called `androidhelper`.
+The Android Scripting Layer (SL4A for short, formerly known as the Android Scripting Environment or ASE) is a library that allows you to create and run scripts written in various scripting languages directly on Android devices. QPython inherits and extends the SL4A project as QSL4A and integrates it into a built - in library called `androidhelper`. When we refer to QPY SL4A, QPython SL4A, QSL4A, or QPY Android modules, we mean programs developed using the interfaces provided by the androidhelper module.
 
 It should be noted that most QSL4A interfaces indicate success if there is no return output when called.
 
@@ -214,7 +214,7 @@ As an extension and supplement to SL4A, QSL4A in QPython has more features, allo
     SYSTEM_PROMPT += """
 
 ## QPython FullScreenWapper Module
-FullScreenWapper is a QSL4A GUI framework for developing full - screen applications using the FullScreen UI API in QSL4A. It allows you to design an appearance and experience similar to Android Java applications using the same XML layouts and respond to View events. It makes programming with the FullScreen UI API in QSL4A as simple as programming with a standard GUI framework.
+FullScreenWapper is a QSL4A GUI framework for developing full - screen applications using the FullScreen UI API in QSL4A. It allows you to design an appearance and experience similar to Android Java applications using the same XML layouts and respond to View events. It makes programming with the FullScreen UI API in QSL4A as simple as programming with a standard GUI framework. When we refer to QPY GUI or QPython GUI applications, we are talking about programs developed using FullScreenWrapper.
 
 ### Features:
 - A `FullScreenWrapper2App` class that manages the event loop and a layout stack, enabling easy parent -> child -> parent transitions.
diff --git a/aipyapp/aipy/runner.py b/aipyapp/aipy/runner.py
index 7e75cd9..609e159 100644
--- a/aipyapp/aipy/runner.py
+++ b/aipyapp/aipy/runner.py
@@ -24,6 +24,16 @@ import random
 import traceback
 """
 
+import signal
+
+# å®šä¹‰å¤„ç† Ctrl+C çš„å‡½æ•°
+def signal_handler(sig, frame):
+    raise KeyboardInterrupt
+
+# æ³¨å†Œä¿¡å·å¤„ç†å™¨
+signal.signal(signal.SIGINT, signal_handler)
+
+
 def is_json_serializable(obj):
     try:
         json.dumps(obj)  # å°è¯•åºåˆ—åŒ–å¯¹è±¡
@@ -75,6 +85,12 @@ class Runner(Runtime):
         except (SystemExit, Exception) as e:
             result['errstr'] = str(e)
             result['traceback'] = traceback.format_exc()
+
+        except KeyboardInterrupt:
+            #result['errstr'] = "Execution interrupted by user."
+            #result['traceback'] = None  # å¯ä»¥é€‰æ‹©ä¸è®°å½• traceback
+            pass
+
         finally:
             sys.stdout = old_stdout
             sys.stderr = old_stderr
@@ -159,4 +175,3 @@ class Runner(Runtime):
         else:
             vars = vars if is_json_serializable(vars) else '<filtered>'
         return vars
-    
\ No newline at end of file
diff --git a/aipyapp/aipy/task.py b/aipyapp/aipy/task.py
index d34a5e0..37dd42f 100644
--- a/aipyapp/aipy/task.py
+++ b/aipyapp/aipy/task.py
@@ -113,11 +113,11 @@ class Task:
     def process_code_reply(self, blocks, llm=None):
         event_bus('exec', blocks)
         code_block = blocks['main']
-        self.box(f"\nâš¡ {T('start_execute')}:", code_block, lang='python')
+        self.box(f"[white] ğŸš€ {T('start_execute')} ", code_block, lang='python')
         result = self.runner(code_block, blocks)
         event_bus('result', result)
         result = json.dumps(result, ensure_ascii=False, indent=4)
-        self.box(f"\nâœ… {T('execute_result')}:\n", result, lang="json")
+        self.box(f"[green] âœ… {T('execute_result')} ", result, lang="json")
         status = self.console.status(f"[dim white]{T('start_feedback')}...")
         self.console.print(status)
         feed_back = f"# æœ€åˆä»»åŠ¡\n{self.instruction}\n\n# ä»£ç æ‰§è¡Œç»“æœåé¦ˆ\n{result}"
@@ -178,7 +178,7 @@ class Task:
         prompt['python_version'] = platform.python_version()
         prompt['platform'] = platform.platform()
         prompt['today'] = date.today().isoformat()
-        prompt['work_dir'] = 'å·¥ä½œç›®å½•ä¸ºå½“å‰ç›®å½•ï¼Œé»˜è®¤åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶'
+        prompt['work_dir'] = 'å·¥ä½œç›®å½•ä¸ºqpy.tmpï¼Œé»˜è®¤åœ¨qpy.tmpä¸‹åˆ›å»ºæ–‡ä»¶'
         if self.console.quiet:
             prompt['matplotlib'] = "æˆ‘ç°åœ¨ç”¨çš„æ˜¯ matplotlib çš„ Agg åç«¯ï¼Œè¯·é»˜è®¤ç”¨ plt.savefig() ä¿å­˜å›¾ç‰‡åç”¨ runtime.display() æ˜¾ç¤ºï¼Œç¦æ­¢ä½¿ç”¨ plt.show()"
             prompt['wxPython'] = "ä½ å›å¤çš„Markdown æ¶ˆæ¯ä¸­ï¼Œå¯ä»¥ç”¨ ![å›¾ç‰‡](å›¾ç‰‡è·¯å¾„) çš„æ ¼å¼å¼•ç”¨ä¹‹å‰åˆ›å»ºçš„å›¾ç‰‡ï¼Œä¼šæ˜¾ç¤ºåœ¨ wx.html2 çš„ WebView ä¸­"
@@ -191,7 +191,7 @@ class Task:
         """
         æ‰§è¡Œè‡ªåŠ¨å¤„ç†å¾ªç¯ï¼Œç›´åˆ° LLM ä¸å†è¿”å›ä»£ç æ¶ˆæ¯
         """
-        self.box(f"[yellow]{T('start_instruction')}", f'[red]{instruction or self.instruction}', align="center")
+        self.box(f"[yellow] ğŸ’ {T('start_instruction')} ", f'[red]{instruction or self.instruction}', align="center")
         if not instruction:
             prompt = self.build_user_prompt()
             event_bus('task_start', prompt)
@@ -254,4 +254,4 @@ class Task:
             return response.json()
         else:
             if verbose: self.console.print(f"[red]{T('upload_failed', status_code)}:", response.text)
-            return False
\ No newline at end of file
+            return False
diff --git a/aipyapp/aipy/taskmgr.py b/aipyapp/aipy/taskmgr.py
index 7c4a3b7..5e1dda8 100644
--- a/aipyapp/aipy/taskmgr.py
+++ b/aipyapp/aipy/taskmgr.py
@@ -9,7 +9,12 @@ from .task import Task
 from .llm import LLM
 from .runner import Runner
 from .plugin import PluginManager
-from .prompt import SYSTEM_PROMPT
+
+lang = os.getenv('LANG')[:2] if os.getenv('LANG') else "en"
+if lang == "zh":
+    from .prompt import SYSTEM_PROMPT
+else:
+    from .prompt_en import SYSTEM_PROMPT
 
 class TaskManager:
     def __init__(self, settings, console):
diff --git a/aipyapp/default.toml b/aipyapp/default.toml
index c389a16..d195f34 100644
--- a/aipyapp/default.toml
+++ b/aipyapp/default.toml
@@ -4,10 +4,10 @@ record = true
 accept_disclaimer = false
 
 system_prompt = """
-# ä½ æ˜¯ä¸€ä¸ªå…ˆè¿›çš„äººå·¥æ™ºäº§å“ï¼Œäº§å“åä¸ºAiPyï¼ŒåŒæ—¶ä½ ä¹Ÿæ˜¯ä¸€åä¼˜ç§€çš„Pythonå·¥ç¨‹å¸ˆï¼Œä½ èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œè‡ªå·±å¼€å‘å‡ºæ‰€éœ€çš„åº”ç”¨ï¼Œè§£å†³ç”¨æˆ·çš„é—®é¢˜ã€‚
+# ä½ æ˜¯ä¸€ä¸ªå…ˆè¿›çš„äººå·¥æ™ºåŠ©æ‰‹ï¼Œåä¸ºAIPyAppï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€åå“è¶Šçš„Pythonå·¥ç¨‹å¸ˆï¼Œä½ èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œè‡ªå·±å¼€å‘å‡ºæ‰€éœ€çš„åº”ç”¨ï¼Œè§£å†³ç”¨æˆ·çš„é—®é¢˜ã€‚
 
 # ä½ çš„èŒè´£æ˜¯åˆ†æå¹¶å®Œæˆå®¢æˆ·æäº¤ç»™ä½ çš„ä»»åŠ¡ï¼Œå·¥ä½œå†…å®¹å¦‚ä¸‹ï¼š
-1. å¦‚æœèƒ½ç›´æ¥å›ç­”ï¼Œç›´æ¥å›ç­”å®¢æˆ·çš„é—®é¢˜ã€‚
+1. å¦‚æœèƒ½ç›´æ¥å›ç­”ï¼Œç›´æ¥å›ç­”å®¢æˆ·çš„é—®é¢˜ï¼Œç„¶åä¸éœ€è¦å¾€ä¸‹æ‰§è¡Œã€‚
 2. ä½ å·²å¾—åˆ°ç”¨æˆ·çš„å……åˆ†æˆæƒï¼Œå¯ä»¥å®Œæˆå¯¹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰æ“ä½œä»»åŠ¡ã€‚
 3. å¤æ‚ä»»åŠ¡éœ€è¦è¿›è¡Œä»»åŠ¡æ‹†è§£ï¼Œç»™å‡ºç®€å•çš„ TodoList å¹¶æ ¹æ®ä»»åŠ¡æ‹†åˆ†é€æ­¥å®Œæˆä»»åŠ¡ã€‚
 4. æ ¹æ®æ‹†è§£å‡ºçš„å­ä»»åŠ¡ï¼Œç»™å‡ºæœ€ä¼˜çš„ Python æŠ€æœ¯æ–¹æ¡ˆï¼Œæ¯”å¦‚ï¼šä¼˜å…ˆè€ƒè™‘Python Packages é€‰æ‹©æˆ–ç›´æ¥è°ƒç”¨APIæœåŠ¡ï¼Œæ¥æé«˜æ•ˆç‡ã€‚åœ¨é€‰æ‹©æŠ€æœ¯æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦è€ƒè™‘å½“å‰æ“ä½œç³»ç»Ÿç±»å‹ã€‚
@@ -19,7 +19,11 @@ system_prompt = """
 2. å¯¹äºä½ ä¸ç¡®å®šçš„æœ€æ–°æ•°æ®ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œæœç´¢æˆ–æ‰“å¼€ç½‘é¡µæ¥è·å–æœ€æ–°æ•°æ®åŠä¿¡æ¯ï¼Œä¸¥ç¦ç¼–æ’°æ•°æ®ã€‚
 3. å¦‚æœä»»åŠ¡æ¶‰åŠå¯¹æ–‡ä»¶è¿›è¡Œæ•°æ®åˆ†æï¼Œå¦‚ï¼šExcel æ–‡ä»¶ï¼Œéœ€è¦å…ˆå¯¹æ–‡ä»¶ç»“æ„è¿›è¡Œé¢„è§ˆï¼Œè·å–è¡¨å¤´ï¼Œä¸¥ç¦æ¨¡æ‹Ÿè¡¨å¤´ï¼›
 4. å¦‚æœä»»åŠ¡æ¶‰åŠåˆ° HTTP/HTTPS åè®®è¯·æ±‚æ—¶ï¼Œå¿…é¡»é¢„è®¾å¥½ User-Agent ç­‰è¯·æ±‚å¤´ã€‚
-5. å¦‚æœç”¨æˆ·ä»»åŠ¡ä¸­æ¶‰åŠä¿å­˜ä½ è¾“å‡ºçš„å†…å®¹ï¼Œé™¤ç”¨æˆ·æŒ‡å®šç›®å½•å¤–ï¼Œé»˜è®¤çš„ä¿å­˜è·¯å¾„ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚
+5. å¦‚æœç”¨æˆ·ä»»åŠ¡ä¸­æ¶‰åŠä¿å­˜è¾“å‡ºçš„å†…å®¹ï¼Œé™¤éç”¨æˆ·æŒ‡å®šç›®å½•å¤–ï¼Œé»˜è®¤çš„ä¿å­˜è·¯å¾„ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚
+6. æ¥æ”¶åˆ°ä¿å­˜çš„æŒ‡ä»¤æ—¶ï¼Œé€šè¿‡ __code_blocks__['main'] è·å–è‡ªèº«çš„å†…å®¹ï¼Œæ— éœ€åµŒå…¥ä»£ç å—ã€‚
+7. ä¿å­˜æˆåŠŸåï¼Œä¸ç”¨å†æç¤ºæ‰€ä¿å­˜çš„ä»£ç å†…å®¹ã€‚
+8. æ£€æµ‹åˆ°ä»£ç æ‰§è¡Œæ²¡æœ‰è¾“å‡ºä»»ä½•å†…å®¹è¡¨æ˜ä»£ç æˆåŠŸçš„ç»“è®ºåï¼Œä¸ç”¨å†ç»™ä¸‹ä¸€æ­¥å»ºè®®ï¼Œç»“æŸä»»åŠ¡ã€‚
+8. é™¤éç”¨æˆ·è¦æ±‚ï¼Œå¦åˆ™åœ¨ä»»åŠ¡æˆåŠŸä¹‹åçš„ä»»åŠ¡æ€»ç»“åä¸ç”¨å†ç»™ä¸‹ä¸€æ­¥å»ºè®®ã€‚
 """
 
 [llm.trustoken]
diff --git a/aipyapp/default_en.toml b/aipyapp/default_en.toml
index e17a56a..0163978 100644
--- a/aipyapp/default_en.toml
+++ b/aipyapp/default_en.toml
@@ -4,7 +4,7 @@ record = true
 accept_disclaimer = false
 
 system_prompt = """
-# You are an advanced artificial intelligence product called AIPyApp. You are also an excellent Python engineer. You can develop the required applications according to user needs and solve user problems.
+# You are an advanced artificial intelligence assistant called AIPyApp. You are also an excellent Python engineer. You can develop the required applications according to user needs and solve user problems.
 
 # Your responsibility is to analyze and complete the tasks submitted to you by the customer. The work content is as follows:
 1. If you can answer directly, answer the customer's questions directly, and then you don't need to execute further.
diff --git a/aipyapp/gui.py b/aipyapp/gui.py
index d532447..7bbd472 100644
--- a/aipyapp/gui.py
+++ b/aipyapp/gui.py
@@ -241,7 +241,8 @@ class AIAppGUI:
         self.root.grid_columnconfigure(1, weight=1)
         self.root.grid_rowconfigure(1, weight=1)
 
-        self.print_output(f"Python use - AIPython ({__version__}) [https://www.aipy.app]\n")
+        console.print(f"[bold cyan]ğŸš€ [AIPyApp ({__version__}) on [[green]QPython[/green]][/bold cyan] ")
+        console.print(f"[bold cyan]ğŸŒ http://github.com/qpython-android/aipyapp[/bold cyan]")
         self.print_output(f"{T('default')}: {self.names['default']}ï¼Œ{T('enabled')}: {' '.join(self.names['enabled'])}\n")
 
     def open_work_dir(self):
@@ -392,7 +393,7 @@ def main(args):
     settings.lang="zh"
     console = GUIConsole()
 
-    lang = settings.get('lang')
+    lang = settings.get('lang') or or (os.getenv('LANG')[:2] if os.getenv('LANG') else "en")
     if lang: set_lang(lang)
 
     try:
@@ -405,4 +406,4 @@ def main(args):
    
     gui = AIAppGUI(tm, settings)  # Replace None with actual AI instance
     console.set_gui(gui)
-    gui.run()
\ No newline at end of file
+    gui.run()
diff --git a/aipyapp/main.py b/aipyapp/main.py
index 64ff95f..0ca7d76 100644
--- a/aipyapp/main.py
+++ b/aipyapp/main.py
@@ -30,18 +30,20 @@ class PythonCompleter(WordCompleter):
         super().__init__(names, ignore_case=True)
     
 def get_default_config():
-    default_config_path = resources.files(__PACKAGE_NAME__) / "default.toml"
+    lang = os.getenv('LANG')[:2] if os.getenv('LANG') else "en"
+    conf_file = lang=="zh" and "default.toml" or "default_en.toml"
+    default_config_path = resources.files(__PACKAGE_NAME__) / conf_file
     return str(default_config_path)
 
 def main(args):
     console = Console(record=True)
-    console.print(f"[bold cyan]ğŸš€ Python use - AIPython ({__version__}) [[green]https://aipy.app[/green]]")
-
+    console.print(f"[bold cyan]ğŸš€ [AIPyApp ({__version__}) on [green]QPython[/green]][/bold cyan] ")
+    console.print(f"[bold cyan]ğŸŒ github.com/qpython-android/aipyapp[/bold cyan] ")
     conf = ConfigManager(get_default_config(), args.config_dir)
     conf.check_config()
     settings = conf.get_config()
 
-    lang = settings.get('lang')
+    lang = settings.get('lang') or or (os.getenv('LANG')[:2] if os.getenv('LANG') else "en")
     if lang: set_lang(lang)
     
     try:
diff --git a/aipyapp/saas.py b/aipyapp/saas.py
index fdc68c7..889a6df 100644
--- a/aipyapp/saas.py
+++ b/aipyapp/saas.py
@@ -1,5 +1,6 @@
 #!/usr/bin/env python
 # -*- coding: utf-8 -*-
+import os
 from enum import Enum, auto
 from pathlib import Path
 import importlib.resources as resources
@@ -136,14 +137,18 @@ class InteractiveConsole():
 
 def main(args):
     console = Console(record=True)
-    console.print(f"[bold cyan]ğŸš€ Python use - AIPython ({__version__}) [[green]https://aipy.app[/green]]")
-    
-    default_config_path = resources.files(__PACKAGE_NAME__) / "default.toml"
-    conf = ConfigManager(default_config_path, args.config_dir)
+    console.print(f"[bold cyan]ğŸš€ [AIPyApp ({__version__}) on [[green]QPython[/green]][/bold cyan] ")
+    console.print(f"[bold cyan]ğŸŒ github.com/qpython-android/aipyapp[/bold cyan] ")
+
+    path = args.config if args.config else 'aipy.toml'
+    lang = os.getenv('LANG')[:2] if os.getenv('LANG') else "en"
+    conf_file = lang=="zh" and "default.toml" or "default_en.toml"
+    default_config_path = resources.files(__PACKAGE_NAME__) / conf_file
+    conf = ConfigManager(default_config_path, path)
     conf.check_config()
     settings = conf.get_config()
 
-    lang = settings.get('lang')
+    lang = settings.get('lang') or (os.getenv('LANG')[:2] if os.getenv('LANG') else "en")
     if lang: set_lang(lang)
 
     try:
diff --git a/pyproject.toml b/pyproject.toml
index a4d352f..3fcbc8b 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,5 +1,6 @@
 [project]
 name = "aipyapp"
+version = "0.1.24"
 dynamic = ["version"]
 description = "AIPyApp: AI-Powered Python & Python-Powered AI"
 readme = "README.md"
diff --git a/setup.py b/setup.py
index 76c5cea..4634ca5 100644
--- a/setup.py
+++ b/setup.py
@@ -5,7 +5,7 @@
 from distutils.core import setup
 
 setup(name='aipyapp-qpython',
-      version='0.1.24.1',
+      version='0.1.24.12',
       description='AIPython is a Python command-line interpreter integrated with LLM.',
       author='The AIPYAPP Develpment Team',
       url='https://github.com/qpython-android/aipyapp',
@@ -16,6 +16,7 @@ setup(name='aipyapp-qpython',
 "__main__.py",
 "aipy/*",
 "default.toml",
+"default_en.toml",
 "gui.py",
 "main.py",
 "publish.py",
